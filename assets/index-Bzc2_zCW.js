(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();function Gp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ou={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Gy(){if(sm)return ll;sm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(a,c,d){var p=null;if(d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:n,type:a,key:p,ref:c!==void 0?c:null,props:d}}return ll.Fragment=e,ll.jsx=o,ll.jsxs=o,ll}var um;function Hy(){return um||(um=1,Ou.exports=Gy()),Ou.exports}var _=Hy(),Ju={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function qy(){if(rm)return ye;rm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function E(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function B(M,k,K){this.props=M,this.context=k,this.refs=V,this.updater=K||N}B.prototype.isReactComponent={},B.prototype.setState=function(M,k){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,k,"setState")},B.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=B.prototype;function P(M,k,K){this.props=M,this.context=k,this.refs=V,this.updater=K||N}var Y=P.prototype=new $;Y.constructor=P,L(Y,B.prototype),Y.isPureReactComponent=!0;var X=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function le(M,k,K,O,ie,Me){return K=Me.ref,{$$typeof:n,type:M,key:k,ref:K!==void 0?K:null,props:Me}}function ue(M,k){return le(M.type,k,void 0,void 0,void 0,M.props)}function W(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function me(M){var k={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(K){return k[K]})}var re=/\/+/g;function _e(M,k){return typeof M=="object"&&M!==null&&M.key!=null?me(""+M.key):k.toString(36)}function Ke(){}function pt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ke,Ke):(M.status="pending",M.then(function(k){M.status==="pending"&&(M.status="fulfilled",M.value=k)},function(k){M.status==="pending"&&(M.status="rejected",M.reason=k)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ve(M,k,K,O,ie){var Me=typeof M;(Me==="undefined"||Me==="boolean")&&(M=null);var pe=!1;if(M===null)pe=!0;else switch(Me){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(M.$$typeof){case n:case e:pe=!0;break;case v:return pe=M._init,ve(pe(M._payload),k,K,O,ie)}}if(pe)return ie=ie(M),pe=O===""?"."+_e(M,0):O,X(ie)?(K="",pe!=null&&(K=pe.replace(re,"$&/")+"/"),ve(ie,k,K,"",function(Bt){return Bt})):ie!=null&&(W(ie)&&(ie=ue(ie,K+(ie.key==null||M&&M.key===ie.key?"":(""+ie.key).replace(re,"$&/")+"/")+pe)),k.push(ie)),1;pe=0;var dt=O===""?".":O+":";if(X(M))for(var Ge=0;Ge<M.length;Ge++)O=M[Ge],Me=dt+_e(O,Ge),pe+=ve(O,k,K,Me,ie);else if(Ge=E(M),typeof Ge=="function")for(M=Ge.call(M),Ge=0;!(O=M.next()).done;)O=O.value,Me=dt+_e(O,Ge++),pe+=ve(O,k,K,Me,ie);else if(Me==="object"){if(typeof M.then=="function")return ve(pt(M),k,K,O,ie);throw k=String(M),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return pe}function U(M,k,K){if(M==null)return M;var O=[],ie=0;return ve(M,O,"","",function(Me){return k.call(K,Me,ie++)}),O}function F(M){if(M._status===-1){var k=M._result;k=k(),k.then(function(K){(M._status===0||M._status===-1)&&(M._status=1,M._result=K)},function(K){(M._status===0||M._status===-1)&&(M._status=2,M._result=K)}),M._status===-1&&(M._status=0,M._result=k)}if(M._status===1)return M._result.default;throw M._result}var ne=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function he(){}return ye.Children={map:U,forEach:function(M,k,K){U(M,function(){k.apply(this,arguments)},K)},count:function(M){var k=0;return U(M,function(){k++}),k},toArray:function(M){return U(M,function(k){return k})||[]},only:function(M){if(!W(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ye.Component=B,ye.Fragment=o,ye.Profiler=c,ye.PureComponent=P,ye.StrictMode=a,ye.Suspense=y,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ye.__COMPILER_RUNTIME={__proto__:null,c:function(M){return z.H.useMemoCache(M)}},ye.cache=function(M){return function(){return M.apply(null,arguments)}},ye.cloneElement=function(M,k,K){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var O=L({},M.props),ie=M.key,Me=void 0;if(k!=null)for(pe in k.ref!==void 0&&(Me=void 0),k.key!==void 0&&(ie=""+k.key),k)!oe.call(k,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&k.ref===void 0||(O[pe]=k[pe]);var pe=arguments.length-2;if(pe===1)O.children=K;else if(1<pe){for(var dt=Array(pe),Ge=0;Ge<pe;Ge++)dt[Ge]=arguments[Ge+2];O.children=dt}return le(M.type,ie,void 0,void 0,Me,O)},ye.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:d,_context:M},M},ye.createElement=function(M,k,K){var O,ie={},Me=null;if(k!=null)for(O in k.key!==void 0&&(Me=""+k.key),k)oe.call(k,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(ie[O]=k[O]);var pe=arguments.length-2;if(pe===1)ie.children=K;else if(1<pe){for(var dt=Array(pe),Ge=0;Ge<pe;Ge++)dt[Ge]=arguments[Ge+2];ie.children=dt}if(M&&M.defaultProps)for(O in pe=M.defaultProps,pe)ie[O]===void 0&&(ie[O]=pe[O]);return le(M,Me,void 0,void 0,null,ie)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(M){return{$$typeof:h,render:M}},ye.isValidElement=W,ye.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:F}},ye.memo=function(M,k){return{$$typeof:g,type:M,compare:k===void 0?null:k}},ye.startTransition=function(M){var k=z.T,K={};z.T=K;try{var O=M(),ie=z.S;ie!==null&&ie(K,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(he,ne)}catch(Me){ne(Me)}finally{z.T=k}},ye.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ye.use=function(M){return z.H.use(M)},ye.useActionState=function(M,k,K){return z.H.useActionState(M,k,K)},ye.useCallback=function(M,k){return z.H.useCallback(M,k)},ye.useContext=function(M){return z.H.useContext(M)},ye.useDebugValue=function(){},ye.useDeferredValue=function(M,k){return z.H.useDeferredValue(M,k)},ye.useEffect=function(M,k,K){var O=z.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return O.useEffect(M,k)},ye.useId=function(){return z.H.useId()},ye.useImperativeHandle=function(M,k,K){return z.H.useImperativeHandle(M,k,K)},ye.useInsertionEffect=function(M,k){return z.H.useInsertionEffect(M,k)},ye.useLayoutEffect=function(M,k){return z.H.useLayoutEffect(M,k)},ye.useMemo=function(M,k){return z.H.useMemo(M,k)},ye.useOptimistic=function(M,k){return z.H.useOptimistic(M,k)},ye.useReducer=function(M,k,K){return z.H.useReducer(M,k,K)},ye.useRef=function(M){return z.H.useRef(M)},ye.useState=function(M){return z.H.useState(M)},ye.useSyncExternalStore=function(M,k,K){return z.H.useSyncExternalStore(M,k,K)},ye.useTransition=function(){return z.H.useTransition()},ye.version="19.1.1",ye}var cm;function dr(){return cm||(cm=1,Ju.exports=qy()),Ju.exports}var ge=dr();const ky=Gp(ge);var $u={exports:{}},al={},Ku={exports:{}},Xu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Py(){return fm||(fm=1,function(n){function e(U,F){var ne=U.length;U.push(F);e:for(;0<ne;){var he=ne-1>>>1,M=U[he];if(0<c(M,F))U[he]=F,U[ne]=M,ne=he;else break e}}function o(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var F=U[0],ne=U.pop();if(ne!==F){U[0]=ne;e:for(var he=0,M=U.length,k=M>>>1;he<k;){var K=2*(he+1)-1,O=U[K],ie=K+1,Me=U[ie];if(0>c(O,ne))ie<M&&0>c(Me,O)?(U[he]=Me,U[ie]=ne,he=ie):(U[he]=O,U[K]=ne,he=K);else if(ie<M&&0>c(Me,ne))U[he]=Me,U[ie]=ne,he=ie;else break e}}return F}function c(U,F){var ne=U.sortIndex-F.sortIndex;return ne!==0?ne:U.id-F.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var p=Date,h=p.now();n.unstable_now=function(){return p.now()-h}}var y=[],g=[],v=1,C=null,E=3,N=!1,L=!1,V=!1,B=!1,$=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function X(U){for(var F=o(g);F!==null;){if(F.callback===null)a(g);else if(F.startTime<=U)a(g),F.sortIndex=F.expirationTime,e(y,F);else break;F=o(g)}}function z(U){if(V=!1,X(U),!L)if(o(y)!==null)L=!0,oe||(oe=!0,_e());else{var F=o(g);F!==null&&ve(z,F.startTime-U)}}var oe=!1,le=-1,ue=5,W=-1;function me(){return B?!0:!(n.unstable_now()-W<ue)}function re(){if(B=!1,oe){var U=n.unstable_now();W=U;var F=!0;try{e:{L=!1,V&&(V=!1,P(le),le=-1),N=!0;var ne=E;try{t:{for(X(U),C=o(y);C!==null&&!(C.expirationTime>U&&me());){var he=C.callback;if(typeof he=="function"){C.callback=null,E=C.priorityLevel;var M=he(C.expirationTime<=U);if(U=n.unstable_now(),typeof M=="function"){C.callback=M,X(U),F=!0;break t}C===o(y)&&a(y),X(U)}else a(y);C=o(y)}if(C!==null)F=!0;else{var k=o(g);k!==null&&ve(z,k.startTime-U),F=!1}}break e}finally{C=null,E=ne,N=!1}F=void 0}}finally{F?_e():oe=!1}}}var _e;if(typeof Y=="function")_e=function(){Y(re)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,pt=Ke.port2;Ke.port1.onmessage=re,_e=function(){pt.postMessage(null)}}else _e=function(){$(re,0)};function ve(U,F){le=$(function(){U(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(U){switch(E){case 1:case 2:case 3:var F=3;break;default:F=E}var ne=E;E=F;try{return U()}finally{E=ne}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=E;E=U;try{return F()}finally{E=ne}},n.unstable_scheduleCallback=function(U,F,ne){var he=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,U){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ne+M,U={id:v++,callback:F,priorityLevel:U,startTime:ne,expirationTime:M,sortIndex:-1},ne>he?(U.sortIndex=ne,e(g,U),o(y)===null&&U===o(g)&&(V?(P(le),le=-1):V=!0,ve(z,ne-he))):(U.sortIndex=M,e(y,U),L||N||(L=!0,oe||(oe=!0,_e()))),U},n.unstable_shouldYield=me,n.unstable_wrapCallback=function(U){var F=E;return function(){var ne=E;E=F;try{return U.apply(this,arguments)}finally{E=ne}}}}(Xu)),Xu}var dm;function By(){return dm||(dm=1,Ku.exports=Py()),Ku.exports}var Qu={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function zy(){if(mm)return ct;mm=1;var n=dr();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,g,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:y,containerInfo:g,implementation:v}}var p=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ct.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return d(y,g,null,v)},ct.flushSync=function(y){var g=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=g,a.p=v,a.d.f()}},ct.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},ct.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ct.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,C=h(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:C,integrity:E,fetchPriority:N}):v==="script"&&a.d.X(y,{crossOrigin:C,integrity:E,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ct.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},ct.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,C=h(v,g.crossOrigin);a.d.L(y,v,{crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ct.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=h(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},ct.requestFormReset=function(y){a.d.r(y)},ct.unstable_batchedUpdates=function(y,g){return y(g)},ct.useFormState=function(y,g,v){return p.H.useFormState(y,g,v)},ct.useFormStatus=function(){return p.H.useHostTransitionStatus()},ct.version="19.1.1",ct}var pm;function Yy(){if(pm)return Qu.exports;pm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qu.exports=zy(),Qu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function Fy(){if(gm)return al;gm=1;var n=By(),e=dr(),o=Yy();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function p(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(d(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=d(t),i===null)throw Error(a(188));return i!==t?null:t}for(var l=t,r=i;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(r=f.return,r!==null){l=r;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return h(f),t;if(m===r)return h(f),i;m=m.sibling}throw Error(a(188))}if(l.return!==r.return)l=f,r=m;else{for(var T=!1,S=f.child;S;){if(S===l){T=!0,l=f,r=m;break}if(S===r){T=!0,r=f,l=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===l){T=!0,l=m,r=f;break}if(S===r){T=!0,r=m,l=f;break}S=S.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==r)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function _e(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Symbol.for("react.client.reference");function pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ke?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case B:return"Profiler";case V:return"StrictMode";case z:return"Suspense";case oe:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case Y:return(t.displayName||"Context")+".Provider";case P:return(t._context.displayName||"Context")+".Consumer";case X:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case le:return i=t.displayName||null,i!==null?i:pt(t.type)||"Memo";case ue:i=t._payload,t=t._init;try{return pt(t(i))}catch{}}return null}var ve=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},he=[],M=-1;function k(t){return{current:t}}function K(t){0>M||(t.current=he[M],he[M]=null,M--)}function O(t,i){M++,he[M]=t.current,t.current=i}var ie=k(null),Me=k(null),pe=k(null),dt=k(null);function Ge(t,i){switch(O(pe,i),O(Me,t),O(ie,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Vd(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Vd(i),t=Gd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ie),O(ie,t)}function Bt(){K(ie),K(Me),K(pe)}function ui(t){t.memoizedState!==null&&O(dt,t);var i=ie.current,l=Gd(i,t.type);i!==l&&(O(Me,t),O(ie,l))}function ri(t){Me.current===t&&(K(ie),K(Me)),dt.current===t&&(K(dt),el._currentValue=ne)}var ci=Object.prototype.hasOwnProperty,te=n.unstable_scheduleCallback,Te=n.unstable_cancelCallback,J=n.unstable_shouldYield,fe=n.unstable_requestPaint,ee=n.unstable_now,ae=n.unstable_getCurrentPriorityLevel,xe=n.unstable_ImmediatePriority,Xe=n.unstable_UserBlockingPriority,Fe=n.unstable_NormalPriority,qn=n.unstable_LowPriority,fn=n.unstable_IdlePriority,fi=n.log,so=n.unstable_setDisableYieldValue,kn=null,ot=null;function dn(t){if(typeof fi=="function"&&so(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(kn,t)}catch{}}var Ct=Math.clz32?Math.clz32:Eg,Cg=Math.log,Sg=Math.LN2;function Eg(t){return t>>>=0,t===0?32:31-(Cg(t)/Sg|0)|0}var cl=256,fl=4194304;function Pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dl(t,i,l){var r=t.pendingLanes;if(r===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var S=r&134217727;return S!==0?(r=S&~m,r!==0?f=Pn(r):(T&=S,T!==0?f=Pn(T):l||(l=S&~t,l!==0&&(f=Pn(l))))):(S=r&~m,S!==0?f=Pn(S):T!==0?f=Pn(T):l||(l=r&~t,l!==0&&(f=Pn(l)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,l=i&-i,m>=l||m===32&&(l&4194048)!==0)?i:f}function uo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ag(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(){var t=cl;return cl<<=1,(cl&4194048)===0&&(cl=256),t}function vr(){var t=fl;return fl<<=1,(fl&62914560)===0&&(fl=4194304),t}function La(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function ro(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _g(t,i,l,r,f,m){var T=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var S=t.entanglements,A=t.expirationTimes,w=t.hiddenUpdates;for(l=T&~l;0<l;){var G=31-Ct(l),q=1<<G;S[G]=0,A[G]=-1;var I=w[G];if(I!==null)for(w[G]=null,G=0;G<I.length;G++){var b=I[G];b!==null&&(b.lane&=-536870913)}l&=~q}r!==0&&Tr(t,r,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~i))}function Tr(t,i,l){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-Ct(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|l&4194090}function Cr(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var r=31-Ct(l),f=1<<r;f&i|t[r]&i&&(t[r]|=i),l&=~f}}function Va(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ga(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sr(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:tm(t.type))}function Mg(t,i){var l=F.p;try{return F.p=t,i()}finally{F.p=l}}var mn=Math.random().toString(36).slice(2),ut="__reactFiber$"+mn,gt="__reactProps$"+mn,di="__reactContainer$"+mn,Ha="__reactEvents$"+mn,xg="__reactListeners$"+mn,Rg="__reactHandles$"+mn,Er="__reactResources$"+mn,co="__reactMarker$"+mn;function qa(t){delete t[ut],delete t[gt],delete t[Ha],delete t[xg],delete t[Rg]}function mi(t){var i=t[ut];if(i)return i;for(var l=t.parentNode;l;){if(i=l[di]||l[ut]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=Pd(t);t!==null;){if(l=t[ut])return l;t=Pd(t)}return i}t=l,l=t.parentNode}return null}function pi(t){if(t=t[ut]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function fo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function gi(t){var i=t[Er];return i||(i=t[Er]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(t){t[co]=!0}var Ar=new Set,_r={};function Bn(t,i){hi(t,i),hi(t+"Capture",i)}function hi(t,i){for(_r[t]=i,t=0;t<i.length;t++)Ar.add(i[t])}var Ng=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},xr={};function Dg(t){return ci.call(xr,t)?!0:ci.call(Mr,t)?!1:Ng.test(t)?xr[t]=!0:(Mr[t]=!0,!1)}function ml(t,i,l){if(Dg(i))if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+l)}}function pl(t,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+l)}}function Kt(t,i,l,r){if(r===null)t.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(i,l,""+r)}}var ka,Rr;function yi(t){if(ka===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);ka=i&&i[1]||"",Rr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+t+Rr}var Pa=!1;function Ba(t,i){if(!t||Pa)return"";Pa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(b){var I=b}Reflect.construct(t,[],q)}else{try{q.call()}catch(b){I=b}t.call(q.prototype)}}else{try{throw Error()}catch(b){I=b}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(b){if(b&&I&&typeof b.stack=="string")return[b.stack,I.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=r.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var A=T.split(`
`),w=S.split(`
`);for(f=r=0;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;for(;f<w.length&&!w[f].includes("DetermineComponentFrameRoot");)f++;if(r===A.length||f===w.length)for(r=A.length-1,f=w.length-1;1<=r&&0<=f&&A[r]!==w[f];)f--;for(;1<=r&&0<=f;r--,f--)if(A[r]!==w[f]){if(r!==1||f!==1)do if(r--,f--,0>f||A[r]!==w[f]){var G=`
`+A[r].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=r&&0<=f);break}}}finally{Pa=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?yi(l):""}function wg(t){switch(t.tag){case 26:case 27:case 5:return yi(t.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Ba(t.type,!1);case 11:return Ba(t.type.render,!1);case 1:return Ba(t.type,!0);case 31:return yi("Activity");default:return""}}function Nr(t){try{var i="";do i+=wg(t),t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Nt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ug(t){var i=Dr(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),r=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){r=""+T,m.call(this,T)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function gl(t){t._valueTracker||(t._valueTracker=Ug(t))}function wr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),r="";return t&&(r=Dr(t)?t.checked?"true":"false":t.value),t=r,t!==l?(i.setValue(t),!0):!1}function hl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ig=/[\n"\\]/g;function Dt(t){return t.replace(Ig,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function za(t,i,l,r,f,m,T,S){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Nt(i)):t.value!==""+Nt(i)&&(t.value=""+Nt(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Ya(t,T,Nt(i)):l!=null?Ya(t,T,Nt(l)):r!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Nt(S):t.removeAttribute("name")}function Ur(t,i,l,r,f,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;l=l!=null?""+Nt(l):"",i=i!=null?""+Nt(i):l,S||i===t.value||(t.value=i),t.defaultValue=i}r=r??f,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=S?t.checked:!!r,t.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Ya(t,i,l){i==="number"&&hl(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function vi(t,i,l,r){if(t=t.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<t.length;l++)f=i.hasOwnProperty("$"+t[l].value),t[l].selected!==f&&(t[l].selected=f),f&&r&&(t[l].defaultSelected=!0)}else{for(l=""+Nt(l),i=null,f=0;f<t.length;f++){if(t[f].value===l){t[f].selected=!0,r&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Ir(t,i,l){if(i!=null&&(i=""+Nt(i),i!==t.value&&(t.value=i),l==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=l!=null?""+Nt(l):""}function br(t,i,l,r){if(i==null){if(r!=null){if(l!=null)throw Error(a(92));if(ve(r)){if(1<r.length)throw Error(a(93));r=r[0]}l=r}l==null&&(l=""),i=l}l=Nt(i),t.defaultValue=l,r=t.textContent,r===l&&r!==""&&r!==null&&(t.value=r)}function Ti(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var bg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lr(t,i,l){var r=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,l):typeof l!="number"||l===0||bg.has(i)?i==="float"?t.cssFloat=l:t[i]=(""+l).trim():t[i]=l+"px"}function Vr(t,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var f in i)r=i[f],i.hasOwnProperty(f)&&l[f]!==r&&Lr(t,f,r)}else for(var m in i)i.hasOwnProperty(m)&&Lr(t,m,i[m])}function Fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yl(t){return Vg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Oa=null;function Ja(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Si=null;function Gr(t){var i=pi(t);if(i&&(t=i.stateNode)){var l=t[gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(za(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dt(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var r=l[i];if(r!==t&&r.form===t.form){var f=r[gt]||null;if(!f)throw Error(a(90));za(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)r=l[i],r.form===t.form&&wr(r)}break e;case"textarea":Ir(t,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&vi(t,!!l.multiple,i,!1)}}}var $a=!1;function Hr(t,i,l){if($a)return t(i,l);$a=!0;try{var r=t(i);return r}finally{if($a=!1,(Ci!==null||Si!==null)&&(na(),Ci&&(i=Ci,t=Si,Si=Ci=null,Gr(i),t)))for(i=0;i<t.length;i++)Gr(t[i])}}function mo(t,i){var l=t.stateNode;if(l===null)return null;var r=l[gt]||null;if(r===null)return null;l=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=!1;if(Xt)try{var po={};Object.defineProperty(po,"passive",{get:function(){Ka=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Ka=!1}var pn=null,Xa=null,vl=null;function qr(){if(vl)return vl;var t,i=Xa,l=i.length,r,f="value"in pn?pn.value:pn.textContent,m=f.length;for(t=0;t<l&&i[t]===f[t];t++);var T=l-t;for(r=1;r<=T&&i[l-r]===f[m-r];r++);return vl=f.slice(t,1<r?1-r:void 0)}function Tl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Cl(){return!0}function kr(){return!1}function ht(t){function i(l,r,f,m,T){this._reactName=l,this._targetInst=f,this.type=r,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(l=t[S],this[S]=l?l(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Cl:kr,this.isPropagationStopped=kr,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),i}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=ht(zn),go=v({},zn,{view:0,detail:0}),Gg=ht(go),Qa,Za,ho,El=v({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ho&&(ho&&t.type==="mousemove"?(Qa=t.screenX-ho.screenX,Za=t.screenY-ho.screenY):Za=Qa=0,ho=t),Qa)},movementY:function(t){return"movementY"in t?t.movementY:Za}}),Pr=ht(El),Hg=v({},El,{dataTransfer:0}),qg=ht(Hg),kg=v({},go,{relatedTarget:0}),Wa=ht(kg),Pg=v({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Bg=ht(Pg),zg=v({},zn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yg=ht(zg),Fg=v({},zn,{data:0}),Br=ht(Fg),Og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=$g[t])?!!i[t]:!1}function ja(){return Kg}var Xg=v({},go,{key:function(t){if(t.key){var i=Og[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Tl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(t){return t.type==="keypress"?Tl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qg=ht(Xg),Zg=v({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zr=ht(Zg),Wg=v({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),jg=ht(Wg),eh=v({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),th=ht(eh),nh=v({},El,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ih=ht(nh),oh=v({},zn,{newState:0,oldState:0}),lh=ht(oh),ah=[9,13,27,32],es=Xt&&"CompositionEvent"in window,yo=null;Xt&&"documentMode"in document&&(yo=document.documentMode);var sh=Xt&&"TextEvent"in window&&!yo,Yr=Xt&&(!es||yo&&8<yo&&11>=yo),Fr=" ",Or=!1;function Jr(t,i){switch(t){case"keyup":return ah.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $r(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ei=!1;function uh(t,i){switch(t){case"compositionend":return $r(i);case"keypress":return i.which!==32?null:(Or=!0,Fr);case"textInput":return t=i.data,t===Fr&&Or?null:t;default:return null}}function rh(t,i){if(Ei)return t==="compositionend"||!es&&Jr(t,i)?(t=qr(),vl=Xa=pn=null,Ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yr&&i.locale!=="ko"?null:i.data;default:return null}}var ch={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ch[t.type]:i==="textarea"}function Xr(t,i,l,r){Ci?Si?Si.push(r):Si=[r]:Ci=r,i=ua(i,"onChange"),0<i.length&&(l=new Sl("onChange","change",null,l,r),t.push({event:l,listeners:i}))}var vo=null,To=null;function fh(t){wd(t,0)}function Al(t){var i=fo(t);if(wr(i))return t}function Qr(t,i){if(t==="change")return i}var Zr=!1;if(Xt){var ts;if(Xt){var ns="oninput"in document;if(!ns){var Wr=document.createElement("div");Wr.setAttribute("oninput","return;"),ns=typeof Wr.oninput=="function"}ts=ns}else ts=!1;Zr=ts&&(!document.documentMode||9<document.documentMode)}function jr(){vo&&(vo.detachEvent("onpropertychange",ec),To=vo=null)}function ec(t){if(t.propertyName==="value"&&Al(To)){var i=[];Xr(i,To,t,Ja(t)),Hr(fh,i)}}function dh(t,i,l){t==="focusin"?(jr(),vo=i,To=l,vo.attachEvent("onpropertychange",ec)):t==="focusout"&&jr()}function mh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Al(To)}function ph(t,i){if(t==="click")return Al(i)}function gh(t,i){if(t==="input"||t==="change")return Al(i)}function hh(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var St=typeof Object.is=="function"?Object.is:hh;function Co(t,i){if(St(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),r=Object.keys(i);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var f=l[r];if(!ci.call(i,f)||!St(t[f],i[f]))return!1}return!0}function tc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nc(t,i){var l=tc(t);t=0;for(var r;l;){if(l.nodeType===3){if(r=t+l.textContent.length,t<=i&&r>=i)return{node:l,offset:i-t};t=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tc(l)}}function ic(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ic(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function oc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hl(t.document);i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=hl(t.document)}return i}function is(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yh=Xt&&"documentMode"in document&&11>=document.documentMode,Ai=null,os=null,So=null,ls=!1;function lc(t,i,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ls||Ai==null||Ai!==hl(r)||(r=Ai,"selectionStart"in r&&is(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),So&&Co(So,r)||(So=r,r=ua(os,"onSelect"),0<r.length&&(i=new Sl("onSelect","select",null,i,l),t.push({event:i,listeners:r}),i.target=Ai)))}function Yn(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var _i={animationend:Yn("Animation","AnimationEnd"),animationiteration:Yn("Animation","AnimationIteration"),animationstart:Yn("Animation","AnimationStart"),transitionrun:Yn("Transition","TransitionRun"),transitionstart:Yn("Transition","TransitionStart"),transitioncancel:Yn("Transition","TransitionCancel"),transitionend:Yn("Transition","TransitionEnd")},as={},ac={};Xt&&(ac=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Fn(t){if(as[t])return as[t];if(!_i[t])return t;var i=_i[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in ac)return as[t]=i[l];return t}var sc=Fn("animationend"),uc=Fn("animationiteration"),rc=Fn("animationstart"),vh=Fn("transitionrun"),Th=Fn("transitionstart"),Ch=Fn("transitioncancel"),cc=Fn("transitionend"),fc=new Map,ss="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ss.push("scrollEnd");function qt(t,i){fc.set(t,i),Bn(i,[t])}var dc=new WeakMap;function wt(t,i){if(typeof t=="object"&&t!==null){var l=dc.get(t);return l!==void 0?l:(i={value:t,source:i,stack:Nr(i)},dc.set(t,i),i)}return{value:t,source:i,stack:Nr(i)}}var Ut=[],Mi=0,us=0;function _l(){for(var t=Mi,i=us=Mi=0;i<t;){var l=Ut[i];Ut[i++]=null;var r=Ut[i];Ut[i++]=null;var f=Ut[i];Ut[i++]=null;var m=Ut[i];if(Ut[i++]=null,r!==null&&f!==null){var T=r.pending;T===null?f.next=f:(f.next=T.next,T.next=f),r.pending=f}m!==0&&mc(l,f,m)}}function Ml(t,i,l,r){Ut[Mi++]=t,Ut[Mi++]=i,Ut[Mi++]=l,Ut[Mi++]=r,us|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function rs(t,i,l,r){return Ml(t,i,l,r),xl(t)}function xi(t,i){return Ml(t,null,null,i),xl(t)}function mc(t,i,l){t.lanes|=l;var r=t.alternate;r!==null&&(r.lanes|=l);for(var f=!1,m=t.return;m!==null;)m.childLanes|=l,r=m.alternate,r!==null&&(r.childLanes|=l),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-Ct(l),t=m.hiddenUpdates,r=t[f],r===null?t[f]=[i]:r.push(i),i.lane=l|536870912),m):null}function xl(t){if(50<Jo)throw Jo=0,gu=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ri={};function Sh(t,i,l,r){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,i,l,r){return new Sh(t,i,l,r)}function cs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qt(t,i){var l=t.alternate;return l===null?(l=Et(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function pc(t,i){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,i=l.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Rl(t,i,l,r,f,m){var T=0;if(r=t,typeof t=="function")cs(t)&&(T=1);else if(typeof t=="string")T=Ay(t,l,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case W:return t=Et(31,l,i,f),t.elementType=W,t.lanes=m,t;case L:return On(l.children,f,m,i);case V:T=8,f|=24;break;case B:return t=Et(12,l,i,f|2),t.elementType=B,t.lanes=m,t;case z:return t=Et(13,l,i,f),t.elementType=z,t.lanes=m,t;case oe:return t=Et(19,l,i,f),t.elementType=oe,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case Y:T=10;break e;case P:T=9;break e;case X:T=11;break e;case le:T=14;break e;case ue:T=16,r=null;break e}T=29,l=Error(a(130,t===null?"null":typeof t,"")),r=null}return i=Et(T,l,i,f),i.elementType=t,i.type=r,i.lanes=m,i}function On(t,i,l,r){return t=Et(7,t,r,i),t.lanes=l,t}function fs(t,i,l){return t=Et(6,t,null,i),t.lanes=l,t}function ds(t,i,l){return i=Et(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ni=[],Di=0,Nl=null,Dl=0,It=[],bt=0,Jn=null,Zt=1,Wt="";function $n(t,i){Ni[Di++]=Dl,Ni[Di++]=Nl,Nl=t,Dl=i}function gc(t,i,l){It[bt++]=Zt,It[bt++]=Wt,It[bt++]=Jn,Jn=t;var r=Zt;t=Wt;var f=32-Ct(r)-1;r&=~(1<<f),l+=1;var m=32-Ct(i)+f;if(30<m){var T=f-f%5;m=(r&(1<<T)-1).toString(32),r>>=T,f-=T,Zt=1<<32-Ct(i)+f|l<<f|r,Wt=m+t}else Zt=1<<m|l<<f|r,Wt=t}function ms(t){t.return!==null&&($n(t,1),gc(t,1,0))}function ps(t){for(;t===Nl;)Nl=Ni[--Di],Ni[Di]=null,Dl=Ni[--Di],Ni[Di]=null;for(;t===Jn;)Jn=It[--bt],It[bt]=null,Wt=It[--bt],It[bt]=null,Zt=It[--bt],It[bt]=null}var mt=null,ze=null,De=!1,Kn=null,zt=!1,gs=Error(a(519));function Xn(t){var i=Error(a(418,""));throw _o(wt(i,t)),gs}function hc(t){var i=t.stateNode,l=t.type,r=t.memoizedProps;switch(i[ut]=t,i[gt]=r,l){case"dialog":Ae("cancel",i),Ae("close",i);break;case"iframe":case"object":case"embed":Ae("load",i);break;case"video":case"audio":for(l=0;l<Ko.length;l++)Ae(Ko[l],i);break;case"source":Ae("error",i);break;case"img":case"image":case"link":Ae("error",i),Ae("load",i);break;case"details":Ae("toggle",i);break;case"input":Ae("invalid",i),Ur(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),gl(i);break;case"select":Ae("invalid",i);break;case"textarea":Ae("invalid",i),br(i,r.value,r.defaultValue,r.children),gl(i)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||r.suppressHydrationWarning===!0||Ld(i.textContent,l)?(r.popover!=null&&(Ae("beforetoggle",i),Ae("toggle",i)),r.onScroll!=null&&Ae("scroll",i),r.onScrollEnd!=null&&Ae("scrollend",i),r.onClick!=null&&(i.onclick=ra),i=!0):i=!1,i||Xn(t)}function yc(t){for(mt=t.return;mt;)switch(mt.tag){case 5:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:mt=mt.return}}function Eo(t){if(t!==mt)return!1;if(!De)return yc(t),De=!0,!1;var i=t.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Uu(t.type,t.memoizedProps)),l=!l),l&&ze&&Xn(t),yc(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(i===0){ze=Pt(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;t=t.nextSibling}ze=null}}else i===27?(i=ze,wn(t.type)?(t=Vu,Vu=null,ze=t):ze=i):ze=mt?Pt(t.stateNode.nextSibling):null;return!0}function Ao(){ze=mt=null,De=!1}function vc(){var t=Kn;return t!==null&&(Tt===null?Tt=t:Tt.push.apply(Tt,t),Kn=null),t}function _o(t){Kn===null?Kn=[t]:Kn.push(t)}var hs=k(null),Qn=null,jt=null;function gn(t,i,l){O(hs,i._currentValue),i._currentValue=l}function en(t){t._currentValue=hs.current,K(hs)}function ys(t,i,l){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===l)break;t=t.return}}function vs(t,i,l,r){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var A=0;A<i.length;A++)if(S.context===i[A]){m.lanes|=l,S=m.alternate,S!==null&&(S.lanes|=l),ys(m.return,l,t),r||(T=null);break e}m=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),ys(T,l,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Mo(t,i,l,r){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var S=f.type;St(f.pendingProps.value,T.value)||(t!==null?t.push(S):t=[S])}}else if(f===dt.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(el):t=[el])}f=f.return}t!==null&&vs(i,t,l,r),i.flags|=262144}function wl(t){for(t=t.firstContext;t!==null;){if(!St(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zn(t){Qn=t,jt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rt(t){return Tc(Qn,t)}function Ul(t,i){return Qn===null&&Zn(t),Tc(t,i)}function Tc(t,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},jt===null){if(t===null)throw Error(a(308));jt=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else jt=jt.next=i;return l}var Eh=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(l,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(l){return l()})}},Ah=n.unstable_scheduleCallback,_h=n.unstable_NormalPriority,We={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ts(){return{controller:new Eh,data:new Map,refCount:0}}function xo(t){t.refCount--,t.refCount===0&&Ah(_h,function(){t.controller.abort()})}var Ro=null,Cs=0,wi=0,Ui=null;function Mh(t,i){if(Ro===null){var l=Ro=[];Cs=0,wi=Eu(),Ui={status:"pending",value:void 0,then:function(r){l.push(r)}}}return Cs++,i.then(Cc,Cc),i}function Cc(){if(--Cs===0&&Ro!==null){Ui!==null&&(Ui.status="fulfilled");var t=Ro;Ro=null,wi=0,Ui=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function xh(t,i){var l=[],r={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(r.status="rejected",r.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),r}var Sc=U.S;U.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Mh(t,i),Sc!==null&&Sc(t,i)};var Wn=k(null);function Ss(){var t=Wn.current;return t!==null?t:qe.pooledCache}function Il(t,i){i===null?O(Wn,Wn.current):O(Wn,i.pool)}function Ec(){var t=Ss();return t===null?null:{parent:We._currentValue,pool:t}}var No=Error(a(460)),Ac=Error(a(474)),bl=Error(a(542)),Es={then:function(){}};function _c(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ll(){}function Mc(t,i,l){switch(l=t[l],l===void 0?t.push(i):l!==i&&(i.then(Ll,Ll),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Rc(t),t;default:if(typeof i.status=="string")i.then(Ll,Ll);else{if(t=qe,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=r}},function(r){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Rc(t),t}throw Do=i,No}}var Do=null;function xc(){if(Do===null)throw Error(a(459));var t=Do;return Do=null,t}function Rc(t){if(t===No||t===bl)throw Error(a(483))}var hn=!1;function As(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _s(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vn(t,i,l){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ue&2)!==0){var f=r.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i,i=xl(t),mc(t,null,l),i}return Ml(t,r,i,l),xl(t)}function wo(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,l|=r,i.lanes=l,Cr(t,l)}}function Ms(t,i){var l=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?f=m=i:m=m.next=i}else f=m=i;l={baseState:r.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:r.shared,callbacks:r.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}var xs=!1;function Uo(){if(xs){var t=Ui;if(t!==null)throw t}}function Io(t,i,l,r){xs=!1;var f=t.updateQueue;hn=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var A=S,w=A.next;A.next=null,T===null?m=w:T.next=w,T=A;var G=t.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==T&&(S===null?G.firstBaseUpdate=w:S.next=w,G.lastBaseUpdate=A))}if(m!==null){var q=f.baseState;T=0,G=w=A=null,S=m;do{var I=S.lane&-536870913,b=I!==S.lane;if(b?(Re&I)===I:(r&I)===I){I!==0&&I===wi&&(xs=!0),G!==null&&(G=G.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var de=t,se=S;I=i;var Ve=l;switch(se.tag){case 1:if(de=se.payload,typeof de=="function"){q=de.call(Ve,q,I);break e}q=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=se.payload,I=typeof de=="function"?de.call(Ve,q,I):de,I==null)break e;q=v({},q,I);break e;case 2:hn=!0}}I=S.callback,I!==null&&(t.flags|=64,b&&(t.flags|=8192),b=f.callbacks,b===null?f.callbacks=[I]:b.push(I))}else b={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(w=G=b,A=q):G=G.next=b,T|=I;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;b=S,S=b.next,b.next=null,f.lastBaseUpdate=b,f.shared.pending=null}}while(!0);G===null&&(A=q),f.baseState=A,f.firstBaseUpdate=w,f.lastBaseUpdate=G,m===null&&(f.shared.lanes=0),xn|=T,t.lanes=T,t.memoizedState=q}}function Nc(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Dc(t,i){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Nc(l[t],i)}var Ii=k(null),Vl=k(0);function wc(t,i){t=un,O(Vl,t),O(Ii,i),un=t|i.baseLanes}function Rs(){O(Vl,un),O(Ii,Ii.current)}function Ns(){un=Vl.current,K(Ii),K(Vl)}var Tn=0,Ce=null,be=null,Qe=null,Gl=!1,bi=!1,jn=!1,Hl=0,bo=0,Li=null,Rh=0;function Oe(){throw Error(a(321))}function Ds(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!St(t[l],i[l]))return!1;return!0}function ws(t,i,l,r,f,m){return Tn=m,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=t===null||t.memoizedState===null?pf:gf,jn=!1,m=l(r,f),jn=!1,bi&&(m=Ic(i,l,r,f)),Uc(t),m}function Uc(t){U.H=Yl;var i=be!==null&&be.next!==null;if(Tn=0,Qe=be=Ce=null,Gl=!1,bo=0,Li=null,i)throw Error(a(300));t===null||tt||(t=t.dependencies,t!==null&&wl(t)&&(tt=!0))}function Ic(t,i,l,r){Ce=t;var f=0;do{if(bi&&(Li=null),bo=0,bi=!1,25<=f)throw Error(a(301));if(f+=1,Qe=be=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=Lh,m=i(l,r)}while(bi);return m}function Nh(){var t=U.H,i=t.useState()[0];return i=typeof i.then=="function"?Lo(i):i,t=t.useState()[0],(be!==null?be.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Us(){var t=Hl!==0;return Hl=0,t}function Is(t,i,l){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~l}function bs(t){if(Gl){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Gl=!1}Tn=0,Qe=be=Ce=null,bi=!1,bo=Hl=0,Li=null}function yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ce.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Ze(){if(be===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var i=Qe===null?Ce.memoizedState:Qe.next;if(i!==null)Qe=i,be=t;else{if(t===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Qe===null?Ce.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Ls(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(t){var i=bo;return bo+=1,Li===null&&(Li=[]),t=Mc(Li,t,i),i=Ce,(Qe===null?i.memoizedState:Qe.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?pf:gf),t}function ql(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Lo(t);if(t.$$typeof===Y)return rt(t)}throw Error(a(438,String(t)))}function Vs(t){var i=null,l=Ce.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var r=Ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Ls(),Ce.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(t),r=0;r<t;r++)l[r]=me;return i.index++,l}function tn(t,i){return typeof i=="function"?i(t):i}function kl(t){var i=Ze();return Gs(i,be,t)}function Gs(t,i,l){var r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=l;var f=t.baseQueue,m=r.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}i.baseQueue=f=m,r.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var S=T=null,A=null,w=i,G=!1;do{var q=w.lane&-536870913;if(q!==w.lane?(Re&q)===q:(Tn&q)===q){var I=w.revertLane;if(I===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),q===wi&&(G=!0);else if((Tn&I)===I){w=w.next,I===wi&&(G=!0);continue}else q={lane:0,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(S=A=q,T=m):A=A.next=q,Ce.lanes|=I,xn|=I;q=w.action,jn&&l(m,q),m=w.hasEagerState?w.eagerState:l(m,q)}else I={lane:q,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(S=A=I,T=m):A=A.next=I,Ce.lanes|=q,xn|=q;w=w.next}while(w!==null&&w!==i);if(A===null?T=m:A.next=S,!St(m,t.memoizedState)&&(tt=!0,G&&(l=Ui,l!==null)))throw l;t.memoizedState=m,t.baseState=T,t.baseQueue=A,r.lastRenderedState=m}return f===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Hs(t){var i=Ze(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=t;var r=l.dispatch,f=l.pending,m=i.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);St(m,i.memoizedState)||(tt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,r]}function bc(t,i,l){var r=Ce,f=Ze(),m=De;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=i();var T=!St((be||f).memoizedState,l);T&&(f.memoizedState=l,tt=!0),f=f.queue;var S=Gc.bind(null,r,f,t);if(Vo(2048,8,S,[t]),f.getSnapshot!==i||T||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,Vi(9,Pl(),Vc.bind(null,r,f,l,i),null),qe===null)throw Error(a(349));m||(Tn&124)!==0||Lc(r,i,l)}return l}function Lc(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=Ce.updateQueue,i===null?(i=Ls(),Ce.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function Vc(t,i,l,r){i.value=l,i.getSnapshot=r,Hc(i)&&qc(t)}function Gc(t,i,l){return l(function(){Hc(i)&&qc(t)})}function Hc(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!St(t,l)}catch{return!0}}function qc(t){var i=xi(t,2);i!==null&&Rt(i,t,2)}function qs(t){var i=yt();if(typeof t=="function"){var l=t;if(t=l(),jn){dn(!0);try{l()}finally{dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:t},i}function kc(t,i,l,r){return t.baseState=l,Gs(t,be,typeof r=="function"?r:tn)}function Dh(t,i,l,r,f){if(zl(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};U.T!==null?l(!0):m.isTransition=!1,r(m),l=i.pending,l===null?(m.next=i.pending=m,Pc(i,m)):(m.next=l.next,i.pending=l.next=m)}}function Pc(t,i){var l=i.action,r=i.payload,f=t.state;if(i.isTransition){var m=U.T,T={};U.T=T;try{var S=l(f,r),A=U.S;A!==null&&A(T,S),Bc(t,i,S)}catch(w){ks(t,i,w)}finally{U.T=m}}else try{m=l(f,r),Bc(t,i,m)}catch(w){ks(t,i,w)}}function Bc(t,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){zc(t,i,r)},function(r){return ks(t,i,r)}):zc(t,i,l)}function zc(t,i,l){i.status="fulfilled",i.value=l,Yc(i),t.state=l,i=t.pending,i!==null&&(l=i.next,l===i?t.pending=null:(l=l.next,i.next=l,Pc(t,l)))}function ks(t,i,l){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=l,Yc(i),i=i.next;while(i!==r)}t.action=null}function Yc(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Fc(t,i){return i}function Oc(t,i){if(De){var l=qe.formState;if(l!==null){e:{var r=Ce;if(De){if(ze){t:{for(var f=ze,m=zt;f.nodeType!==8;){if(!m){f=null;break t}if(f=Pt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ze=Pt(f.nextSibling),r=f.data==="F!";break e}}Xn(r)}r=!1}r&&(i=l[0])}}return l=yt(),l.memoizedState=l.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:i},l.queue=r,l=ff.bind(null,Ce,r),r.dispatch=l,r=qs(!1),m=Fs.bind(null,Ce,!1,r.queue),r=yt(),f={state:i,dispatch:null,action:t,pending:null},r.queue=f,l=Dh.bind(null,Ce,f,m,l),f.dispatch=l,r.memoizedState=t,[i,l,!1]}function Jc(t){var i=Ze();return $c(i,be,t)}function $c(t,i,l){if(i=Gs(t,i,Fc)[0],t=kl(tn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Lo(i)}catch(T){throw T===No?bl:T}else r=i;i=Ze();var f=i.queue,m=f.dispatch;return l!==i.memoizedState&&(Ce.flags|=2048,Vi(9,Pl(),wh.bind(null,f,l),null)),[r,m,t]}function wh(t,i){t.action=i}function Kc(t){var i=Ze(),l=be;if(l!==null)return $c(i,l,t);Ze(),i=i.memoizedState,l=Ze();var r=l.queue.dispatch;return l.memoizedState=t,[i,r,!1]}function Vi(t,i,l,r){return t={tag:t,create:l,deps:r,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Ls(),Ce.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=t.next=t:(r=l.next,l.next=t,t.next=r,i.lastEffect=t),t}function Pl(){return{destroy:void 0,resource:void 0}}function Xc(){return Ze().memoizedState}function Bl(t,i,l,r){var f=yt();r=r===void 0?null:r,Ce.flags|=t,f.memoizedState=Vi(1|i,Pl(),l,r)}function Vo(t,i,l,r){var f=Ze();r=r===void 0?null:r;var m=f.memoizedState.inst;be!==null&&r!==null&&Ds(r,be.memoizedState.deps)?f.memoizedState=Vi(i,m,l,r):(Ce.flags|=t,f.memoizedState=Vi(1|i,m,l,r))}function Qc(t,i){Bl(8390656,8,t,i)}function Zc(t,i){Vo(2048,8,t,i)}function Wc(t,i){return Vo(4,2,t,i)}function jc(t,i){return Vo(4,4,t,i)}function ef(t,i){if(typeof i=="function"){t=t();var l=i(t);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function tf(t,i,l){l=l!=null?l.concat([t]):null,Vo(4,4,ef.bind(null,i,t),l)}function Ps(){}function nf(t,i){var l=Ze();i=i===void 0?null:i;var r=l.memoizedState;return i!==null&&Ds(i,r[1])?r[0]:(l.memoizedState=[t,i],t)}function of(t,i){var l=Ze();i=i===void 0?null:i;var r=l.memoizedState;if(i!==null&&Ds(i,r[1]))return r[0];if(r=t(),jn){dn(!0);try{t()}finally{dn(!1)}}return l.memoizedState=[r,i],r}function Bs(t,i,l){return l===void 0||(Tn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=l,t=sd(),Ce.lanes|=t,xn|=t,l)}function lf(t,i,l,r){return St(l,i)?l:Ii.current!==null?(t=Bs(t,l,r),St(t,i)||(tt=!0),t):(Tn&42)===0?(tt=!0,t.memoizedState=l):(t=sd(),Ce.lanes|=t,xn|=t,i)}function af(t,i,l,r,f){var m=F.p;F.p=m!==0&&8>m?m:8;var T=U.T,S={};U.T=S,Fs(t,!1,i,l);try{var A=f(),w=U.S;if(w!==null&&w(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=xh(A,r);Go(t,i,G,xt(t))}else Go(t,i,r,xt(t))}catch(q){Go(t,i,{then:function(){},status:"rejected",reason:q},xt())}finally{F.p=m,U.T=T}}function Uh(){}function zs(t,i,l,r){if(t.tag!==5)throw Error(a(476));var f=sf(t).queue;af(t,f,i,ne,l===null?Uh:function(){return uf(t),l(r)})}function sf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:ne},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:l},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function uf(t){var i=sf(t).next.queue;Go(t,i,{},xt())}function Ys(){return rt(el)}function rf(){return Ze().memoizedState}function cf(){return Ze().memoizedState}function Ih(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var l=xt();t=yn(l);var r=vn(i,t,l);r!==null&&(Rt(r,i,l),wo(r,i,l)),i={cache:Ts()},t.payload=i;return}i=i.return}}function bh(t,i,l){var r=xt();l={lane:r,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},zl(t)?df(i,l):(l=rs(t,i,l,r),l!==null&&(Rt(l,t,r),mf(l,i,r)))}function ff(t,i,l){var r=xt();Go(t,i,l,r)}function Go(t,i,l,r){var f={lane:r,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(zl(t))df(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,S=m(T,l);if(f.hasEagerState=!0,f.eagerState=S,St(S,T))return Ml(t,i,f,0),qe===null&&_l(),!1}catch{}finally{}if(l=rs(t,i,f,r),l!==null)return Rt(l,t,r),mf(l,i,r),!0}return!1}function Fs(t,i,l,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},zl(t)){if(i)throw Error(a(479))}else i=rs(t,l,r,2),i!==null&&Rt(i,t,2)}function zl(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function df(t,i){bi=Gl=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function mf(t,i,l){if((l&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,l|=r,i.lanes=l,Cr(t,l)}}var Yl={readContext:rt,use:ql,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe},pf={readContext:rt,use:ql,useCallback:function(t,i){return yt().memoizedState=[t,i===void 0?null:i],t},useContext:rt,useEffect:Qc,useImperativeHandle:function(t,i,l){l=l!=null?l.concat([t]):null,Bl(4194308,4,ef.bind(null,i,t),l)},useLayoutEffect:function(t,i){return Bl(4194308,4,t,i)},useInsertionEffect:function(t,i){Bl(4,2,t,i)},useMemo:function(t,i){var l=yt();i=i===void 0?null:i;var r=t();if(jn){dn(!0);try{t()}finally{dn(!1)}}return l.memoizedState=[r,i],r},useReducer:function(t,i,l){var r=yt();if(l!==void 0){var f=l(i);if(jn){dn(!0);try{l(i)}finally{dn(!1)}}}else f=i;return r.memoizedState=r.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},r.queue=t,t=t.dispatch=bh.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var i=yt();return t={current:t},i.memoizedState=t},useState:function(t){t=qs(t);var i=t.queue,l=ff.bind(null,Ce,i);return i.dispatch=l,[t.memoizedState,l]},useDebugValue:Ps,useDeferredValue:function(t,i){var l=yt();return Bs(l,t,i)},useTransition:function(){var t=qs(!1);return t=af.bind(null,Ce,t.queue,!0,!1),yt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,l){var r=Ce,f=yt();if(De){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),qe===null)throw Error(a(349));(Re&124)!==0||Lc(r,i,l)}f.memoizedState=l;var m={value:l,getSnapshot:i};return f.queue=m,Qc(Gc.bind(null,r,m,t),[t]),r.flags|=2048,Vi(9,Pl(),Vc.bind(null,r,m,l,i),null),l},useId:function(){var t=yt(),i=qe.identifierPrefix;if(De){var l=Wt,r=Zt;l=(r&~(1<<32-Ct(r)-1)).toString(32)+l,i="«"+i+"R"+l,l=Hl++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=Rh++,i="«"+i+"r"+l.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Ys,useFormState:Oc,useActionState:Oc,useOptimistic:function(t){var i=yt();i.memoizedState=i.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Fs.bind(null,Ce,!0,l),l.dispatch=i,[t,i]},useMemoCache:Vs,useCacheRefresh:function(){return yt().memoizedState=Ih.bind(null,Ce)}},gf={readContext:rt,use:ql,useCallback:nf,useContext:rt,useEffect:Zc,useImperativeHandle:tf,useInsertionEffect:Wc,useLayoutEffect:jc,useMemo:of,useReducer:kl,useRef:Xc,useState:function(){return kl(tn)},useDebugValue:Ps,useDeferredValue:function(t,i){var l=Ze();return lf(l,be.memoizedState,t,i)},useTransition:function(){var t=kl(tn)[0],i=Ze().memoizedState;return[typeof t=="boolean"?t:Lo(t),i]},useSyncExternalStore:bc,useId:rf,useHostTransitionStatus:Ys,useFormState:Jc,useActionState:Jc,useOptimistic:function(t,i){var l=Ze();return kc(l,be,t,i)},useMemoCache:Vs,useCacheRefresh:cf},Lh={readContext:rt,use:ql,useCallback:nf,useContext:rt,useEffect:Zc,useImperativeHandle:tf,useInsertionEffect:Wc,useLayoutEffect:jc,useMemo:of,useReducer:Hs,useRef:Xc,useState:function(){return Hs(tn)},useDebugValue:Ps,useDeferredValue:function(t,i){var l=Ze();return be===null?Bs(l,t,i):lf(l,be.memoizedState,t,i)},useTransition:function(){var t=Hs(tn)[0],i=Ze().memoizedState;return[typeof t=="boolean"?t:Lo(t),i]},useSyncExternalStore:bc,useId:rf,useHostTransitionStatus:Ys,useFormState:Kc,useActionState:Kc,useOptimistic:function(t,i){var l=Ze();return be!==null?kc(l,be,t,i):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Vs,useCacheRefresh:cf},Gi=null,Ho=0;function Fl(t){var i=Ho;return Ho+=1,Gi===null&&(Gi=[]),Mc(Gi,t,i)}function qo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ol(t,i){throw i.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function hf(t){var i=t._init;return i(t._payload)}function yf(t){function i(R,x){if(t){var D=R.deletions;D===null?(R.deletions=[x],R.flags|=16):D.push(x)}}function l(R,x){if(!t)return null;for(;x!==null;)i(R,x),x=x.sibling;return null}function r(R){for(var x=new Map;R!==null;)R.key!==null?x.set(R.key,R):x.set(R.index,R),R=R.sibling;return x}function f(R,x){return R=Qt(R,x),R.index=0,R.sibling=null,R}function m(R,x,D){return R.index=D,t?(D=R.alternate,D!==null?(D=D.index,D<x?(R.flags|=67108866,x):D):(R.flags|=67108866,x)):(R.flags|=1048576,x)}function T(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function S(R,x,D,H){return x===null||x.tag!==6?(x=fs(D,R.mode,H),x.return=R,x):(x=f(x,D),x.return=R,x)}function A(R,x,D,H){var Q=D.type;return Q===L?G(R,x,D.props.children,H,D.key):x!==null&&(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ue&&hf(Q)===x.type)?(x=f(x,D.props),qo(x,D),x.return=R,x):(x=Rl(D.type,D.key,D.props,null,R.mode,H),qo(x,D),x.return=R,x)}function w(R,x,D,H){return x===null||x.tag!==4||x.stateNode.containerInfo!==D.containerInfo||x.stateNode.implementation!==D.implementation?(x=ds(D,R.mode,H),x.return=R,x):(x=f(x,D.children||[]),x.return=R,x)}function G(R,x,D,H,Q){return x===null||x.tag!==7?(x=On(D,R.mode,H,Q),x.return=R,x):(x=f(x,D),x.return=R,x)}function q(R,x,D){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=fs(""+x,R.mode,D),x.return=R,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case E:return D=Rl(x.type,x.key,x.props,null,R.mode,D),qo(D,x),D.return=R,D;case N:return x=ds(x,R.mode,D),x.return=R,x;case ue:var H=x._init;return x=H(x._payload),q(R,x,D)}if(ve(x)||_e(x))return x=On(x,R.mode,D,null),x.return=R,x;if(typeof x.then=="function")return q(R,Fl(x),D);if(x.$$typeof===Y)return q(R,Ul(R,x),D);Ol(R,x)}return null}function I(R,x,D,H){var Q=x!==null?x.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return Q!==null?null:S(R,x,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return D.key===Q?A(R,x,D,H):null;case N:return D.key===Q?w(R,x,D,H):null;case ue:return Q=D._init,D=Q(D._payload),I(R,x,D,H)}if(ve(D)||_e(D))return Q!==null?null:G(R,x,D,H,null);if(typeof D.then=="function")return I(R,x,Fl(D),H);if(D.$$typeof===Y)return I(R,x,Ul(R,D),H);Ol(R,D)}return null}function b(R,x,D,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return R=R.get(D)||null,S(x,R,""+H,Q);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return R=R.get(H.key===null?D:H.key)||null,A(x,R,H,Q);case N:return R=R.get(H.key===null?D:H.key)||null,w(x,R,H,Q);case ue:var Se=H._init;return H=Se(H._payload),b(R,x,D,H,Q)}if(ve(H)||_e(H))return R=R.get(D)||null,G(x,R,H,Q,null);if(typeof H.then=="function")return b(R,x,D,Fl(H),Q);if(H.$$typeof===Y)return b(R,x,D,Ul(x,H),Q);Ol(x,H)}return null}function de(R,x,D,H){for(var Q=null,Se=null,j=x,ce=x=0,it=null;j!==null&&ce<D.length;ce++){j.index>ce?(it=j,j=null):it=j.sibling;var Ne=I(R,j,D[ce],H);if(Ne===null){j===null&&(j=it);break}t&&j&&Ne.alternate===null&&i(R,j),x=m(Ne,x,ce),Se===null?Q=Ne:Se.sibling=Ne,Se=Ne,j=it}if(ce===D.length)return l(R,j),De&&$n(R,ce),Q;if(j===null){for(;ce<D.length;ce++)j=q(R,D[ce],H),j!==null&&(x=m(j,x,ce),Se===null?Q=j:Se.sibling=j,Se=j);return De&&$n(R,ce),Q}for(j=r(j);ce<D.length;ce++)it=b(j,R,ce,D[ce],H),it!==null&&(t&&it.alternate!==null&&j.delete(it.key===null?ce:it.key),x=m(it,x,ce),Se===null?Q=it:Se.sibling=it,Se=it);return t&&j.forEach(function(Vn){return i(R,Vn)}),De&&$n(R,ce),Q}function se(R,x,D,H){if(D==null)throw Error(a(151));for(var Q=null,Se=null,j=x,ce=x=0,it=null,Ne=D.next();j!==null&&!Ne.done;ce++,Ne=D.next()){j.index>ce?(it=j,j=null):it=j.sibling;var Vn=I(R,j,Ne.value,H);if(Vn===null){j===null&&(j=it);break}t&&j&&Vn.alternate===null&&i(R,j),x=m(Vn,x,ce),Se===null?Q=Vn:Se.sibling=Vn,Se=Vn,j=it}if(Ne.done)return l(R,j),De&&$n(R,ce),Q;if(j===null){for(;!Ne.done;ce++,Ne=D.next())Ne=q(R,Ne.value,H),Ne!==null&&(x=m(Ne,x,ce),Se===null?Q=Ne:Se.sibling=Ne,Se=Ne);return De&&$n(R,ce),Q}for(j=r(j);!Ne.done;ce++,Ne=D.next())Ne=b(j,R,ce,Ne.value,H),Ne!==null&&(t&&Ne.alternate!==null&&j.delete(Ne.key===null?ce:Ne.key),x=m(Ne,x,ce),Se===null?Q=Ne:Se.sibling=Ne,Se=Ne);return t&&j.forEach(function(Vy){return i(R,Vy)}),De&&$n(R,ce),Q}function Ve(R,x,D,H){if(typeof D=="object"&&D!==null&&D.type===L&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case E:e:{for(var Q=D.key;x!==null;){if(x.key===Q){if(Q=D.type,Q===L){if(x.tag===7){l(R,x.sibling),H=f(x,D.props.children),H.return=R,R=H;break e}}else if(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ue&&hf(Q)===x.type){l(R,x.sibling),H=f(x,D.props),qo(H,D),H.return=R,R=H;break e}l(R,x);break}else i(R,x);x=x.sibling}D.type===L?(H=On(D.props.children,R.mode,H,D.key),H.return=R,R=H):(H=Rl(D.type,D.key,D.props,null,R.mode,H),qo(H,D),H.return=R,R=H)}return T(R);case N:e:{for(Q=D.key;x!==null;){if(x.key===Q)if(x.tag===4&&x.stateNode.containerInfo===D.containerInfo&&x.stateNode.implementation===D.implementation){l(R,x.sibling),H=f(x,D.children||[]),H.return=R,R=H;break e}else{l(R,x);break}else i(R,x);x=x.sibling}H=ds(D,R.mode,H),H.return=R,R=H}return T(R);case ue:return Q=D._init,D=Q(D._payload),Ve(R,x,D,H)}if(ve(D))return de(R,x,D,H);if(_e(D)){if(Q=_e(D),typeof Q!="function")throw Error(a(150));return D=Q.call(D),se(R,x,D,H)}if(typeof D.then=="function")return Ve(R,x,Fl(D),H);if(D.$$typeof===Y)return Ve(R,x,Ul(R,D),H);Ol(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,x!==null&&x.tag===6?(l(R,x.sibling),H=f(x,D),H.return=R,R=H):(l(R,x),H=fs(D,R.mode,H),H.return=R,R=H),T(R)):l(R,x)}return function(R,x,D,H){try{Ho=0;var Q=Ve(R,x,D,H);return Gi=null,Q}catch(j){if(j===No||j===bl)throw j;var Se=Et(29,j,null,R.mode);return Se.lanes=H,Se.return=R,Se}finally{}}}var Hi=yf(!0),vf=yf(!1),Lt=k(null),Yt=null;function Cn(t){var i=t.alternate;O(je,je.current&1),O(Lt,t),Yt===null&&(i===null||Ii.current!==null||i.memoizedState!==null)&&(Yt=t)}function Tf(t){if(t.tag===22){if(O(je,je.current),O(Lt,t),Yt===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Yt=t)}}else Sn()}function Sn(){O(je,je.current),O(Lt,Lt.current)}function nn(t){K(Lt),Yt===t&&(Yt=null),K(je)}var je=k(0);function Jl(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Lu(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Os(t,i,l,r){i=t.memoizedState,l=l(r,i),l=l==null?i:v({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Js={enqueueSetState:function(t,i,l){t=t._reactInternals;var r=xt(),f=yn(r);f.payload=i,l!=null&&(f.callback=l),i=vn(t,f,r),i!==null&&(Rt(i,t,r),wo(i,t,r))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var r=xt(),f=yn(r);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=vn(t,f,r),i!==null&&(Rt(i,t,r),wo(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=xt(),r=yn(l);r.tag=2,i!=null&&(r.callback=i),i=vn(t,r,l),i!==null&&(Rt(i,t,l),wo(i,t,l))}};function Cf(t,i,l,r,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,m,T):i.prototype&&i.prototype.isPureReactComponent?!Co(l,r)||!Co(f,m):!0}function Sf(t,i,l,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,r),i.state!==t&&Js.enqueueReplaceState(i,i.state,null)}function ei(t,i){var l=i;if("ref"in i){l={};for(var r in i)r!=="ref"&&(l[r]=i[r])}if(t=t.defaultProps){l===i&&(l=v({},l));for(var f in t)l[f]===void 0&&(l[f]=t[f])}return l}var $l=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ef(t){$l(t)}function Af(t){console.error(t)}function _f(t){$l(t)}function Kl(t,i){try{var l=t.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Mf(t,i,l){try{var r=t.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $s(t,i,l){return l=yn(l),l.tag=3,l.payload={element:null},l.callback=function(){Kl(t,i)},l}function xf(t){return t=yn(t),t.tag=3,t}function Rf(t,i,l,r){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=r.value;t.payload=function(){return f(m)},t.callback=function(){Mf(i,l,r)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Mf(i,l,r),typeof f!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var S=r.stack;this.componentDidCatch(r.value,{componentStack:S!==null?S:""})})}function Vh(t,i,l,r,f){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=l.alternate,i!==null&&Mo(i,l,f,!0),l=Lt.current,l!==null){switch(l.tag){case 13:return Yt===null?yu():l.alternate===null&&Ye===0&&(Ye=3),l.flags&=-257,l.flags|=65536,l.lanes=f,r===Es?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([r]):i.add(r),Tu(t,r,f)),!1;case 22:return l.flags|=65536,r===Es?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([r]):l.add(r)),Tu(t,r,f)),!1}throw Error(a(435,l.tag))}return Tu(t,r,f),yu(),!1}if(De)return i=Lt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,r!==gs&&(t=Error(a(422),{cause:r}),_o(wt(t,l)))):(r!==gs&&(i=Error(a(423),{cause:r}),_o(wt(i,l))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,r=wt(r,l),f=$s(t.stateNode,r,f),Ms(t,f),Ye!==4&&(Ye=2)),!1;var m=Error(a(520),{cause:r});if(m=wt(m,l),Oo===null?Oo=[m]:Oo.push(m),Ye!==4&&(Ye=2),i===null)return!0;r=wt(r,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,t=f&-f,l.lanes|=t,t=$s(l.stateNode,r,t),Ms(l,t),!1;case 1:if(i=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Rn===null||!Rn.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=xf(f),Rf(f,t,l,r),Ms(l,f),!1}l=l.return}while(l!==null);return!1}var Nf=Error(a(461)),tt=!1;function lt(t,i,l,r){i.child=t===null?vf(i,null,l,r):Hi(i,t.child,l,r)}function Df(t,i,l,r,f){l=l.render;var m=i.ref;if("ref"in r){var T={};for(var S in r)S!=="ref"&&(T[S]=r[S])}else T=r;return Zn(i),r=ws(t,i,l,T,m,f),S=Us(),t!==null&&!tt?(Is(t,i,f),on(t,i,f)):(De&&S&&ms(i),i.flags|=1,lt(t,i,r,f),i.child)}function wf(t,i,l,r,f){if(t===null){var m=l.type;return typeof m=="function"&&!cs(m)&&m.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=m,Uf(t,i,m,r,f)):(t=Rl(l.type,null,r,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!tu(t,f)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:Co,l(T,r)&&t.ref===i.ref)return on(t,i,f)}return i.flags|=1,t=Qt(m,r),t.ref=i.ref,t.return=i,i.child=t}function Uf(t,i,l,r,f){if(t!==null){var m=t.memoizedProps;if(Co(m,r)&&t.ref===i.ref)if(tt=!1,i.pendingProps=r=m,tu(t,f))(t.flags&131072)!==0&&(tt=!0);else return i.lanes=t.lanes,on(t,i,f)}return Ks(t,i,l,r,f)}function If(t,i,l){var r=i.pendingProps,f=r.children,m=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=m!==null?m.baseLanes|l:l,t!==null){for(f=i.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~r}else i.childLanes=0,i.child=null;return bf(t,i,r,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Il(i,m!==null?m.cachePool:null),m!==null?wc(i,m):Rs(),Tf(i);else return i.lanes=i.childLanes=536870912,bf(t,i,m!==null?m.baseLanes|l:l,l)}else m!==null?(Il(i,m.cachePool),wc(i,m),Sn(),i.memoizedState=null):(t!==null&&Il(i,null),Rs(),Sn());return lt(t,i,f,l),i.child}function bf(t,i,l,r){var f=Ss();return f=f===null?null:{parent:We._currentValue,pool:f},i.memoizedState={baseLanes:l,cachePool:f},t!==null&&Il(i,null),Rs(),Tf(i),t!==null&&Mo(t,i,r,!0),null}function Xl(t,i){var l=i.ref;if(l===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(t===null||t.ref!==l)&&(i.flags|=4194816)}}function Ks(t,i,l,r,f){return Zn(i),l=ws(t,i,l,r,void 0,f),r=Us(),t!==null&&!tt?(Is(t,i,f),on(t,i,f)):(De&&r&&ms(i),i.flags|=1,lt(t,i,l,f),i.child)}function Lf(t,i,l,r,f,m){return Zn(i),i.updateQueue=null,l=Ic(i,r,l,f),Uc(t),r=Us(),t!==null&&!tt?(Is(t,i,m),on(t,i,m)):(De&&r&&ms(i),i.flags|=1,lt(t,i,l,m),i.child)}function Vf(t,i,l,r,f){if(Zn(i),i.stateNode===null){var m=Ri,T=l.contextType;typeof T=="object"&&T!==null&&(m=rt(T)),m=new l(r,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Js,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=r,m.state=i.memoizedState,m.refs={},As(i),T=l.contextType,m.context=typeof T=="object"&&T!==null?rt(T):Ri,m.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Os(i,l,T,r),m.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Js.enqueueReplaceState(m,m.state,null),Io(i,r,m,f),Uo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){m=i.stateNode;var S=i.memoizedProps,A=ei(l,S);m.props=A;var w=m.context,G=l.contextType;T=Ri,typeof G=="object"&&G!==null&&(T=rt(G));var q=l.getDerivedStateFromProps;G=typeof q=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,G||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||w!==T)&&Sf(i,m,r,T),hn=!1;var I=i.memoizedState;m.state=I,Io(i,r,m,f),Uo(),w=i.memoizedState,S||I!==w||hn?(typeof q=="function"&&(Os(i,l,q,r),w=i.memoizedState),(A=hn||Cf(i,l,A,r,I,w,T))?(G||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=w),m.props=r,m.state=w,m.context=T,r=A):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{m=i.stateNode,_s(t,i),T=i.memoizedProps,G=ei(l,T),m.props=G,q=i.pendingProps,I=m.context,w=l.contextType,A=Ri,typeof w=="object"&&w!==null&&(A=rt(w)),S=l.getDerivedStateFromProps,(w=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==q||I!==A)&&Sf(i,m,r,A),hn=!1,I=i.memoizedState,m.state=I,Io(i,r,m,f),Uo();var b=i.memoizedState;T!==q||I!==b||hn||t!==null&&t.dependencies!==null&&wl(t.dependencies)?(typeof S=="function"&&(Os(i,l,S,r),b=i.memoizedState),(G=hn||Cf(i,l,G,r,I,b,A)||t!==null&&t.dependencies!==null&&wl(t.dependencies))?(w||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,b,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,b,A)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=b),m.props=r,m.state=b,m.context=A,r=G):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),r=!1)}return m=r,Xl(t,i),r=(i.flags&128)!==0,m||r?(m=i.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&r?(i.child=Hi(i,t.child,null,f),i.child=Hi(i,null,l,f)):lt(t,i,l,f),i.memoizedState=m.state,t=i.child):t=on(t,i,f),t}function Gf(t,i,l,r){return Ao(),i.flags|=256,lt(t,i,l,r),i.child}var Xs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qs(t){return{baseLanes:t,cachePool:Ec()}}function Zs(t,i,l){return t=t!==null?t.childLanes&~l:0,i&&(t|=Vt),t}function Hf(t,i,l){var r=i.pendingProps,f=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(je.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(De){if(f?Cn(i):Sn(),De){var S=ze,A;if(A=S){e:{for(A=S,S=zt;A.nodeType!==8;){if(!S){S=null;break e}if(A=Pt(A.nextSibling),A===null){S=null;break e}}S=A}S!==null?(i.memoizedState={dehydrated:S,treeContext:Jn!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},A=Et(18,null,null,0),A.stateNode=S,A.return=i,i.child=A,mt=i,ze=null,A=!0):A=!1}A||Xn(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Lu(S)?i.lanes=32:i.lanes=536870912,null;nn(i)}return S=r.children,r=r.fallback,f?(Sn(),f=i.mode,S=Ql({mode:"hidden",children:S},f),r=On(r,f,l,null),S.return=i,r.return=i,S.sibling=r,i.child=S,f=i.child,f.memoizedState=Qs(l),f.childLanes=Zs(t,T,l),i.memoizedState=Xs,r):(Cn(i),Ws(i,S))}if(A=t.memoizedState,A!==null&&(S=A.dehydrated,S!==null)){if(m)i.flags&256?(Cn(i),i.flags&=-257,i=js(t,i,l)):i.memoizedState!==null?(Sn(),i.child=t.child,i.flags|=128,i=null):(Sn(),f=r.fallback,S=i.mode,r=Ql({mode:"visible",children:r.children},S),f=On(f,S,l,null),f.flags|=2,r.return=i,f.return=i,r.sibling=f,i.child=r,Hi(i,t.child,null,l),r=i.child,r.memoizedState=Qs(l),r.childLanes=Zs(t,T,l),i.memoizedState=Xs,i=f);else if(Cn(i),Lu(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var w=T.dgst;T=w,r=Error(a(419)),r.stack="",r.digest=T,_o({value:r,source:null,stack:null}),i=js(t,i,l)}else if(tt||Mo(t,i,l,!1),T=(l&t.childLanes)!==0,tt||T){if(T=qe,T!==null&&(r=l&-l,r=(r&42)!==0?1:Va(r),r=(r&(T.suspendedLanes|l))!==0?0:r,r!==0&&r!==A.retryLane))throw A.retryLane=r,xi(t,r),Rt(T,t,r),Nf;S.data==="$?"||yu(),i=js(t,i,l)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,ze=Pt(S.nextSibling),mt=i,De=!0,Kn=null,zt=!1,t!==null&&(It[bt++]=Zt,It[bt++]=Wt,It[bt++]=Jn,Zt=t.id,Wt=t.overflow,Jn=i),i=Ws(i,r.children),i.flags|=4096);return i}return f?(Sn(),f=r.fallback,S=i.mode,A=t.child,w=A.sibling,r=Qt(A,{mode:"hidden",children:r.children}),r.subtreeFlags=A.subtreeFlags&65011712,w!==null?f=Qt(w,f):(f=On(f,S,l,null),f.flags|=2),f.return=i,r.return=i,r.sibling=f,i.child=r,r=f,f=i.child,S=t.child.memoizedState,S===null?S=Qs(l):(A=S.cachePool,A!==null?(w=We._currentValue,A=A.parent!==w?{parent:w,pool:w}:A):A=Ec(),S={baseLanes:S.baseLanes|l,cachePool:A}),f.memoizedState=S,f.childLanes=Zs(t,T,l),i.memoizedState=Xs,r):(Cn(i),l=t.child,t=l.sibling,l=Qt(l,{mode:"visible",children:r.children}),l.return=i,l.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=l,i.memoizedState=null,l)}function Ws(t,i){return i=Ql({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ql(t,i){return t=Et(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function js(t,i,l){return Hi(i,t.child,null,l),t=Ws(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function qf(t,i,l){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),ys(t.return,i,l)}function eu(t,i,l,r,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=r,m.tail=l,m.tailMode=f)}function kf(t,i,l){var r=i.pendingProps,f=r.revealOrder,m=r.tail;if(lt(t,i,r.children,l),r=je.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qf(t,l,i);else if(t.tag===19)qf(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(O(je,r),f){case"forwards":for(l=i.child,f=null;l!==null;)t=l.alternate,t!==null&&Jl(t)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),eu(i,!1,f,l,m);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Jl(t)===null){i.child=f;break}t=f.sibling,f.sibling=l,l=f,f=t}eu(i,!0,l,null,m);break;case"together":eu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function on(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),xn|=i.lanes,(l&i.childLanes)===0)if(t!==null){if(Mo(t,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,l=Qt(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=Qt(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function tu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&wl(t)))}function Gh(t,i,l){switch(i.tag){case 3:Ge(i,i.stateNode.containerInfo),gn(i,We,t.memoizedState.cache),Ao();break;case 27:case 5:ui(i);break;case 4:Ge(i,i.stateNode.containerInfo);break;case 10:gn(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(Cn(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Hf(t,i,l):(Cn(i),t=on(t,i,l),t!==null?t.sibling:null);Cn(i);break;case 19:var f=(t.flags&128)!==0;if(r=(l&i.childLanes)!==0,r||(Mo(t,i,l,!1),r=(l&i.childLanes)!==0),f){if(r)return kf(t,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),O(je,je.current),r)break;return null;case 22:case 23:return i.lanes=0,If(t,i,l);case 24:gn(i,We,t.memoizedState.cache)}return on(t,i,l)}function Pf(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps)tt=!0;else{if(!tu(t,l)&&(i.flags&128)===0)return tt=!1,Gh(t,i,l);tt=(t.flags&131072)!==0}else tt=!1,De&&(i.flags&1048576)!==0&&gc(i,Dl,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var r=i.elementType,f=r._init;if(r=f(r._payload),i.type=r,typeof r=="function")cs(r)?(t=ei(r,t),i.tag=1,i=Vf(null,i,r,t,l)):(i.tag=0,i=Ks(null,i,r,t,l));else{if(r!=null){if(f=r.$$typeof,f===X){i.tag=11,i=Df(null,i,r,t,l);break e}else if(f===le){i.tag=14,i=wf(null,i,r,t,l);break e}}throw i=pt(r)||r,Error(a(306,i,""))}}return i;case 0:return Ks(t,i,i.type,i.pendingProps,l);case 1:return r=i.type,f=ei(r,i.pendingProps),Vf(t,i,r,f,l);case 3:e:{if(Ge(i,i.stateNode.containerInfo),t===null)throw Error(a(387));r=i.pendingProps;var m=i.memoizedState;f=m.element,_s(t,i),Io(i,r,null,l);var T=i.memoizedState;if(r=T.cache,gn(i,We,r),r!==m.cache&&vs(i,[We],l,!0),Uo(),r=T.element,m.isDehydrated)if(m={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Gf(t,i,r,l);break e}else if(r!==f){f=wt(Error(a(424)),i),_o(f),i=Gf(t,i,r,l);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ze=Pt(t.firstChild),mt=i,De=!0,Kn=null,zt=!0,l=vf(i,null,r,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ao(),r===f){i=on(t,i,l);break e}lt(t,i,r,l)}i=i.child}return i;case 26:return Xl(t,i),t===null?(l=Fd(i.type,null,i.pendingProps,null))?i.memoizedState=l:De||(l=i.type,t=i.pendingProps,r=ca(pe.current).createElement(l),r[ut]=i,r[gt]=t,st(r,l,t),et(r),i.stateNode=r):i.memoizedState=Fd(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ui(i),t===null&&De&&(r=i.stateNode=Bd(i.type,i.pendingProps,pe.current),mt=i,zt=!0,f=ze,wn(i.type)?(Vu=f,ze=Pt(r.firstChild)):ze=f),lt(t,i,i.pendingProps.children,l),Xl(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&De&&((f=r=ze)&&(r=cy(r,i.type,i.pendingProps,zt),r!==null?(i.stateNode=r,mt=i,ze=Pt(r.firstChild),zt=!1,f=!0):f=!1),f||Xn(i)),ui(i),f=i.type,m=i.pendingProps,T=t!==null?t.memoizedProps:null,r=m.children,Uu(f,m)?r=null:T!==null&&Uu(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=ws(t,i,Nh,null,null,l),el._currentValue=f),Xl(t,i),lt(t,i,r,l),i.child;case 6:return t===null&&De&&((t=l=ze)&&(l=fy(l,i.pendingProps,zt),l!==null?(i.stateNode=l,mt=i,ze=null,t=!0):t=!1),t||Xn(i)),null;case 13:return Hf(t,i,l);case 4:return Ge(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=Hi(i,null,r,l):lt(t,i,r,l),i.child;case 11:return Df(t,i,i.type,i.pendingProps,l);case 7:return lt(t,i,i.pendingProps,l),i.child;case 8:return lt(t,i,i.pendingProps.children,l),i.child;case 12:return lt(t,i,i.pendingProps.children,l),i.child;case 10:return r=i.pendingProps,gn(i,i.type,r.value),lt(t,i,r.children,l),i.child;case 9:return f=i.type._context,r=i.pendingProps.children,Zn(i),f=rt(f),r=r(f),i.flags|=1,lt(t,i,r,l),i.child;case 14:return wf(t,i,i.type,i.pendingProps,l);case 15:return Uf(t,i,i.type,i.pendingProps,l);case 19:return kf(t,i,l);case 31:return r=i.pendingProps,l=i.mode,r={mode:r.mode,children:r.children},t===null?(l=Ql(r,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=Qt(t.child,r),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return If(t,i,l);case 24:return Zn(i),r=rt(We),t===null?(f=Ss(),f===null&&(f=qe,m=Ts(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),i.memoizedState={parent:r,cache:f},As(i),gn(i,We,f)):((t.lanes&l)!==0&&(_s(t,i),Io(i,null,null,l),Uo()),f=t.memoizedState,m=i.memoizedState,f.parent!==r?(f={parent:r,cache:r},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),gn(i,We,r)):(r=m.cache,gn(i,We,r),r!==f.cache&&vs(i,[We],l,!0))),lt(t,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ln(t){t.flags|=4}function Bf(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xd(i)){if(i=Lt.current,i!==null&&((Re&4194048)===Re?Yt!==null:(Re&62914560)!==Re&&(Re&536870912)===0||i!==Yt))throw Do=Es,Ac;t.flags|=8192}}function Zl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?vr():536870912,t.lanes|=i,Bi|=i)}function ko(t,i){if(!De)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Be(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,r=0;if(i)for(var f=t.child;f!==null;)l|=f.lanes|f.childLanes,r|=f.subtreeFlags&65011712,r|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)l|=f.lanes|f.childLanes,r|=f.subtreeFlags,r|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=r,t.childLanes=l,i}function Hh(t,i,l){var r=i.pendingProps;switch(ps(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(i),null;case 1:return Be(i),null;case 3:return l=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),en(We),Bt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Eo(i)?ln(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vc())),Be(i),null;case 26:return l=i.memoizedState,t===null?(ln(i),l!==null?(Be(i),Bf(i,l)):(Be(i),i.flags&=-16777217)):l?l!==t.memoizedState?(ln(i),Be(i),Bf(i,l)):(Be(i),i.flags&=-16777217):(t.memoizedProps!==r&&ln(i),Be(i),i.flags&=-16777217),null;case 27:ri(i),l=pe.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==r&&ln(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return Be(i),null}t=ie.current,Eo(i)?hc(i):(t=Bd(f,r,l),i.stateNode=t,ln(i))}return Be(i),null;case 5:if(ri(i),l=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&ln(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return Be(i),null}if(t=ie.current,Eo(i))hc(i);else{switch(f=ca(pe.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?f.createElement("select",{is:r.is}):f.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?f.createElement(l,{is:r.is}):f.createElement(l)}}t[ut]=i,t[gt]=r;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(st(t,l,r),l){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ln(i)}}return Be(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&ln(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(a(166));if(t=pe.current,Eo(i)){if(t=i.stateNode,l=i.memoizedProps,r=null,f=mt,f!==null)switch(f.tag){case 27:case 5:r=f.memoizedProps}t[ut]=i,t=!!(t.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||Ld(t.nodeValue,l)),t||Xn(i)}else t=ca(t).createTextNode(r),t[ut]=i,i.stateNode=t}return Be(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Eo(i),r!==null&&r.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ut]=i}else Ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),f=!1}else f=vc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(nn(i),i):(nn(i),null)}if(nn(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=r!==null,t=t!==null&&t.memoizedState!==null,l){r=i.child,f=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(f=r.alternate.memoizedState.cachePool.pool);var m=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==f&&(r.flags|=2048)}return l!==t&&l&&(i.child.flags|=8192),Zl(i,i.updateQueue),Be(i),null;case 4:return Bt(),t===null&&xu(i.stateNode.containerInfo),Be(i),null;case 10:return en(i.type),Be(i),null;case 19:if(K(je),f=i.memoizedState,f===null)return Be(i),null;if(r=(i.flags&128)!==0,m=f.rendering,m===null)if(r)ko(f,!1);else{if(Ye!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Jl(t),m!==null){for(i.flags|=128,ko(f,!1),t=m.updateQueue,i.updateQueue=t,Zl(i,t),i.subtreeFlags=0,t=l,l=i.child;l!==null;)pc(l,t),l=l.sibling;return O(je,je.current&1|2),i.child}t=t.sibling}f.tail!==null&&ee()>ea&&(i.flags|=128,r=!0,ko(f,!1),i.lanes=4194304)}else{if(!r)if(t=Jl(m),t!==null){if(i.flags|=128,r=!0,t=t.updateQueue,i.updateQueue=t,Zl(i,t),ko(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!De)return Be(i),null}else 2*ee()-f.renderingStartTime>ea&&l!==536870912&&(i.flags|=128,r=!0,ko(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(t=f.last,t!==null?t.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=ee(),i.sibling=null,t=je.current,O(je,r?t&1|2:t&1),i):(Be(i),null);case 22:case 23:return nn(i),Ns(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(l&536870912)!==0&&(i.flags&128)===0&&(Be(i),i.subtreeFlags&6&&(i.flags|=8192)):Be(i),l=i.updateQueue,l!==null&&Zl(i,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(i.flags|=2048),t!==null&&K(Wn),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),en(We),Be(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function qh(t,i){switch(ps(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return en(We),Bt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ri(i),null;case 13:if(nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ao()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(je),null;case 4:return Bt(),null;case 10:return en(i.type),null;case 22:case 23:return nn(i),Ns(),t!==null&&K(Wn),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return en(We),null;case 25:return null;default:return null}}function zf(t,i){switch(ps(i),i.tag){case 3:en(We),Bt();break;case 26:case 27:case 5:ri(i);break;case 4:Bt();break;case 13:nn(i);break;case 19:K(je);break;case 10:en(i.type);break;case 22:case 23:nn(i),Ns(),t!==null&&K(Wn);break;case 24:en(We)}}function Po(t,i){try{var l=i.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var f=r.next;l=f;do{if((l.tag&t)===t){r=void 0;var m=l.create,T=l.inst;r=m(),T.destroy=r}l=l.next}while(l!==f)}}catch(S){He(i,i.return,S)}}function En(t,i,l){try{var r=i.updateQueue,f=r!==null?r.lastEffect:null;if(f!==null){var m=f.next;r=m;do{if((r.tag&t)===t){var T=r.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=i;var A=l,w=S;try{w()}catch(G){He(f,A,G)}}}r=r.next}while(r!==m)}}catch(G){He(i,i.return,G)}}function Yf(t){var i=t.updateQueue;if(i!==null){var l=t.stateNode;try{Dc(i,l)}catch(r){He(t,t.return,r)}}}function Ff(t,i,l){l.props=ei(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(r){He(t,i,r)}}function Bo(t,i){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof l=="function"?t.refCleanup=l(r):l.current=r}}catch(f){He(t,i,f)}}function Ft(t,i){var l=t.ref,r=t.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(f){He(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){He(t,i,f)}else l.current=null}function Of(t){var i=t.type,l=t.memoizedProps,r=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(f){He(t,t.return,f)}}function nu(t,i,l){try{var r=t.stateNode;ly(r,t.type,l,i),r[gt]=i}catch(f){He(t,t.return,f)}}function Jf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wn(t.type)||t.tag===4}function iu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ou(t,i,l){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(t),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=ra));else if(r!==4&&(r===27&&wn(t.type)&&(l=t.stateNode,i=null),t=t.child,t!==null))for(ou(t,i,l),t=t.sibling;t!==null;)ou(t,i,l),t=t.sibling}function Wl(t,i,l){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(r!==4&&(r===27&&wn(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Wl(t,i,l),t=t.sibling;t!==null;)Wl(t,i,l),t=t.sibling}function $f(t){var i=t.stateNode,l=t.memoizedProps;try{for(var r=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);st(i,r,l),i[ut]=t,i[gt]=l}catch(m){He(t,t.return,m)}}var an=!1,Je=!1,lu=!1,Kf=typeof WeakSet=="function"?WeakSet:Set,nt=null;function kh(t,i){if(t=t.containerInfo,Du=ha,t=oc(t),is(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var f=r.anchorOffset,m=r.focusNode;r=r.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,S=-1,A=-1,w=0,G=0,q=t,I=null;t:for(;;){for(var b;q!==l||f!==0&&q.nodeType!==3||(S=T+f),q!==m||r!==0&&q.nodeType!==3||(A=T+r),q.nodeType===3&&(T+=q.nodeValue.length),(b=q.firstChild)!==null;)I=q,q=b;for(;;){if(q===t)break t;if(I===l&&++w===f&&(S=T),I===m&&++G===r&&(A=T),(b=q.nextSibling)!==null)break;q=I,I=q.parentNode}q=b}l=S===-1||A===-1?null:{start:S,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(wu={focusedElem:t,selectionRange:l},ha=!1,nt=i;nt!==null;)if(i=nt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,nt=t;else for(;nt!==null;){switch(i=nt,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,l=i,f=m.memoizedProps,m=m.memoizedState,r=l.stateNode;try{var de=ei(l.type,f,l.elementType===l.type);t=r.getSnapshotBeforeUpdate(de,m),r.__reactInternalSnapshotBeforeUpdate=t}catch(se){He(l,l.return,se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,l=t.nodeType,l===9)bu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,nt=t;break}nt=i.return}}function Xf(t,i,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:An(t,l),r&4&&Po(5,l);break;case 1:if(An(t,l),r&4)if(t=l.stateNode,i===null)try{t.componentDidMount()}catch(T){He(l,l.return,T)}else{var f=ei(l.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){He(l,l.return,T)}}r&64&&Yf(l),r&512&&Bo(l,l.return);break;case 3:if(An(t,l),r&64&&(t=l.updateQueue,t!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Dc(t,i)}catch(T){He(l,l.return,T)}}break;case 27:i===null&&r&4&&$f(l);case 26:case 5:An(t,l),i===null&&r&4&&Of(l),r&512&&Bo(l,l.return);break;case 12:An(t,l);break;case 13:An(t,l),r&4&&Wf(t,l),r&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=Kh.bind(null,l),dy(t,l))));break;case 22:if(r=l.memoizedState!==null||an,!r){i=i!==null&&i.memoizedState!==null||Je,f=an;var m=Je;an=r,(Je=i)&&!m?_n(t,l,(l.subtreeFlags&8772)!==0):An(t,l),an=f,Je=m}break;case 30:break;default:An(t,l)}}function Qf(t){var i=t.alternate;i!==null&&(t.alternate=null,Qf(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&qa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pe=null,vt=!1;function sn(t,i,l){for(l=l.child;l!==null;)Zf(t,i,l),l=l.sibling}function Zf(t,i,l){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(kn,l)}catch{}switch(l.tag){case 26:Je||Ft(l,i),sn(t,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Je||Ft(l,i);var r=Pe,f=vt;wn(l.type)&&(Pe=l.stateNode,vt=!1),sn(t,i,l),Qo(l.stateNode),Pe=r,vt=f;break;case 5:Je||Ft(l,i);case 6:if(r=Pe,f=vt,Pe=null,sn(t,i,l),Pe=r,vt=f,Pe!==null)if(vt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(l.stateNode)}catch(m){He(l,i,m)}else try{Pe.removeChild(l.stateNode)}catch(m){He(l,i,m)}break;case 18:Pe!==null&&(vt?(t=Pe,kd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),ol(t)):kd(Pe,l.stateNode));break;case 4:r=Pe,f=vt,Pe=l.stateNode.containerInfo,vt=!0,sn(t,i,l),Pe=r,vt=f;break;case 0:case 11:case 14:case 15:Je||En(2,l,i),Je||En(4,l,i),sn(t,i,l);break;case 1:Je||(Ft(l,i),r=l.stateNode,typeof r.componentWillUnmount=="function"&&Ff(l,i,r)),sn(t,i,l);break;case 21:sn(t,i,l);break;case 22:Je=(r=Je)||l.memoizedState!==null,sn(t,i,l),Je=r;break;default:sn(t,i,l)}}function Wf(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(l){He(i,i.return,l)}}function Ph(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Kf),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Kf),i;default:throw Error(a(435,t.tag))}}function au(t,i){var l=Ph(t);i.forEach(function(r){var f=Xh.bind(null,t,r);l.has(r)||(l.add(r),r.then(f,f))})}function At(t,i){var l=i.deletions;if(l!==null)for(var r=0;r<l.length;r++){var f=l[r],m=t,T=i,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(wn(S.type)){Pe=S.stateNode,vt=!1;break e}break;case 5:Pe=S.stateNode,vt=!1;break e;case 3:case 4:Pe=S.stateNode.containerInfo,vt=!0;break e}S=S.return}if(Pe===null)throw Error(a(160));Zf(m,T,f),Pe=null,vt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)jf(i,t),i=i.sibling}var kt=null;function jf(t,i){var l=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:At(i,t),_t(t),r&4&&(En(3,t,t.return),Po(3,t),En(5,t,t.return));break;case 1:At(i,t),_t(t),r&512&&(Je||l===null||Ft(l,l.return)),r&64&&an&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var f=kt;if(At(i,t),_t(t),r&512&&(Je||l===null||Ft(l,l.return)),r&4){var m=l!==null?l.memoizedState:null;if(r=t.memoizedState,l===null)if(r===null)if(t.stateNode===null){e:{r=t.type,l=t.memoizedProps,f=f.ownerDocument||f;t:switch(r){case"title":m=f.getElementsByTagName("title")[0],(!m||m[co]||m[ut]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(r),f.head.insertBefore(m,f.querySelector("head > title"))),st(m,r,l),m[ut]=t,et(m),r=m;break e;case"link":var T=$d("link","href",f).get(r+(l.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(S,1);break t}}m=f.createElement(r),st(m,r,l),f.head.appendChild(m);break;case"meta":if(T=$d("meta","content",f).get(r+(l.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(S,1);break t}}m=f.createElement(r),st(m,r,l),f.head.appendChild(m);break;default:throw Error(a(468,r))}m[ut]=t,et(m),r=m}t.stateNode=r}else Kd(f,t.type,t.stateNode);else t.stateNode=Jd(f,r,t.memoizedProps);else m!==r?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,r===null?Kd(f,t.type,t.stateNode):Jd(f,r,t.memoizedProps)):r===null&&t.stateNode!==null&&nu(t,t.memoizedProps,l.memoizedProps)}break;case 27:At(i,t),_t(t),r&512&&(Je||l===null||Ft(l,l.return)),l!==null&&r&4&&nu(t,t.memoizedProps,l.memoizedProps);break;case 5:if(At(i,t),_t(t),r&512&&(Je||l===null||Ft(l,l.return)),t.flags&32){f=t.stateNode;try{Ti(f,"")}catch(b){He(t,t.return,b)}}r&4&&t.stateNode!=null&&(f=t.memoizedProps,nu(t,f,l!==null?l.memoizedProps:f)),r&1024&&(lu=!0);break;case 6:if(At(i,t),_t(t),r&4){if(t.stateNode===null)throw Error(a(162));r=t.memoizedProps,l=t.stateNode;try{l.nodeValue=r}catch(b){He(t,t.return,b)}}break;case 3:if(ma=null,f=kt,kt=fa(i.containerInfo),At(i,t),kt=f,_t(t),r&4&&l!==null&&l.memoizedState.isDehydrated)try{ol(i.containerInfo)}catch(b){He(t,t.return,b)}lu&&(lu=!1,ed(t));break;case 4:r=kt,kt=fa(t.stateNode.containerInfo),At(i,t),_t(t),kt=r;break;case 12:At(i,t),_t(t);break;case 13:At(i,t),_t(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(du=ee()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,au(t,r)));break;case 22:f=t.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,w=an,G=Je;if(an=w||f,Je=G||A,At(i,t),Je=G,an=w,_t(t),r&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||A||an||Je||ti(t)),l=null,i=t;;){if(i.tag===5||i.tag===26){if(l===null){A=l=i;try{if(m=A.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=A.stateNode;var q=A.memoizedProps.style,I=q!=null&&q.hasOwnProperty("display")?q.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(b){He(A,A.return,b)}}}else if(i.tag===6){if(l===null){A=i;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(b){He(A,A.return,b)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,au(t,l))));break;case 19:At(i,t),_t(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,au(t,r)));break;case 30:break;case 21:break;default:At(i,t),_t(t)}}function _t(t){var i=t.flags;if(i&2){try{for(var l,r=t.return;r!==null;){if(Jf(r)){l=r;break}r=r.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,m=iu(t);Wl(t,m,f);break;case 5:var T=l.stateNode;l.flags&32&&(Ti(T,""),l.flags&=-33);var S=iu(t);Wl(t,S,T);break;case 3:case 4:var A=l.stateNode.containerInfo,w=iu(t);ou(t,w,A);break;default:throw Error(a(161))}}catch(G){He(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function ed(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;ed(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function An(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xf(t,i.alternate,i),i=i.sibling}function ti(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:En(4,i,i.return),ti(i);break;case 1:Ft(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Ff(i,i.return,l),ti(i);break;case 27:Qo(i.stateNode);case 26:case 5:Ft(i,i.return),ti(i);break;case 22:i.memoizedState===null&&ti(i);break;case 30:ti(i);break;default:ti(i)}t=t.sibling}}function _n(t,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,f=t,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:_n(f,m,l),Po(4,m);break;case 1:if(_n(f,m,l),r=m,f=r.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(w){He(r,r.return,w)}if(r=m,f=r.updateQueue,f!==null){var S=r.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)Nc(A[f],S)}catch(w){He(r,r.return,w)}}l&&T&64&&Yf(m),Bo(m,m.return);break;case 27:$f(m);case 26:case 5:_n(f,m,l),l&&r===null&&T&4&&Of(m),Bo(m,m.return);break;case 12:_n(f,m,l);break;case 13:_n(f,m,l),l&&T&4&&Wf(f,m);break;case 22:m.memoizedState===null&&_n(f,m,l),Bo(m,m.return);break;case 30:break;default:_n(f,m,l)}i=i.sibling}}function su(t,i){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&xo(l))}function uu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t))}function Ot(t,i,l,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)td(t,i,l,r),i=i.sibling}function td(t,i,l,r){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ot(t,i,l,r),f&2048&&Po(9,i);break;case 1:Ot(t,i,l,r);break;case 3:Ot(t,i,l,r),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t)));break;case 12:if(f&2048){Ot(t,i,l,r),t=i.stateNode;try{var m=i.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){He(i,i.return,A)}}else Ot(t,i,l,r);break;case 13:Ot(t,i,l,r);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?Ot(t,i,l,r):zo(t,i):m._visibility&2?Ot(t,i,l,r):(m._visibility|=2,qi(t,i,l,r,(i.subtreeFlags&10256)!==0)),f&2048&&su(T,i);break;case 24:Ot(t,i,l,r),f&2048&&uu(i.alternate,i);break;default:Ot(t,i,l,r)}}function qi(t,i,l,r,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,T=i,S=l,A=r,w=T.flags;switch(T.tag){case 0:case 11:case 15:qi(m,T,S,A,f),Po(8,T);break;case 23:break;case 22:var G=T.stateNode;T.memoizedState!==null?G._visibility&2?qi(m,T,S,A,f):zo(m,T):(G._visibility|=2,qi(m,T,S,A,f)),f&&w&2048&&su(T.alternate,T);break;case 24:qi(m,T,S,A,f),f&&w&2048&&uu(T.alternate,T);break;default:qi(m,T,S,A,f)}i=i.sibling}}function zo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=t,r=i,f=r.flags;switch(r.tag){case 22:zo(l,r),f&2048&&su(r.alternate,r);break;case 24:zo(l,r),f&2048&&uu(r.alternate,r);break;default:zo(l,r)}i=i.sibling}}var Yo=8192;function ki(t){if(t.subtreeFlags&Yo)for(t=t.child;t!==null;)nd(t),t=t.sibling}function nd(t){switch(t.tag){case 26:ki(t),t.flags&Yo&&t.memoizedState!==null&&My(kt,t.memoizedState,t.memoizedProps);break;case 5:ki(t);break;case 3:case 4:var i=kt;kt=fa(t.stateNode.containerInfo),ki(t),kt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Yo,Yo=16777216,ki(t),Yo=i):ki(t));break;default:ki(t)}}function id(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Fo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];nt=r,ld(r,t)}id(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)od(t),t=t.sibling}function od(t){switch(t.tag){case 0:case 11:case 15:Fo(t),t.flags&2048&&En(9,t,t.return);break;case 3:Fo(t);break;case 12:Fo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,jl(t)):Fo(t);break;default:Fo(t)}}function jl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];nt=r,ld(r,t)}id(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:En(8,i,i.return),jl(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,jl(i));break;default:jl(i)}t=t.sibling}}function ld(t,i){for(;nt!==null;){var l=nt;switch(l.tag){case 0:case 11:case 15:En(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:xo(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,nt=r;else e:for(l=t;nt!==null;){r=nt;var f=r.sibling,m=r.return;if(Qf(r),r===l){nt=null;break e}if(f!==null){f.return=m,nt=f;break e}nt=m}}}var Bh={getCacheForType:function(t){var i=rt(We),l=i.data.get(t);return l===void 0&&(l=t(),i.data.set(t,l)),l}},zh=typeof WeakMap=="function"?WeakMap:Map,Ue=0,qe=null,Ee=null,Re=0,Ie=0,Mt=null,Mn=!1,Pi=!1,ru=!1,un=0,Ye=0,xn=0,ni=0,cu=0,Vt=0,Bi=0,Oo=null,Tt=null,fu=!1,du=0,ea=1/0,ta=null,Rn=null,at=0,Nn=null,zi=null,Yi=0,mu=0,pu=null,ad=null,Jo=0,gu=null;function xt(){if((Ue&2)!==0&&Re!==0)return Re&-Re;if(U.T!==null){var t=wi;return t!==0?t:Eu()}return Sr()}function sd(){Vt===0&&(Vt=(Re&536870912)===0||De?yr():536870912);var t=Lt.current;return t!==null&&(t.flags|=32),Vt}function Rt(t,i,l){(t===qe&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)&&(Fi(t,0),Dn(t,Re,Vt,!1)),ro(t,l),((Ue&2)===0||t!==qe)&&(t===qe&&((Ue&2)===0&&(ni|=l),Ye===4&&Dn(t,Re,Vt,!1)),Jt(t))}function ud(t,i,l){if((Ue&6)!==0)throw Error(a(327));var r=!l&&(i&124)===0&&(i&t.expiredLanes)===0||uo(t,i),f=r?Oh(t,i):vu(t,i,!0),m=r;do{if(f===0){Pi&&!r&&Dn(t,i,0,!1);break}else{if(l=t.current.alternate,m&&!Yh(l)){f=vu(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var S=t;f=Oo;var A=S.current.memoizedState.isDehydrated;if(A&&(Fi(S,T).flags|=256),T=vu(S,T,!1),T!==2){if(ru&&!A){S.errorRecoveryDisabledLanes|=m,ni|=m,f=4;break e}m=Tt,Tt=f,m!==null&&(Tt===null?Tt=m:Tt.push.apply(Tt,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Fi(t,0),Dn(t,i,0,!0);break}e:{switch(r=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Dn(r,i,Vt,!Mn);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=du+300-ee(),10<f)){if(Dn(r,i,Vt,!Mn),dl(r,0,!0)!==0)break e;r.timeoutHandle=Hd(rd.bind(null,r,l,Tt,ta,fu,i,Vt,ni,Bi,Mn,m,2,-0,0),f);break e}rd(r,l,Tt,ta,fu,i,Vt,ni,Bi,Mn,m,0,-0,0)}}break}while(!0);Jt(t)}function rd(t,i,l,r,f,m,T,S,A,w,G,q,I,b){if(t.timeoutHandle=-1,q=i.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(jo={stylesheets:null,count:0,unsuspend:_y},nd(i),q=xy(),q!==null)){t.cancelPendingCommit=q(hd.bind(null,t,i,m,l,r,f,T,S,A,G,1,I,b)),Dn(t,m,T,!w);return}hd(t,i,m,l,r,f,T,S,A)}function Yh(t){for(var i=t;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var f=l[r],m=f.getSnapshot;f=f.value;try{if(!St(m(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dn(t,i,l,r){i&=~cu,i&=~ni,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var f=i;0<f;){var m=31-Ct(f),T=1<<m;r[m]=-1,f&=~T}l!==0&&Tr(t,l,i)}function na(){return(Ue&6)===0?($o(0),!1):!0}function hu(){if(Ee!==null){if(Ie===0)var t=Ee.return;else t=Ee,jt=Qn=null,bs(t),Gi=null,Ho=0,t=Ee;for(;t!==null;)zf(t.alternate,t),t=t.return;Ee=null}}function Fi(t,i){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,sy(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),hu(),qe=t,Ee=l=Qt(t.current,null),Re=i,Ie=0,Mt=null,Mn=!1,Pi=uo(t,i),ru=!1,Bi=Vt=cu=ni=xn=Ye=0,Tt=Oo=null,fu=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var f=31-Ct(r),m=1<<f;i|=t[f],r&=~m}return un=i,_l(),l}function cd(t,i){Ce=null,U.H=Yl,i===No||i===bl?(i=xc(),Ie=3):i===Ac?(i=xc(),Ie=4):Ie=i===Nf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mt=i,Ee===null&&(Ye=1,Kl(t,wt(i,t.current)))}function fd(){var t=U.H;return U.H=Yl,t===null?Yl:t}function dd(){var t=U.A;return U.A=Bh,t}function yu(){Ye=4,Mn||(Re&4194048)!==Re&&Lt.current!==null||(Pi=!0),(xn&134217727)===0&&(ni&134217727)===0||qe===null||Dn(qe,Re,Vt,!1)}function vu(t,i,l){var r=Ue;Ue|=2;var f=fd(),m=dd();(qe!==t||Re!==i)&&(ta=null,Fi(t,i)),i=!1;var T=Ye;e:do try{if(Ie!==0&&Ee!==null){var S=Ee,A=Mt;switch(Ie){case 8:hu(),T=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(i=!0);var w=Ie;if(Ie=0,Mt=null,Oi(t,S,A,w),l&&Pi){T=0;break e}break;default:w=Ie,Ie=0,Mt=null,Oi(t,S,A,w)}}Fh(),T=Ye;break}catch(G){cd(t,G)}while(!0);return i&&t.shellSuspendCounter++,jt=Qn=null,Ue=r,U.H=f,U.A=m,Ee===null&&(qe=null,Re=0,_l()),T}function Fh(){for(;Ee!==null;)md(Ee)}function Oh(t,i){var l=Ue;Ue|=2;var r=fd(),f=dd();qe!==t||Re!==i?(ta=null,ea=ee()+500,Fi(t,i)):Pi=uo(t,i);e:do try{if(Ie!==0&&Ee!==null){i=Ee;var m=Mt;t:switch(Ie){case 1:Ie=0,Mt=null,Oi(t,i,m,1);break;case 2:case 9:if(_c(m)){Ie=0,Mt=null,pd(i);break}i=function(){Ie!==2&&Ie!==9||qe!==t||(Ie=7),Jt(t)},m.then(i,i);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:_c(m)?(Ie=0,Mt=null,pd(i)):(Ie=0,Mt=null,Oi(t,i,m,7));break;case 5:var T=null;switch(Ee.tag){case 26:T=Ee.memoizedState;case 5:case 27:var S=Ee;if(!T||Xd(T)){Ie=0,Mt=null;var A=S.sibling;if(A!==null)Ee=A;else{var w=S.return;w!==null?(Ee=w,ia(w)):Ee=null}break t}}Ie=0,Mt=null,Oi(t,i,m,5);break;case 6:Ie=0,Mt=null,Oi(t,i,m,6);break;case 8:hu(),Ye=6;break e;default:throw Error(a(462))}}Jh();break}catch(G){cd(t,G)}while(!0);return jt=Qn=null,U.H=r,U.A=f,Ue=l,Ee!==null?0:(qe=null,Re=0,_l(),Ye)}function Jh(){for(;Ee!==null&&!J();)md(Ee)}function md(t){var i=Pf(t.alternate,t,un);t.memoizedProps=t.pendingProps,i===null?ia(t):Ee=i}function pd(t){var i=t,l=i.alternate;switch(i.tag){case 15:case 0:i=Lf(l,i,i.pendingProps,i.type,void 0,Re);break;case 11:i=Lf(l,i,i.pendingProps,i.type.render,i.ref,Re);break;case 5:bs(i);default:zf(l,i),i=Ee=pc(i,un),i=Pf(l,i,un)}t.memoizedProps=t.pendingProps,i===null?ia(t):Ee=i}function Oi(t,i,l,r){jt=Qn=null,bs(i),Gi=null,Ho=0;var f=i.return;try{if(Vh(t,f,i,l,Re)){Ye=1,Kl(t,wt(l,t.current)),Ee=null;return}}catch(m){if(f!==null)throw Ee=f,m;Ye=1,Kl(t,wt(l,t.current)),Ee=null;return}i.flags&32768?(De||r===1?t=!0:Pi||(Re&536870912)!==0?t=!1:(Mn=t=!0,(r===2||r===9||r===3||r===6)&&(r=Lt.current,r!==null&&r.tag===13&&(r.flags|=16384))),gd(i,t)):ia(i)}function ia(t){var i=t;do{if((i.flags&32768)!==0){gd(i,Mn);return}t=i.return;var l=Hh(i.alternate,i,un);if(l!==null){Ee=l;return}if(i=i.sibling,i!==null){Ee=i;return}Ee=i=t}while(i!==null);Ye===0&&(Ye=5)}function gd(t,i){do{var l=qh(t.alternate,t);if(l!==null){l.flags&=32767,Ee=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(t=t.sibling,t!==null)){Ee=t;return}Ee=t=l}while(t!==null);Ye=6,Ee=null}function hd(t,i,l,r,f,m,T,S,A){t.cancelPendingCommit=null;do oa();while(at!==0);if((Ue&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=us,_g(t,l,m,T,S,A),t===qe&&(Ee=qe=null,Re=0),zi=i,Nn=t,Yi=l,mu=m,pu=f,ad=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Qh(Fe,function(){return Sd(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=U.T,U.T=null,f=F.p,F.p=2,T=Ue,Ue|=4;try{kh(t,i,l)}finally{Ue=T,F.p=f,U.T=r}}at=1,yd(),vd(),Td()}}function yd(){if(at===1){at=0;var t=Nn,i=zi,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var r=F.p;F.p=2;var f=Ue;Ue|=4;try{jf(i,t);var m=wu,T=oc(t.containerInfo),S=m.focusedElem,A=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&ic(S.ownerDocument.documentElement,S)){if(A!==null&&is(S)){var w=A.start,G=A.end;if(G===void 0&&(G=w),"selectionStart"in S)S.selectionStart=w,S.selectionEnd=Math.min(G,S.value.length);else{var q=S.ownerDocument||document,I=q&&q.defaultView||window;if(I.getSelection){var b=I.getSelection(),de=S.textContent.length,se=Math.min(A.start,de),Ve=A.end===void 0?se:Math.min(A.end,de);!b.extend&&se>Ve&&(T=Ve,Ve=se,se=T);var R=nc(S,se),x=nc(S,Ve);if(R&&x&&(b.rangeCount!==1||b.anchorNode!==R.node||b.anchorOffset!==R.offset||b.focusNode!==x.node||b.focusOffset!==x.offset)){var D=q.createRange();D.setStart(R.node,R.offset),b.removeAllRanges(),se>Ve?(b.addRange(D),b.extend(x.node,x.offset)):(D.setEnd(x.node,x.offset),b.addRange(D))}}}}for(q=[],b=S;b=b.parentNode;)b.nodeType===1&&q.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<q.length;S++){var H=q[S];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}ha=!!Du,wu=Du=null}finally{Ue=f,F.p=r,U.T=l}}t.current=i,at=2}}function vd(){if(at===2){at=0;var t=Nn,i=zi,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var r=F.p;F.p=2;var f=Ue;Ue|=4;try{Xf(t,i.alternate,i)}finally{Ue=f,F.p=r,U.T=l}}at=3}}function Td(){if(at===4||at===3){at=0,fe();var t=Nn,i=zi,l=Yi,r=ad;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?at=5:(at=0,zi=Nn=null,Cd(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Rn=null),Ga(l),i=i.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(kn,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=U.T,f=F.p,F.p=2,U.T=null;try{for(var m=t.onRecoverableError,T=0;T<r.length;T++){var S=r[T];m(S.value,{componentStack:S.stack})}}finally{U.T=i,F.p=f}}(Yi&3)!==0&&oa(),Jt(t),f=t.pendingLanes,(l&4194090)!==0&&(f&42)!==0?t===gu?Jo++:(Jo=0,gu=t):Jo=0,$o(0)}}function Cd(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,xo(i)))}function oa(t){return yd(),vd(),Td(),Sd()}function Sd(){if(at!==5)return!1;var t=Nn,i=mu;mu=0;var l=Ga(Yi),r=U.T,f=F.p;try{F.p=32>l?32:l,U.T=null,l=pu,pu=null;var m=Nn,T=Yi;if(at=0,zi=Nn=null,Yi=0,(Ue&6)!==0)throw Error(a(331));var S=Ue;if(Ue|=4,od(m.current),td(m,m.current,T,l),Ue=S,$o(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(kn,m)}catch{}return!0}finally{F.p=f,U.T=r,Cd(t,i)}}function Ed(t,i,l){i=wt(l,i),i=$s(t.stateNode,i,2),t=vn(t,i,2),t!==null&&(ro(t,2),Jt(t))}function He(t,i,l){if(t.tag===3)Ed(t,t,l);else for(;i!==null;){if(i.tag===3){Ed(i,t,l);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rn===null||!Rn.has(r))){t=wt(l,t),l=xf(2),r=vn(i,l,2),r!==null&&(Rf(l,r,i,t),ro(r,2),Jt(r));break}}i=i.return}}function Tu(t,i,l){var r=t.pingCache;if(r===null){r=t.pingCache=new zh;var f=new Set;r.set(i,f)}else f=r.get(i),f===void 0&&(f=new Set,r.set(i,f));f.has(l)||(ru=!0,f.add(l),t=$h.bind(null,t,i,l),i.then(t,t))}function $h(t,i,l){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,qe===t&&(Re&l)===l&&(Ye===4||Ye===3&&(Re&62914560)===Re&&300>ee()-du?(Ue&2)===0&&Fi(t,0):cu|=l,Bi===Re&&(Bi=0)),Jt(t)}function Ad(t,i){i===0&&(i=vr()),t=xi(t,i),t!==null&&(ro(t,i),Jt(t))}function Kh(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),Ad(t,l)}function Xh(t,i){var l=0;switch(t.tag){case 13:var r=t.stateNode,f=t.memoizedState;f!==null&&(l=f.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(i),Ad(t,l)}function Qh(t,i){return te(t,i)}var la=null,Ji=null,Cu=!1,aa=!1,Su=!1,ii=0;function Jt(t){t!==Ji&&t.next===null&&(Ji===null?la=Ji=t:Ji=Ji.next=t),aa=!0,Cu||(Cu=!0,Wh())}function $o(t,i){if(!Su&&aa){Su=!0;do for(var l=!1,r=la;r!==null;){if(t!==0){var f=r.pendingLanes;if(f===0)var m=0;else{var T=r.suspendedLanes,S=r.pingedLanes;m=(1<<31-Ct(42|t)+1)-1,m&=f&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Rd(r,m))}else m=Re,m=dl(r,r===qe?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(m&3)===0||uo(r,m)||(l=!0,Rd(r,m));r=r.next}while(l);Su=!1}}function Zh(){_d()}function _d(){aa=Cu=!1;var t=0;ii!==0&&(ay()&&(t=ii),ii=0);for(var i=ee(),l=null,r=la;r!==null;){var f=r.next,m=Md(r,i);m===0?(r.next=null,l===null?la=f:l.next=f,f===null&&(Ji=l)):(l=r,(t!==0||(m&3)!==0)&&(aa=!0)),r=f}$o(t)}function Md(t,i){for(var l=t.suspendedLanes,r=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Ct(m),S=1<<T,A=f[T];A===-1?((S&l)===0||(S&r)!==0)&&(f[T]=Ag(S,i)):A<=i&&(t.expiredLanes|=S),m&=~S}if(i=qe,l=Re,l=dl(t,t===i?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,l===0||t===i&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Te(r),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||uo(t,l)){if(i=l&-l,i===t.callbackPriority)return i;switch(r!==null&&Te(r),Ga(l)){case 2:case 8:l=Xe;break;case 32:l=Fe;break;case 268435456:l=fn;break;default:l=Fe}return r=xd.bind(null,t),l=te(l,r),t.callbackPriority=i,t.callbackNode=l,i}return r!==null&&r!==null&&Te(r),t.callbackPriority=2,t.callbackNode=null,2}function xd(t,i){if(at!==0&&at!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(oa()&&t.callbackNode!==l)return null;var r=Re;return r=dl(t,t===qe?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(ud(t,r,i),Md(t,ee()),t.callbackNode!=null&&t.callbackNode===l?xd.bind(null,t):null)}function Rd(t,i){if(oa())return null;ud(t,i,!0)}function Wh(){uy(function(){(Ue&6)!==0?te(xe,Zh):_d()})}function Eu(){return ii===0&&(ii=yr()),ii}function Nd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yl(""+t)}function Dd(t,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,t.id&&l.setAttribute("form",t.id),i.parentNode.insertBefore(l,i),t=new FormData(t),l.parentNode.removeChild(l),t}function jh(t,i,l,r,f){if(i==="submit"&&l&&l.stateNode===f){var m=Nd((f[gt]||null).action),T=r.submitter;T&&(i=(i=T[gt]||null)?Nd(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var S=new Sl("action","action",null,r,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ii!==0){var A=T?Dd(f,T):new FormData(f);zs(l,{pending:!0,data:A,method:f.method,action:m},null,A)}}else typeof m=="function"&&(S.preventDefault(),A=T?Dd(f,T):new FormData(f),zs(l,{pending:!0,data:A,method:f.method,action:m},m,A))},currentTarget:f}]})}}for(var Au=0;Au<ss.length;Au++){var _u=ss[Au],ey=_u.toLowerCase(),ty=_u[0].toUpperCase()+_u.slice(1);qt(ey,"on"+ty)}qt(sc,"onAnimationEnd"),qt(uc,"onAnimationIteration"),qt(rc,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(vh,"onTransitionRun"),qt(Th,"onTransitionStart"),qt(Ch,"onTransitionCancel"),qt(cc,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ny=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ko));function wd(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var r=t[l],f=r.event;r=r.listeners;e:{var m=void 0;if(i)for(var T=r.length-1;0<=T;T--){var S=r[T],A=S.instance,w=S.currentTarget;if(S=S.listener,A!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=w;try{m(f)}catch(G){$l(G)}f.currentTarget=null,m=A}else for(T=0;T<r.length;T++){if(S=r[T],A=S.instance,w=S.currentTarget,S=S.listener,A!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=w;try{m(f)}catch(G){$l(G)}f.currentTarget=null,m=A}}}}function Ae(t,i){var l=i[Ha];l===void 0&&(l=i[Ha]=new Set);var r=t+"__bubble";l.has(r)||(Ud(i,t,2,!1),l.add(r))}function Mu(t,i,l){var r=0;i&&(r|=4),Ud(l,t,r,i)}var sa="_reactListening"+Math.random().toString(36).slice(2);function xu(t){if(!t[sa]){t[sa]=!0,Ar.forEach(function(l){l!=="selectionchange"&&(ny.has(l)||Mu(l,!1,t),Mu(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[sa]||(i[sa]=!0,Mu("selectionchange",!1,i))}}function Ud(t,i,l,r){switch(tm(i)){case 2:var f=Dy;break;case 8:f=wy;break;default:f=Pu}l=f.bind(null,i,l,t),f=void 0,!Ka||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),r?f!==void 0?t.addEventListener(i,l,{capture:!0,passive:f}):t.addEventListener(i,l,!0):f!==void 0?t.addEventListener(i,l,{passive:f}):t.addEventListener(i,l,!1)}function Ru(t,i,l,r,f){var m=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var S=r.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=r.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=mi(S),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){r=m=T;continue e}S=S.parentNode}}r=r.return}Hr(function(){var w=m,G=Ja(l),q=[];e:{var I=fc.get(t);if(I!==void 0){var b=Sl,de=t;switch(t){case"keypress":if(Tl(l)===0)break e;case"keydown":case"keyup":b=Qg;break;case"focusin":de="focus",b=Wa;break;case"focusout":de="blur",b=Wa;break;case"beforeblur":case"afterblur":b=Wa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=jg;break;case sc:case uc:case rc:b=Bg;break;case cc:b=th;break;case"scroll":case"scrollend":b=Gg;break;case"wheel":b=ih;break;case"copy":case"cut":case"paste":b=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=zr;break;case"toggle":case"beforetoggle":b=lh}var se=(i&4)!==0,Ve=!se&&(t==="scroll"||t==="scrollend"),R=se?I!==null?I+"Capture":null:I;se=[];for(var x=w,D;x!==null;){var H=x;if(D=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||D===null||R===null||(H=mo(x,R),H!=null&&se.push(Xo(x,H,D))),Ve)break;x=x.return}0<se.length&&(I=new b(I,de,null,l,G),q.push({event:I,listeners:se}))}}if((i&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",I&&l!==Oa&&(de=l.relatedTarget||l.fromElement)&&(mi(de)||de[di]))break e;if((b||I)&&(I=G.window===G?G:(I=G.ownerDocument)?I.defaultView||I.parentWindow:window,b?(de=l.relatedTarget||l.toElement,b=w,de=de?mi(de):null,de!==null&&(Ve=d(de),se=de.tag,de!==Ve||se!==5&&se!==27&&se!==6)&&(de=null)):(b=null,de=w),b!==de)){if(se=Pr,H="onMouseLeave",R="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(se=zr,H="onPointerLeave",R="onPointerEnter",x="pointer"),Ve=b==null?I:fo(b),D=de==null?I:fo(de),I=new se(H,x+"leave",b,l,G),I.target=Ve,I.relatedTarget=D,H=null,mi(G)===w&&(se=new se(R,x+"enter",de,l,G),se.target=D,se.relatedTarget=Ve,H=se),Ve=H,b&&de)t:{for(se=b,R=de,x=0,D=se;D;D=$i(D))x++;for(D=0,H=R;H;H=$i(H))D++;for(;0<x-D;)se=$i(se),x--;for(;0<D-x;)R=$i(R),D--;for(;x--;){if(se===R||R!==null&&se===R.alternate)break t;se=$i(se),R=$i(R)}se=null}else se=null;b!==null&&Id(q,I,b,se,!1),de!==null&&Ve!==null&&Id(q,Ve,de,se,!0)}}e:{if(I=w?fo(w):window,b=I.nodeName&&I.nodeName.toLowerCase(),b==="select"||b==="input"&&I.type==="file")var Q=Qr;else if(Kr(I))if(Zr)Q=gh;else{Q=mh;var Se=dh}else b=I.nodeName,!b||b.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?w&&Fa(w.elementType)&&(Q=Qr):Q=ph;if(Q&&(Q=Q(t,w))){Xr(q,Q,l,G);break e}Se&&Se(t,I,w),t==="focusout"&&w&&I.type==="number"&&w.memoizedProps.value!=null&&Ya(I,"number",I.value)}switch(Se=w?fo(w):window,t){case"focusin":(Kr(Se)||Se.contentEditable==="true")&&(Ai=Se,os=w,So=null);break;case"focusout":So=os=Ai=null;break;case"mousedown":ls=!0;break;case"contextmenu":case"mouseup":case"dragend":ls=!1,lc(q,l,G);break;case"selectionchange":if(yh)break;case"keydown":case"keyup":lc(q,l,G)}var j;if(es)e:{switch(t){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Ei?Jr(t,l)&&(ce="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ce="onCompositionStart");ce&&(Yr&&l.locale!=="ko"&&(Ei||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Ei&&(j=qr()):(pn=G,Xa="value"in pn?pn.value:pn.textContent,Ei=!0)),Se=ua(w,ce),0<Se.length&&(ce=new Br(ce,t,null,l,G),q.push({event:ce,listeners:Se}),j?ce.data=j:(j=$r(l),j!==null&&(ce.data=j)))),(j=sh?uh(t,l):rh(t,l))&&(ce=ua(w,"onBeforeInput"),0<ce.length&&(Se=new Br("onBeforeInput","beforeinput",null,l,G),q.push({event:Se,listeners:ce}),Se.data=j)),jh(q,t,w,l,G)}wd(q,i)})}function Xo(t,i,l){return{instance:t,listener:i,currentTarget:l}}function ua(t,i){for(var l=i+"Capture",r=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=mo(t,l),f!=null&&r.unshift(Xo(t,f,m)),f=mo(t,i),f!=null&&r.push(Xo(t,f,m))),t.tag===3)return r;t=t.return}return[]}function $i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Id(t,i,l,r,f){for(var m=i._reactName,T=[];l!==null&&l!==r;){var S=l,A=S.alternate,w=S.stateNode;if(S=S.tag,A!==null&&A===r)break;S!==5&&S!==26&&S!==27||w===null||(A=w,f?(w=mo(l,m),w!=null&&T.unshift(Xo(l,w,A))):f||(w=mo(l,m),w!=null&&T.push(Xo(l,w,A)))),l=l.return}T.length!==0&&t.push({event:i,listeners:T})}var iy=/\r\n?/g,oy=/\u0000|\uFFFD/g;function bd(t){return(typeof t=="string"?t:""+t).replace(iy,`
`).replace(oy,"")}function Ld(t,i){return i=bd(i),bd(t)===i}function ra(){}function Le(t,i,l,r,f,m){switch(l){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Ti(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Ti(t,""+r);break;case"className":pl(t,"class",r);break;case"tabIndex":pl(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(t,l,r);break;case"style":Vr(t,r,m);break;case"data":if(i!=="object"){pl(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||l!=="href")){t.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(l);break}r=yl(""+r),t.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(i!=="input"&&Le(t,i,"name",f.name,f,null),Le(t,i,"formEncType",f.formEncType,f,null),Le(t,i,"formMethod",f.formMethod,f,null),Le(t,i,"formTarget",f.formTarget,f,null)):(Le(t,i,"encType",f.encType,f,null),Le(t,i,"method",f.method,f,null),Le(t,i,"target",f.target,f,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(l);break}r=yl(""+r),t.setAttribute(l,r);break;case"onClick":r!=null&&(t.onclick=ra);break;case"onScroll":r!=null&&Ae("scroll",t);break;case"onScrollEnd":r!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(l=r.__html,l!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}l=yl(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,""+r):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":r===!0?t.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,r):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(l,r):t.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(l):t.setAttribute(l,r);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),ml(t,"popover",r);break;case"xlinkActuate":Kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Kt(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Kt(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Kt(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Kt(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ml(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Lg.get(l)||l,ml(t,l,r))}}function Nu(t,i,l,r,f,m){switch(l){case"style":Vr(t,r,m);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(l=r.__html,l!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"children":typeof r=="string"?Ti(t,r):(typeof r=="number"||typeof r=="bigint")&&Ti(t,""+r);break;case"onScroll":r!=null&&Ae("scroll",t);break;case"onScrollEnd":r!=null&&Ae("scrollend",t);break;case"onClick":r!=null&&(t.onclick=ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_r.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),m=t[gt]||null,m=m!=null?m[l]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof r=="function")){typeof m!="function"&&m!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(i,r,f);break e}l in t?t[l]=r:r===!0?t.setAttribute(l,""):ml(t,l,r)}}}function st(t,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var r=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":r=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Le(t,i,m,T,l,null)}}f&&Le(t,i,"srcSet",l.srcSet,l,null),r&&Le(t,i,"src",l.src,l,null);return;case"input":Ae("invalid",t);var S=m=T=f=null,A=null,w=null;for(r in l)if(l.hasOwnProperty(r)){var G=l[r];if(G!=null)switch(r){case"name":f=G;break;case"type":T=G;break;case"checked":A=G;break;case"defaultChecked":w=G;break;case"value":m=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:Le(t,i,r,G,l,null)}}Ur(t,m,S,A,w,T,f,!1),gl(t);return;case"select":Ae("invalid",t),r=T=m=null;for(f in l)if(l.hasOwnProperty(f)&&(S=l[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":r=S;default:Le(t,i,f,S,l,null)}i=m,l=T,t.multiple=!!r,i!=null?vi(t,!!r,i,!1):l!=null&&vi(t,!!r,l,!0);return;case"textarea":Ae("invalid",t),m=f=r=null;for(T in l)if(l.hasOwnProperty(T)&&(S=l[T],S!=null))switch(T){case"value":r=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Le(t,i,T,S,l,null)}br(t,r,f,m),gl(t);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(r=l[A],r!=null))switch(A){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Le(t,i,A,r,l,null)}return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(r=0;r<Ko.length;r++)Ae(Ko[r],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in l)if(l.hasOwnProperty(w)&&(r=l[w],r!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Le(t,i,w,r,l,null)}return;default:if(Fa(i)){for(G in l)l.hasOwnProperty(G)&&(r=l[G],r!==void 0&&Nu(t,i,G,r,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(r=l[S],r!=null&&Le(t,i,S,r,l,null))}function ly(t,i,l,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,S=null,A=null,w=null,G=null;for(b in l){var q=l[b];if(l.hasOwnProperty(b)&&q!=null)switch(b){case"checked":break;case"value":break;case"defaultValue":A=q;default:r.hasOwnProperty(b)||Le(t,i,b,null,r,q)}}for(var I in r){var b=r[I];if(q=l[I],r.hasOwnProperty(I)&&(b!=null||q!=null))switch(I){case"type":m=b;break;case"name":f=b;break;case"checked":w=b;break;case"defaultChecked":G=b;break;case"value":T=b;break;case"defaultValue":S=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(137,i));break;default:b!==q&&Le(t,i,I,b,r,q)}}za(t,T,S,A,w,G,m,f);return;case"select":b=T=S=I=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":b=A;default:r.hasOwnProperty(m)||Le(t,i,m,null,r,A)}for(f in r)if(m=r[f],A=l[f],r.hasOwnProperty(f)&&(m!=null||A!=null))switch(f){case"value":I=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==A&&Le(t,i,f,m,r,A)}i=S,l=T,r=b,I!=null?vi(t,!!l,I,!1):!!r!=!!l&&(i!=null?vi(t,!!l,i,!0):vi(t,!!l,l?[]:"",!1));return;case"textarea":b=I=null;for(S in l)if(f=l[S],l.hasOwnProperty(S)&&f!=null&&!r.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Le(t,i,S,null,r,f)}for(T in r)if(f=r[T],m=l[T],r.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":I=f;break;case"defaultValue":b=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Le(t,i,T,f,r,m)}Ir(t,I,b);return;case"option":for(var de in l)if(I=l[de],l.hasOwnProperty(de)&&I!=null&&!r.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:Le(t,i,de,null,r,I)}for(A in r)if(I=r[A],b=l[A],r.hasOwnProperty(A)&&I!==b&&(I!=null||b!=null))switch(A){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Le(t,i,A,I,r,b)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in l)I=l[se],l.hasOwnProperty(se)&&I!=null&&!r.hasOwnProperty(se)&&Le(t,i,se,null,r,I);for(w in r)if(I=r[w],b=l[w],r.hasOwnProperty(w)&&I!==b&&(I!=null||b!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,i));break;default:Le(t,i,w,I,r,b)}return;default:if(Fa(i)){for(var Ve in l)I=l[Ve],l.hasOwnProperty(Ve)&&I!==void 0&&!r.hasOwnProperty(Ve)&&Nu(t,i,Ve,void 0,r,I);for(G in r)I=r[G],b=l[G],!r.hasOwnProperty(G)||I===b||I===void 0&&b===void 0||Nu(t,i,G,I,r,b);return}}for(var R in l)I=l[R],l.hasOwnProperty(R)&&I!=null&&!r.hasOwnProperty(R)&&Le(t,i,R,null,r,I);for(q in r)I=r[q],b=l[q],!r.hasOwnProperty(q)||I===b||I==null&&b==null||Le(t,i,q,I,r,b)}var Du=null,wu=null;function ca(t){return t.nodeType===9?t:t.ownerDocument}function Vd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Uu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Iu=null;function ay(){var t=window.event;return t&&t.type==="popstate"?t===Iu?!1:(Iu=t,!0):(Iu=null,!1)}var Hd=typeof setTimeout=="function"?setTimeout:void 0,sy=typeof clearTimeout=="function"?clearTimeout:void 0,qd=typeof Promise=="function"?Promise:void 0,uy=typeof queueMicrotask=="function"?queueMicrotask:typeof qd<"u"?function(t){return qd.resolve(null).then(t).catch(ry)}:Hd;function ry(t){setTimeout(function(){throw t})}function wn(t){return t==="head"}function kd(t,i){var l=i,r=0,f=0;do{var m=l.nextSibling;if(t.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<r&&8>r){l=r;var T=t.ownerDocument;if(l&1&&Qo(T.documentElement),l&2&&Qo(T.body),l&4)for(l=T.head,Qo(l),T=l.firstChild;T;){var S=T.nextSibling,A=T.nodeName;T[co]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=S}}if(f===0){t.removeChild(m),ol(i);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:r=l.charCodeAt(0)-48;else r=0;l=m}while(l);ol(i)}function bu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":bu(l),qa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function cy(t,i,l,r){for(;t.nodeType===1;){var f=l;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[co])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Pt(t.nextSibling),t===null)break}return null}function fy(t,i,l){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Pt(t.nextSibling),t===null))return null;return t}function Lu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function dy(t,i){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")i();else{var r=function(){i(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Pt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Vu=null;function Pd(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}function Bd(t,i,l){switch(i=ca(l),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Qo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);qa(t)}var Gt=new Map,zd=new Set;function fa(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rn=F.d;F.d={f:my,r:py,D:gy,C:hy,L:yy,m:vy,X:Cy,S:Ty,M:Sy};function my(){var t=rn.f(),i=na();return t||i}function py(t){var i=pi(t);i!==null&&i.tag===5&&i.type==="form"?uf(i):rn.r(t)}var Ki=typeof document>"u"?null:document;function Yd(t,i,l){var r=Ki;if(r&&typeof i=="string"&&i){var f=Dt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),zd.has(f)||(zd.add(f),t={rel:t,crossOrigin:l,href:i},r.querySelector(f)===null&&(i=r.createElement("link"),st(i,"link",t),et(i),r.head.appendChild(i)))}}function gy(t){rn.D(t),Yd("dns-prefetch",t,null)}function hy(t,i){rn.C(t,i),Yd("preconnect",t,i)}function yy(t,i,l){rn.L(t,i,l);var r=Ki;if(r&&t&&i){var f='link[rel="preload"][as="'+Dt(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Dt(l.imageSizes)+'"]')):f+='[href="'+Dt(t)+'"]';var m=f;switch(i){case"style":m=Xi(t);break;case"script":m=Qi(t)}Gt.has(m)||(t=v({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:t,as:i},l),Gt.set(m,t),r.querySelector(f)!==null||i==="style"&&r.querySelector(Zo(m))||i==="script"&&r.querySelector(Wo(m))||(i=r.createElement("link"),st(i,"link",t),et(i),r.head.appendChild(i)))}}function vy(t,i){rn.m(t,i);var l=Ki;if(l&&t){var r=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Dt(r)+'"][href="'+Dt(t)+'"]',m=f;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Qi(t)}if(!Gt.has(m)&&(t=v({rel:"modulepreload",href:t},i),Gt.set(m,t),l.querySelector(f)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wo(m)))return}r=l.createElement("link"),st(r,"link",t),et(r),l.head.appendChild(r)}}}function Ty(t,i,l){rn.S(t,i,l);var r=Ki;if(r&&t){var f=gi(r).hoistableStyles,m=Xi(t);i=i||"default";var T=f.get(m);if(!T){var S={loading:0,preload:null};if(T=r.querySelector(Zo(m)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},l),(l=Gt.get(m))&&Gu(t,l);var A=T=r.createElement("link");et(A),st(A,"link",t),A._p=new Promise(function(w,G){A.onload=w,A.onerror=G}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,da(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(m,T)}}}function Cy(t,i){rn.X(t,i);var l=Ki;if(l&&t){var r=gi(l).hoistableScripts,f=Qi(t),m=r.get(f);m||(m=l.querySelector(Wo(f)),m||(t=v({src:t,async:!0},i),(i=Gt.get(f))&&Hu(t,i),m=l.createElement("script"),et(m),st(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(f,m))}}function Sy(t,i){rn.M(t,i);var l=Ki;if(l&&t){var r=gi(l).hoistableScripts,f=Qi(t),m=r.get(f);m||(m=l.querySelector(Wo(f)),m||(t=v({src:t,async:!0,type:"module"},i),(i=Gt.get(f))&&Hu(t,i),m=l.createElement("script"),et(m),st(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(f,m))}}function Fd(t,i,l,r){var f=(f=pe.current)?fa(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Xi(l.href),l=gi(f).hoistableStyles,r=l.get(i),r||(r={type:"style",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Xi(l.href);var m=gi(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(Zo(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Gt.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gt.set(t,l),m||Ey(f,t,l,T.state))),i&&r===null)throw Error(a(528,""));return T}if(i&&r!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qi(l),l=gi(f).hoistableScripts,r=l.get(i),r||(r={type:"script",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Xi(t){return'href="'+Dt(t)+'"'}function Zo(t){return'link[rel="stylesheet"]['+t+"]"}function Od(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Ey(t,i,l,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),st(i,"link",l),et(i),t.head.appendChild(i))}function Qi(t){return'[src="'+Dt(t)+'"]'}function Wo(t){return"script[async]"+t}function Jd(t,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+Dt(l.href)+'"]');if(r)return i.instance=r,et(r),r;var f=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),et(r),st(r,"style",f),da(r,l.precedence,t),i.instance=r;case"stylesheet":f=Xi(l.href);var m=t.querySelector(Zo(f));if(m)return i.state.loading|=4,i.instance=m,et(m),m;r=Od(l),(f=Gt.get(f))&&Gu(r,f),m=(t.ownerDocument||t).createElement("link"),et(m);var T=m;return T._p=new Promise(function(S,A){T.onload=S,T.onerror=A}),st(m,"link",r),i.state.loading|=4,da(m,l.precedence,t),i.instance=m;case"script":return m=Qi(l.src),(f=t.querySelector(Wo(m)))?(i.instance=f,et(f),f):(r=l,(f=Gt.get(m))&&(r=v({},l),Hu(r,f)),t=t.ownerDocument||t,f=t.createElement("script"),et(f),st(f,"link",r),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,da(r,l.precedence,t));return i.instance}function da(t,i,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=r.length?r[r.length-1]:null,m=f,T=0;T<r.length;T++){var S=r[T];if(S.dataset.precedence===i)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(t,i.firstChild))}function Gu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Hu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ma=null;function $d(t,i,l){if(ma===null){var r=new Map,f=ma=new Map;f.set(l,r)}else f=ma,r=f.get(l),r||(r=new Map,f.set(l,r));if(r.has(t))return r;for(r.set(t,null),l=l.getElementsByTagName(t),f=0;f<l.length;f++){var m=l[f];if(!(m[co]||m[ut]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=t+T;var S=r.get(T);S?S.push(m):r.set(T,[m])}}return r}function Kd(t,i,l){t=t.ownerDocument||t,t.head.insertBefore(l,i==="title"?t.querySelector("head > title"):null)}function Ay(t,i,l){if(l===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Xd(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var jo=null;function _y(){}function My(t,i,l){if(jo===null)throw Error(a(475));var r=jo;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Xi(l.href),m=t.querySelector(Zo(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=pa.bind(r),t.then(r,r)),i.state.loading|=4,i.instance=m,et(m);return}m=t.ownerDocument||t,l=Od(l),(f=Gt.get(f))&&Gu(l,f),m=m.createElement("link"),et(m);var T=m;T._p=new Promise(function(S,A){T.onload=S,T.onerror=A}),st(m,"link",l),i.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=pa.bind(r),t.addEventListener("load",i),t.addEventListener("error",i))}}function xy(){if(jo===null)throw Error(a(475));var t=jo;return t.stylesheets&&t.count===0&&qu(t,t.stylesheets),0<t.count?function(i){var l=setTimeout(function(){if(t.stylesheets&&qu(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(l)}}:null}function pa(){if(this.count--,this.count===0){if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ga=null;function qu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ga=new Map,i.forEach(Ry,t),ga=null,pa.call(t))}function Ry(t,i){if(!(i.state.loading&4)){var l=ga.get(t);if(l)var r=l.get(null);else{l=new Map,ga.set(t,l);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),r=T)}r&&l.set(null,r)}f=i.instance,T=f.getAttribute("data-precedence"),m=l.get(T)||r,m===r&&l.set(null,f),l.set(T,f),this.count++,r=pa.bind(this),f.addEventListener("load",r),f.addEventListener("error",r),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var el={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Ny(t,i,l,r,f,m,T,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=La(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.hiddenUpdates=La(null),this.identifierPrefix=r,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Qd(t,i,l,r,f,m,T,S,A,w,G,q){return t=new Ny(t,i,l,T,S,A,w,q),i=1,m===!0&&(i|=24),m=Et(3,null,null,i),t.current=m,m.stateNode=t,i=Ts(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:r,isDehydrated:l,cache:i},As(m),t}function Zd(t){return t?(t=Ri,t):Ri}function Wd(t,i,l,r,f,m){f=Zd(f),r.context===null?r.context=f:r.pendingContext=f,r=yn(i),r.payload={element:l},m=m===void 0?null:m,m!==null&&(r.callback=m),l=vn(t,r,i),l!==null&&(Rt(l,t,i),wo(l,t,i))}function jd(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function ku(t,i){jd(t,i),(t=t.alternate)&&jd(t,i)}function em(t){if(t.tag===13){var i=xi(t,67108864);i!==null&&Rt(i,t,67108864),ku(t,67108864)}}var ha=!0;function Dy(t,i,l,r){var f=U.T;U.T=null;var m=F.p;try{F.p=2,Pu(t,i,l,r)}finally{F.p=m,U.T=f}}function wy(t,i,l,r){var f=U.T;U.T=null;var m=F.p;try{F.p=8,Pu(t,i,l,r)}finally{F.p=m,U.T=f}}function Pu(t,i,l,r){if(ha){var f=Bu(r);if(f===null)Ru(t,i,r,ya,l),nm(t,r);else if(Iy(f,t,i,l,r))r.stopPropagation();else if(nm(t,r),i&4&&-1<Uy.indexOf(t)){for(;f!==null;){var m=pi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Pn(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var A=1<<31-Ct(T);S.entanglements[1]|=A,T&=~A}Jt(m),(Ue&6)===0&&(ea=ee()+500,$o(0))}}break;case 13:S=xi(m,2),S!==null&&Rt(S,m,2),na(),ku(m,2)}if(m=Bu(r),m===null&&Ru(t,i,r,ya,l),m===f)break;f=m}f!==null&&r.stopPropagation()}else Ru(t,i,r,null,l)}}function Bu(t){return t=Ja(t),zu(t)}var ya=null;function zu(t){if(ya=null,t=mi(t),t!==null){var i=d(t);if(i===null)t=null;else{var l=i.tag;if(l===13){if(t=p(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ya=t,null}function tm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case xe:return 2;case Xe:return 8;case Fe:case qn:return 32;case fn:return 268435456;default:return 32}default:return 32}}var Yu=!1,Un=null,In=null,bn=null,tl=new Map,nl=new Map,Ln=[],Uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nm(t,i){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(i.pointerId)}}function il(t,i,l,r,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:l,eventSystemFlags:r,nativeEvent:m,targetContainers:[f]},i!==null&&(i=pi(i),i!==null&&em(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Iy(t,i,l,r,f){switch(i){case"focusin":return Un=il(Un,t,i,l,r,f),!0;case"dragenter":return In=il(In,t,i,l,r,f),!0;case"mouseover":return bn=il(bn,t,i,l,r,f),!0;case"pointerover":var m=f.pointerId;return tl.set(m,il(tl.get(m)||null,t,i,l,r,f)),!0;case"gotpointercapture":return m=f.pointerId,nl.set(m,il(nl.get(m)||null,t,i,l,r,f)),!0}return!1}function im(t){var i=mi(t.target);if(i!==null){var l=d(i);if(l!==null){if(i=l.tag,i===13){if(i=p(l),i!==null){t.blockedOn=i,Mg(t.priority,function(){if(l.tag===13){var r=xt();r=Va(r);var f=xi(l,r);f!==null&&Rt(f,l,r),ku(l,r)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function va(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=Bu(t.nativeEvent);if(l===null){l=t.nativeEvent;var r=new l.constructor(l.type,l);Oa=r,l.target.dispatchEvent(r),Oa=null}else return i=pi(l),i!==null&&em(i),t.blockedOn=l,!1;i.shift()}return!0}function om(t,i,l){va(t)&&l.delete(i)}function by(){Yu=!1,Un!==null&&va(Un)&&(Un=null),In!==null&&va(In)&&(In=null),bn!==null&&va(bn)&&(bn=null),tl.forEach(om),nl.forEach(om)}function Ta(t,i){t.blockedOn===i&&(t.blockedOn=null,Yu||(Yu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,by)))}var Ca=null;function lm(t){Ca!==t&&(Ca=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ca===t&&(Ca=null);for(var i=0;i<t.length;i+=3){var l=t[i],r=t[i+1],f=t[i+2];if(typeof r!="function"){if(zu(r||l)===null)continue;break}var m=pi(l);m!==null&&(t.splice(i,3),i-=3,zs(m,{pending:!0,data:f,method:l.method,action:r},r,f))}}))}function ol(t){function i(A){return Ta(A,t)}Un!==null&&Ta(Un,t),In!==null&&Ta(In,t),bn!==null&&Ta(bn,t),tl.forEach(i),nl.forEach(i);for(var l=0;l<Ln.length;l++){var r=Ln[l];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ln.length&&(l=Ln[0],l.blockedOn===null);)im(l),l.blockedOn===null&&Ln.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var f=l[r],m=l[r+1],T=f[gt]||null;if(typeof m=="function")T||lm(l);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[gt]||null)S=T.formAction;else if(zu(f)!==null)continue}else S=T.action;typeof S=="function"?l[r+1]=S:(l.splice(r,3),r-=3),lm(l)}}}function Fu(t){this._internalRoot=t}Sa.prototype.render=Fu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,r=xt();Wd(l,r,t,i,null,null)},Sa.prototype.unmount=Fu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Wd(t.current,2,null,t,null,null),na(),i[di]=null}};function Sa(t){this._internalRoot=t}Sa.prototype.unstable_scheduleHydration=function(t){if(t){var i=Sr();t={blockedOn:null,target:t,priority:i};for(var l=0;l<Ln.length&&i!==0&&i<Ln[l].priority;l++);Ln.splice(l,0,t),l===0&&im(t)}};var am=e.version;if(am!=="19.1.1")throw Error(a(527,am,"19.1.1"));F.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Ly={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ea.isDisabled&&Ea.supportsFiber)try{kn=Ea.inject(Ly),ot=Ea}catch{}}return al.createRoot=function(t,i){if(!c(t))throw Error(a(299));var l=!1,r="",f=Ef,m=Af,T=_f,S=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Qd(t,1,!1,null,null,l,r,f,m,T,S,null),t[di]=i.current,xu(t),new Fu(i)},al.hydrateRoot=function(t,i,l){if(!c(t))throw Error(a(299));var r=!1,f="",m=Ef,T=Af,S=_f,A=null,w=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks),l.formState!==void 0&&(w=l.formState)),i=Qd(t,1,!0,i,l??null,r,f,m,T,S,A,w),i.context=Zd(null),l=i.current,r=xt(),r=Va(r),f=yn(r),f.callback=null,vn(l,f,r),l=r,i.current.lanes=l,ro(i,l),Jt(i),t[di]=i.current,xu(t),new Sa(i)},al.version="19.1.1",al}var hm;function Oy(){if(hm)return $u.exports;hm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$u.exports=Fy(),$u.exports}var Jy=Oy();const $y=Gp(Jy);var Gn=(n=>(n.Like="like",n.Laugh="laugh",n.Sad="sad",n.Support="support",n.Angry="angry",n))(Gn||{});const Ky=[{id:"kirito",name:"Kirito",avatar:"⚔️",personality:"A skilled gamer, often a lone wolf but deeply protective of his friends. Tends to be direct, serious, and a bit awkward in social situations. Often thinks about virtual worlds, skills, and swords. Speaks concisely.",interests:["video games","virtual reality","swordsmanship","exploring dungeons","black outfits"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"asuna",name:"Asuna",avatar:"🍳",personality:"A kind, caring, and strong-willed leader. She is an excellent cook and a formidable fighter who values friendship and love. She is responsible and sometimes acts as the mother of the group. Speaks warmly and politely.",interests:["cooking","friendship","guild management","helping others","picnics"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"ichikawa",name:"Ichikawa",avatar:"📓",personality:"An introverted middle schooler with a rich, dark fantasy inner world. He often overthinks social situations and assumes the worst. Deep down, he is kind and incredibly observant, especially towards Yamada. His posts are often cynical or muttered thoughts.",interests:["reading","observing people","psychological thrillers","Yamada Anna"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"yamada",name:"Yamada",avatar:"🍬",personality:"A cheerful, friendly, and slightly air-headed model who loves to snack. She is surprisingly down-to-earth and approachable, often oblivious to social cues but has a pure heart. She is very open and expressive with her feelings.",interests:["snacking","sweets","manga","hanging out with friends","Ichikawa"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"goku",name:"Goku",avatar:"🐉",personality:"Pure-hearted, cheerful, and endlessly optimistic. His main motivations are fighting strong opponents to test his limits and protecting his friends and family. He is simple-minded and has a voracious appetite. Gets excited easily.",interests:["fighting","eating","training","making new friends","finding dragon balls"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"vegeta",name:"Vegeta",avatar:"👑",personality:"The proud prince of the Saiyans. He is arrogant, prideful, and obsessed with surpassing his rival, Kakarot (Goku). He presents a tough exterior but has a soft spot for his family. Often complains or boasts.",interests:["training","being the best","his Saiyan heritage","surpassing Kakarot"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"l_lawliet",name:"L Lawliet",avatar:"🍰",personality:"A world-renowned detective who is highly intelligent, eccentric, and secretive. He has a peculiar way of sitting and a strong affinity for sweets. He approaches every situation with cold logic and speaks in a monotone, analytical way.",interests:["solving complex cases","eating sweets","logic puzzles","justice","stacking things"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"naruto",name:"Naruto Uzumaki",avatar:"🍥",personality:'Loud, energetic, and optimistic. He is a ninja who never gives up on his dream of becoming the leader (Hokage) of his village. He is fiercely loyal to his friends. Often ends his sentences with "Believe it!" or "dattebayo!".',interests:["ramen","making friends","pranks","becoming Hokage","training with his master"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"sasuke",name:"Sasuke Uchiha",avatar:"👁️",personality:"A cool, aloof, and brooding ninja driven by revenge. He is highly skilled but distant, often speaking in short, sharp sentences. He is an avenger and sees relationships as a potential weakness, though he secretly cares.",interests:["training","getting stronger","revenge","being alone"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"loid_forger",name:"Loid Forger",avatar:"🕵️",personality:'A master spy known as "Twilight". He is calculating, efficient, and always focused on his mission. He is constantly over-analyzing situations, even mundane family life. He maintains a cool, polite facade as a psychiatrist.',interests:["world peace","espionage","maintaining his cover","Operation Strix"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"anya_forger",name:"Anya Forger",avatar:"🥜",personality:'A small child who is secretly a telepath. She is curious, mischievous, and loves peanuts. Her inner thoughts are simple and she often misunderstands adult situations in a comical way. Speaks in broken sentences and is very expressive ("Waku waku!").',interests:["peanuts","spy anime","her dog Bond","world peace (for her dad)"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"gojo_satoru",name:"Gojo Satoru",avatar:"😎",personality:"The strongest jujutsu sorcerer. He is extremely confident, playful, and cocky, often teasing his students and colleagues. Despite his flippant attitude, he can be ruthless and serious when necessary. Believes he is invincible because he is.",interests:["sweets","teaching","showing off his power","annoying his superiors"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"levi_ackerman",name:"Levi Ackerman",avatar:"🧼",personality:"Humanity's strongest soldier. He is blunt, stoic, and a notorious clean freak. He is disciplined and expects the same from others. He rarely shows emotion but cares deeply for his comrades. His comments are often brutally honest and cynical.",interests:["cleaning","tea","discipline","fighting Titans"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"saitama",name:"Saitama",avatar:"👊",personality:"A hero for fun who is so powerful he defeats every enemy with a single punch, leading to overwhelming boredom and apathy. He is more concerned with mundane things like missing a supermarket sale than with saving the world. Speaks very casually and deadpan.",interests:["supermarket sales","manga","hot pot","finding a worthy opponent"],angerLevel:0,isBanned:!1,recentEvents:[]},{id:"frieren",name:"Frieren",avatar:"⏳",personality:"An elf mage with a lifespan of over a thousand years. She is often detached, stoic, and has a poor sense of time. She is on a journey to understand humans better after the death of her former comrades. Her posts are often nostalgic or reflect her quirky, deadpan observations.",interests:["collecting weird magic spells","sleeping in","nostalgia","learning about humans"],angerLevel:0,isBanned:!1,recentEvents:[]}],Xy={[Gn.Like]:_.jsx("span",{title:"Like",children:"👍"}),[Gn.Laugh]:_.jsx("span",{title:"Laugh",children:"😂"}),[Gn.Sad]:_.jsx("span",{title:"Sad",children:"😢"}),[Gn.Support]:_.jsx("span",{title:"Support",children:"❤️"}),[Gn.Angry]:_.jsx("span",{title:"Angry",children:"😠"})},Hn=1e3;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Qy,Zy;function Wy(){return{geminiUrl:Qy,vertexUrl:Zy}}function jy(n,e,o,a){var c,d;if(!(n!=null&&n.baseUrl)){const p=Wy();return e?(c=p.vertexUrl)!==null&&c!==void 0?c:o:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class li{}function Z(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(a,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function u(n,e,o){for(let d=0;d<e.length-1;d++){const p=e[d];if(p.endsWith("[]")){const h=p.slice(0,-2);if(!(h in n))if(Array.isArray(o))n[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];u(v,e.slice(d+1),o[g])}else for(const g of y)u(g,e.slice(d+1),o)}return}else if(p.endsWith("[0]")){const h=p.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];u(y[0],e.slice(d+1),o);return}(!n[p]||typeof n[p]!="object")&&(n[p]={}),n=n[p]}const a=e[e.length-1],c=n[a];if(c!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===c)return;if(typeof c=="object"&&typeof o=="object"&&c!==null&&o!==null)Object.assign(c,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else n[a]=o}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const a=e[o];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(p=>s(p,e.slice(o+1))):void 0}else return}else n=n[a]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ym;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ym||(ym={}));var vm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(vm||(vm={}));var $e;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})($e||($e={}));var Tm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Tm||(Tm={}));var Cm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Cm||(Cm={}));var Sm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Sm||(Sm={}));var Em;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Em||(Em={}));var Am;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Am||(Am={}));var _m;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_m||(_m={}));var Mm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Mm||(Mm={}));var xm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(xm||(xm={}));var Rm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Rm||(Rm={}));var Nm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Nm||(Nm={}));var Dm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Dm||(Dm={}));var wm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(wm||(wm={}));var Um;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Um||(Um={}));var Ra;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Ra||(Ra={}));var Im;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Im||(Im={}));var ju;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ju||(ju={}));var bm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(bm||(bm={}));var Lm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Lm||(Lm={}));var Vm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Vm||(Vm={}));var Gm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Gm||(Gm={}));var Hm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Hm||(Hm={}));var qm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(qm||(qm={}));var km;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(km||(km={}));var Pm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Pm||(Pm={}));var Bm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Bm||(Bm={}));var zm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(zm||(zm={}));var Ym;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ym||(Ym={}));var Fm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Fm||(Fm={}));var Om;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Om||(Om={}));var Jm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Jm||(Jm={}));var $m;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})($m||($m={}));var Km;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Km||(Km={}));var Xm;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xm||(Xm={}));var Qm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Qm||(Qm={}));var Zm;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Zm||(Zm={}));var Wm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Wm||(Wm={}));var jm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(jm||(jm={}));var ep;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ep||(ep={}));var tp;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(tp||(tp={}));var Zi;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Zi||(Zi={}));class er{constructor(e){const o={};for(const a of e.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class sl{get text(){var e,o,a,c,d,p,h,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const C=[];for(const E of(y=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[N,L]of Object.entries(E))N!=="text"&&N!=="thought"&&(L!==null||L!==void 0)&&C.push(N);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,g+=E.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,o,a,c,d,p,h,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const C of(y=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,N]of Object.entries(C))E!=="inlineData"&&(N!==null||N!==void 0)&&v.push(E);C.inlineData&&typeof C.inlineData.data=="string"&&(g+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,o,a,c,d,p,h,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,o,a,c,d,p,h,y,g;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,o,a,c,d,p,h,y,g;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class np{}class ip{}class ev{}class tv{}class nv{}class op{}class lp{}class ap{}class iv{}class sp{}class up{}class rp{}class cp{}class ov{}class lv{}class av{}class fp{}class sv{get text(){var e,o,a;let c="",d=!1;const p=[];for(const h of(a=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&p.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,o,a;let c="";const d=[];for(const p of(a=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[h,y]of Object.entries(p))h!=="inlineData"&&y!==null&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class Na{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const a=new Na;if(a.name=e.name,a.metadata=e.metadata,a.done=e.done,a.error=e.error,o){const c=e.response;if(c){const d=new sp,p=c.videos;d.generatedVideos=p==null?void 0:p.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?Wu(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),d.raiMediaFilteredCount=c.raiMediaFilteredCount,d.raiMediaFilteredReasons=c.raiMediaFilteredReasons,a.response=d}}else{const c=e.response;if(c){const d=new sp,p=c.generateVideoResponse,h=p==null?void 0:p.generatedSamples;d.generatedVideos=h==null?void 0:h.map(y=>{const g=y.video;return{video:{uri:g==null?void 0:g.uri,videoBytes:g!=null&&g.encodedVideo?Wu(g==null?void 0:g.encodedVideo):void 0,mimeType:y.encoding}}}),d.raiMediaFilteredCount=p==null?void 0:p.raiMediaFilteredCount,d.raiMediaFilteredReasons=p==null?void 0:p.raiMediaFilteredReasons,a.response=d}}return a}}class uv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function we(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Hp(n,e){const o=we(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function qp(n){return Array.isArray(n)?n.map(e=>Da(e)):[Da(n)]}function Da(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function kp(n){const e=Da(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Pp(n){const e=Da(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Bp(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>dp(e)):[dp(n)]}function tr(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function mp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function pp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ft(n){if(n==null)throw new Error("ContentUnion is required");return tr(n)?n:{role:"user",parts:Bp(n)}}function zp(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const a=ft(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const o=ft(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>ft(o)):[ft(e)]}function Ht(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(mp(n)||pp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ft(n)]}const e=[],o=[],a=tr(n[0]);for(const c of n){const d=tr(c);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(mp(c)||pp(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(c)}}return a||e.push({role:"user",parts:Bp(o)}),e}function rv(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(a=>a!=="null");if(o.length===1)e.type=Object.values($e).includes(o[0].toUpperCase())?o[0].toUpperCase():$e.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of o)e.anyOf.push({type:Object.values($e).includes(a.toUpperCase())?a.toUpperCase():$e.TYPE_UNSPECIFIED})}}function Wi(n){const e={},o=["items"],a=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&rv(n.type,e);for(const[p,h]of Object.entries(n))if(h!=null)if(p=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values($e).includes(h.toUpperCase())?h.toUpperCase():$e.TYPE_UNSPECIFIED}else if(o.includes(p))e[p]=Wi(h);else if(a.includes(p)){const y=[];for(const g of h){if(g.type=="null"){e.nullable=!0;continue}y.push(Wi(g))}e[p]=y}else if(c.includes(p)){const y={};for(const[g,v]of Object.entries(h))y[g]=Wi(v);e[p]=y}else{if(p==="additionalProperties")continue;e[p]=h}return e}function mr(n){return Wi(n)}function pr(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function gr(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function to(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Wi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Wi(e.response));return n}function no(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function cv(n,e,o,a=1){const c=!e.startsWith(`${o}/`)&&e.split("/").length===a;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:c?`${o}/${e}`:e}function cn(n,e){if(typeof e!="string")throw new Error("name must be a string");return cv(n,e,"cachedContents")}function Yp(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ai(n){return Wu(n)}function fv(n){return n!=null&&typeof n=="object"&&"name"in n}function dv(n){return n!=null&&typeof n=="object"&&"video"in n}function mv(n){return n!=null&&typeof n=="object"&&"uri"in n}function Fp(n){var e;let o;if(fv(n)&&(o=n.name),!(mv(n)&&(o=n.uri,o===void 0))&&!(dv(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const c=o.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${o}`);o=c[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Op(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function Jp(n){for(const e of["models","tunedModels","publisherModels"])if(pv(n,e))return n[e];return[]}function pv(n,e){return n!==null&&typeof n=="object"&&e in n}function gv(n,e={}){const o=n,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function hv(n,e={}){const o=[],a=new Set;for(const c of n){const d=c.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const p=gv(c,e);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function $p(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function yv(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function io(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Kp(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vv(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function Tv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function Cv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function Sv(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],vv(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],Tv(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],Cv(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function Xp(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Sv(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function Ev(n){const e={},o=s(n,["anyOf"]);o!=null&&u(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&u(e,["default"],a);const c=s(n,["description"]);c!=null&&u(e,["description"],c);const d=s(n,["enum"]);d!=null&&u(e,["enum"],d);const p=s(n,["example"]);p!=null&&u(e,["example"],p);const h=s(n,["format"]);h!=null&&u(e,["format"],h);const y=s(n,["items"]);y!=null&&u(e,["items"],y);const g=s(n,["maxItems"]);g!=null&&u(e,["maxItems"],g);const v=s(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const E=s(n,["maximum"]);E!=null&&u(e,["maximum"],E);const N=s(n,["minItems"]);N!=null&&u(e,["minItems"],N);const L=s(n,["minLength"]);L!=null&&u(e,["minLength"],L);const V=s(n,["minProperties"]);V!=null&&u(e,["minProperties"],V);const B=s(n,["minimum"]);B!=null&&u(e,["minimum"],B);const $=s(n,["nullable"]);$!=null&&u(e,["nullable"],$);const P=s(n,["pattern"]);P!=null&&u(e,["pattern"],P);const Y=s(n,["properties"]);Y!=null&&u(e,["properties"],Y);const X=s(n,["propertyOrdering"]);X!=null&&u(e,["propertyOrdering"],X);const z=s(n,["required"]);z!=null&&u(e,["required"],z);const oe=s(n,["title"]);oe!=null&&u(e,["title"],oe);const le=s(n,["type"]);return le!=null&&u(e,["type"],le),e}function Av(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&u(e,["category"],o);const a=s(n,["threshold"]);return a!=null&&u(e,["threshold"],a),e}function _v(n){const e={},o=s(n,["behavior"]);o!=null&&u(e,["behavior"],o);const a=s(n,["description"]);a!=null&&u(e,["description"],a);const c=s(n,["name"]);c!=null&&u(e,["name"],c);const d=s(n,["parameters"]);d!=null&&u(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const h=s(n,["response"]);h!=null&&u(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function Mv(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function xv(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],Mv(o)),e}function Rv(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function Nv(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],Rv(o)),e}function Dv(){return{}}function wv(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>_v(g))),u(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],xv(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&u(e,["googleSearchRetrieval"],Nv(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],Dv());const p=s(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const h=s(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function Uv(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&u(e,["allowedFunctionNames"],a),e}function Iv(n){const e={},o=s(n,["latitude"]);o!=null&&u(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&u(e,["longitude"],a),e}function bv(n){const e={},o=s(n,["latLng"]);o!=null&&u(e,["latLng"],Iv(o));const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function Lv(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],Uv(o));const a=s(n,["retrievalConfig"]);return a!=null&&u(e,["retrievalConfig"],bv(a)),e}function Vv(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function Qp(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],Vv(o)),e}function Gv(n){const e={},o=s(n,["speaker"]);o!=null&&u(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&u(e,["voiceConfig"],Qp(a)),e}function Hv(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Gv(c))),u(e,["speakerVoiceConfigs"],a)}return e}function qv(n){const e={},o=s(n,["voiceConfig"]);o!=null&&u(e,["voiceConfig"],Qp(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&u(e,["multiSpeakerVoiceConfig"],Hv(a));const c=s(n,["languageCode"]);return c!=null&&u(e,["languageCode"],c),e}function kv(n){const e={},o=s(n,["includeThoughts"]);o!=null&&u(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&u(e,["thinkingBudget"],a),e}function Pv(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&u(o,["systemInstruction"],Xp(ft(c)));const d=s(e,["temperature"]);d!=null&&u(a,["temperature"],d);const p=s(e,["topP"]);p!=null&&u(a,["topP"],p);const h=s(e,["topK"]);h!=null&&u(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&u(a,["candidateCount"],y);const g=s(e,["maxOutputTokens"]);g!=null&&u(a,["maxOutputTokens"],g);const v=s(e,["stopSequences"]);v!=null&&u(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&u(a,["responseLogprobs"],C);const E=s(e,["logprobs"]);E!=null&&u(a,["logprobs"],E);const N=s(e,["presencePenalty"]);N!=null&&u(a,["presencePenalty"],N);const L=s(e,["frequencyPenalty"]);L!=null&&u(a,["frequencyPenalty"],L);const V=s(e,["seed"]);V!=null&&u(a,["seed"],V);const B=s(e,["responseMimeType"]);B!=null&&u(a,["responseMimeType"],B);const $=s(e,["responseSchema"]);$!=null&&u(a,["responseSchema"],Ev(mr($)));const P=s(e,["responseJsonSchema"]);if(P!=null&&u(a,["responseJsonSchema"],P),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=s(e,["safetySettings"]);if(o!==void 0&&Y!=null){let re=Y;Array.isArray(re)&&(re=re.map(_e=>Av(_e))),u(o,["safetySettings"],re)}const X=s(e,["tools"]);if(o!==void 0&&X!=null){let re=no(X);Array.isArray(re)&&(re=re.map(_e=>wv(to(_e)))),u(o,["tools"],re)}const z=s(e,["toolConfig"]);if(o!==void 0&&z!=null&&u(o,["toolConfig"],Lv(z)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=s(e,["cachedContent"]);o!==void 0&&oe!=null&&u(o,["cachedContent"],cn(n,oe));const le=s(e,["responseModalities"]);le!=null&&u(a,["responseModalities"],le);const ue=s(e,["mediaResolution"]);ue!=null&&u(a,["mediaResolution"],ue);const W=s(e,["speechConfig"]);if(W!=null&&u(a,["speechConfig"],qv(pr(W))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=s(e,["thinkingConfig"]);return me!=null&&u(a,["thinkingConfig"],kv(me)),a}function Bv(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["request","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let p=Ht(c);Array.isArray(p)&&(p=p.map(h=>Xp(h))),u(o,["request","contents"],p)}const d=s(e,["config"]);return d!=null&&u(o,["request","generationConfig"],Pv(n,d,o)),o}function zv(n,e){const o={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=s(e,["fileName"]);a!=null&&u(o,["fileName"],a);const c=s(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Bv(n,p))),u(o,["requests","requests"],d)}return o}function Yv(n,e){const o={},a=s(n,["displayName"]);if(e!==void 0&&a!=null&&u(e,["batch","displayName"],a),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Fv(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["src"]);c!=null&&u(o,["batch","inputConfig"],zv(n,$p(n,c)));const d=s(e,["config"]);return d!=null&&u(o,["config"],Yv(d,o)),o}function Ov(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],io(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function Jv(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],io(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function $v(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&u(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Kv(n){const e={},o=s(n,["config"]);return o!=null&&u(e,["config"],$v(o,e)),e}function Xv(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],io(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function Qv(n){const e={},o=s(n,["format"]);o!=null&&u(e,["instancesFormat"],o);const a=s(n,["gcsUri"]);a!=null&&u(e,["gcsSource","uris"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&u(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Zv(n){const e={},o=s(n,["format"]);o!=null&&u(e,["predictionsFormat"],o);const a=s(n,["gcsUri"]);a!=null&&u(e,["gcsDestination","outputUriPrefix"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&u(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Wv(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&u(e,["displayName"],a);const c=s(n,["dest"]);return e!==void 0&&c!=null&&u(e,["outputConfig"],Zv(yv(c))),o}function jv(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["model"],we(n,a));const c=s(e,["src"]);c!=null&&u(o,["inputConfig"],Qv($p(n,c)));const d=s(e,["config"]);return d!=null&&u(o,["config"],Wv(d,o)),o}function eT(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],io(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function tT(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],io(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function nT(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&u(e,["_query","filter"],d),o}function iT(n){const e={},o=s(n,["config"]);return o!=null&&u(e,["config"],nT(o,e)),e}function oT(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],io(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function lT(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function aT(n){const e={},o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function sT(n){const e={},o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function uT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],lT(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],aT(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],sT(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function rT(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>uT(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function cT(n){const e={},o=s(n,["citationSources"]);return o!=null&&u(e,["citations"],o),e}function fT(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&u(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&u(e,["urlRetrievalStatus"],a),e}function dT(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>fT(c))),u(e,["urlMetadata"],a)}return e}function mT(n){const e={},o=s(n,["content"]);o!=null&&u(e,["content"],rT(o));const a=s(n,["citationMetadata"]);a!=null&&u(e,["citationMetadata"],cT(a));const c=s(n,["tokenCount"]);c!=null&&u(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&u(e,["finishReason"],d);const p=s(n,["urlContextMetadata"]);p!=null&&u(e,["urlContextMetadata"],dT(p));const h=s(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const g=s(n,["index"]);g!=null&&u(e,["index"],g);const v=s(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function pT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>mT(g))),u(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&u(e,["promptFeedback"],d);const p=s(n,["responseId"]);p!=null&&u(e,["responseId"],p);const h=s(n,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function Zp(n){const e={},o=s(n,["details"]);o!=null&&u(e,["details"],o);const a=s(n,["code"]);a!=null&&u(e,["code"],a);const c=s(n,["message"]);return c!=null&&u(e,["message"],c),e}function gT(n){const e={},o=s(n,["response"]);o!=null&&u(e,["response"],pT(o));const a=s(n,["error"]);return a!=null&&u(e,["error"],Zp(a)),e}function hT(n){const e={},o=s(n,["responsesFile"]);o!=null&&u(e,["fileName"],o);const a=s(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>gT(d))),u(e,["inlinedResponses"],c)}return e}function nr(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["metadata","displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["metadata","state"]);c!=null&&u(e,["state"],Kp(c));const d=s(n,["metadata","createTime"]);d!=null&&u(e,["createTime"],d);const p=s(n,["metadata","endTime"]);p!=null&&u(e,["endTime"],p);const h=s(n,["metadata","updateTime"]);h!=null&&u(e,["updateTime"],h);const y=s(n,["metadata","model"]);y!=null&&u(e,["model"],y);const g=s(n,["metadata","output"]);return g!=null&&u(e,["dest"],hT(g)),e}function yT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["operations"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>nr(p))),u(e,["batchJobs"],d)}return e}function vT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["done"]);c!=null&&u(e,["done"],c);const d=s(n,["error"]);return d!=null&&u(e,["error"],Zp(d)),e}function Wp(n){const e={},o=s(n,["details"]);o!=null&&u(e,["details"],o);const a=s(n,["code"]);a!=null&&u(e,["code"],a);const c=s(n,["message"]);return c!=null&&u(e,["message"],c),e}function TT(n){const e={},o=s(n,["instancesFormat"]);o!=null&&u(e,["format"],o);const a=s(n,["gcsSource","uris"]);a!=null&&u(e,["gcsUri"],a);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&u(e,["bigqueryUri"],c),e}function CT(n){const e={},o=s(n,["predictionsFormat"]);o!=null&&u(e,["format"],o);const a=s(n,["gcsDestination","outputUriPrefix"]);a!=null&&u(e,["gcsUri"],a);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&u(e,["bigqueryUri"],c),e}function ir(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["state"]);c!=null&&u(e,["state"],Kp(c));const d=s(n,["error"]);d!=null&&u(e,["error"],Wp(d));const p=s(n,["createTime"]);p!=null&&u(e,["createTime"],p);const h=s(n,["startTime"]);h!=null&&u(e,["startTime"],h);const y=s(n,["endTime"]);y!=null&&u(e,["endTime"],y);const g=s(n,["updateTime"]);g!=null&&u(e,["updateTime"],g);const v=s(n,["model"]);v!=null&&u(e,["model"],v);const C=s(n,["inputConfig"]);C!=null&&u(e,["src"],TT(C));const E=s(n,["outputConfig"]);return E!=null&&u(e,["dest"],CT(E)),e}function ST(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["batchPredictionJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>ir(p))),u(e,["batchJobs"],d)}return e}function ET(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["done"]);c!=null&&u(e,["done"],c);const d=s(n,["error"]);return d!=null&&u(e,["error"],Wp(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oi;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(oi||(oi={}));class rl{constructor(e,o,a,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,a,c)}init(e,o,a){var c,d;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(c=p.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends li{constructor(e){super(),this.apiClient=e,this.create=async o=>{if(this.apiClient.isVertexAI()){const c=Date.now().toString();if(Array.isArray(o.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(o.config=o.config||{},o.config.displayName===void 0&&(o.config.displayName="genaiBatchJob_${timestampStr}"),o.config.dest===void 0&&typeof o.src=="string")if(o.src.startsWith("gs://")&&o.src.endsWith(".jsonl"))o.config.dest=`${o.src.slice(0,-6)}/dest`;else if(o.src.startsWith("bq://"))o.config.dest=`${o.src}_dest_${c}`;else throw new Error("Unsupported source:"+o.src)}return await this.createInternal(o)},this.list=async(o={})=>new rl(oi.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}async createInternal(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=jv(this.apiClient,e);return h=Z("batchPredictionJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ir(v))}else{const g=Fv(this.apiClient,e);return h=Z("{model}:batchGenerateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>nr(v))}}async get(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=eT(this.apiClient,e);return h=Z("batchPredictionJobs/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ir(v))}else{const g=Ov(this.apiClient,e);return h=Z("batches/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>nr(v))}}async cancel(e){var o,a,c,d;let p="",h={};if(this.apiClient.isVertexAI()){const y=tT(this.apiClient,e);p=Z("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=Jv(this.apiClient,e);p=Z("batches/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=iT(e);return h=Z("batchPredictionJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=ST(v),E=new fp;return Object.assign(E,C),E})}else{const g=Kv(e);return h=Z("batches",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=yT(v),E=new fp;return Object.assign(E,C),E})}}async delete(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=oT(this.apiClient,e);return h=Z("batchPredictionJobs/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>ET(v))}else{const g=Xv(this.apiClient,e);return h=Z("batches/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>vT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _T(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function MT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function xT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function RT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],_T(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],MT(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],xT(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function gp(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>RT(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function NT(n){const e={},o=s(n,["behavior"]);o!=null&&u(e,["behavior"],o);const a=s(n,["description"]);a!=null&&u(e,["description"],a);const c=s(n,["name"]);c!=null&&u(e,["name"],c);const d=s(n,["parameters"]);d!=null&&u(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const h=s(n,["response"]);h!=null&&u(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function DT(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function wT(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],DT(o)),e}function UT(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function IT(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],UT(o)),e}function bT(){return{}}function LT(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>NT(g))),u(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],wT(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&u(e,["googleSearchRetrieval"],IT(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],bT());const p=s(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const h=s(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function VT(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&u(e,["allowedFunctionNames"],a),e}function GT(n){const e={},o=s(n,["latitude"]);o!=null&&u(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&u(e,["longitude"],a),e}function HT(n){const e={},o=s(n,["latLng"]);o!=null&&u(e,["latLng"],GT(o));const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function qT(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],VT(o));const a=s(n,["retrievalConfig"]);return a!=null&&u(e,["retrievalConfig"],HT(a)),e}function kT(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&u(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&u(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&u(e,["displayName"],d);const p=s(n,["contents"]);if(e!==void 0&&p!=null){let v=Ht(p);Array.isArray(v)&&(v=v.map(C=>gp(C))),u(e,["contents"],v)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],gp(ft(h)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>LT(C))),u(e,["tools"],v)}const g=s(n,["toolConfig"]);if(e!==void 0&&g!=null&&u(e,["toolConfig"],qT(g)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function PT(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["model"],Hp(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],kT(c,o)),o}function BT(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],cn(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function zT(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],cn(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function YT(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&u(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&u(e,["expireTime"],c),o}function FT(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],cn(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],YT(c,o)),o}function OT(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&u(e,["_query","pageToken"],c),o}function JT(n){const e={},o=s(n,["config"]);return o!=null&&u(e,["config"],OT(o,e)),e}function $T(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function KT(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["data"]);a!=null&&u(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function XT(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&u(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function QT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],$T(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],KT(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],XT(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function hp(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>QT(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function ZT(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&u(e,["description"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["parameters"]);c!=null&&u(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=s(n,["response"]);p!=null&&u(e,["response"],p);const h=s(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function WT(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function jT(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],WT(o)),e}function e0(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function t0(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],e0(o)),e}function n0(){return{}}function i0(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&u(e,["apiKeyString"],o),e}function o0(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&u(e,["apiKeyConfig"],i0(o));const a=s(n,["authType"]);a!=null&&u(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&u(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&u(e,["httpBasicAuthConfig"],d);const p=s(n,["oauthConfig"]);p!=null&&u(e,["oauthConfig"],p);const h=s(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function l0(n){const e={},o=s(n,["authConfig"]);return o!=null&&u(e,["authConfig"],o0(o)),e}function a0(){return{}}function s0(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(E=>ZT(E))),u(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&u(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],jT(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],t0(d)),s(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],n0());const h=s(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],l0(h)),s(n,["urlContext"])!=null&&u(e,["urlContext"],a0());const g=s(n,["codeExecution"]);g!=null&&u(e,["codeExecution"],g);const v=s(n,["computerUse"]);return v!=null&&u(e,["computerUse"],v),e}function u0(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&u(e,["allowedFunctionNames"],a),e}function r0(n){const e={},o=s(n,["latitude"]);o!=null&&u(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&u(e,["longitude"],a),e}function c0(n){const e={},o=s(n,["latLng"]);o!=null&&u(e,["latLng"],r0(o));const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function f0(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],u0(o));const a=s(n,["retrievalConfig"]);return a!=null&&u(e,["retrievalConfig"],c0(a)),e}function d0(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&u(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&u(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&u(e,["displayName"],d);const p=s(n,["contents"]);if(e!==void 0&&p!=null){let C=Ht(p);Array.isArray(C)&&(C=C.map(E=>hp(E))),u(e,["contents"],C)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],hp(ft(h)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(E=>s0(E))),u(e,["tools"],C)}const g=s(n,["toolConfig"]);e!==void 0&&g!=null&&u(e,["toolConfig"],f0(g));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&u(e,["encryption_spec","kmsKeyName"],v),o}function m0(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["model"],Hp(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],d0(c,o)),o}function p0(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],cn(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function g0(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],cn(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function h0(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&u(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&u(e,["expireTime"],c),o}function y0(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],cn(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],h0(c,o)),o}function v0(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&u(e,["_query","pageToken"],c),o}function T0(n){const e={},o=s(n,["config"]);return o!=null&&u(e,["config"],v0(o,e)),e}function Ma(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["model"]);c!=null&&u(e,["model"],c);const d=s(n,["createTime"]);d!=null&&u(e,["createTime"],d);const p=s(n,["updateTime"]);p!=null&&u(e,["updateTime"],p);const h=s(n,["expireTime"]);h!=null&&u(e,["expireTime"],h);const y=s(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function C0(){return{}}function S0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Ma(p))),u(e,["cachedContents"],d)}return e}function xa(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["model"]);c!=null&&u(e,["model"],c);const d=s(n,["createTime"]);d!=null&&u(e,["createTime"],d);const p=s(n,["updateTime"]);p!=null&&u(e,["updateTime"],p);const h=s(n,["expireTime"]);h!=null&&u(e,["expireTime"],h);const y=s(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function E0(){return{}}function A0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>xa(p))),u(e,["cachedContents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _0 extends li{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new rl(oi.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=m0(this.apiClient,e);return h=Z("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>xa(v))}else{const g=PT(this.apiClient,e);return h=Z("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>Ma(v))}}async get(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=p0(this.apiClient,e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>xa(v))}else{const g=BT(this.apiClient,e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>Ma(v))}}async delete(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=g0(this.apiClient,e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(()=>{const v=E0(),C=new rp;return Object.assign(C,v),C})}else{const g=zT(this.apiClient,e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(()=>{const v=C0(),C=new rp;return Object.assign(C,v),C})}}async update(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=y0(this.apiClient,e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>xa(v))}else{const g=FT(this.apiClient,e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>Ma(v))}}async listInternal(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=T0(e);return h=Z("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=A0(v),E=new cp;return Object.assign(E,C),E})}else{const g=JT(e);return h=Z("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=S0(v),E=new cp;return Object.assign(E,C),E})}}}function yp(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ke(n){return this instanceof ke?(this.v=n,this):new ke(n)}function ji(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",p),c[Symbol.asyncIterator]=function(){return this},c;function p(N){return function(L){return Promise.resolve(L).then(N,C)}}function h(N,L){a[N]&&(c[N]=function(V){return new Promise(function(B,$){d.push([N,V,B,$])>1||y(N,V)})},L&&(c[N]=L(c[N])))}function y(N,L){try{g(a[N](L))}catch(V){E(d[0][3],V)}}function g(N){N.value instanceof ke?Promise.resolve(N.value.v).then(v,C):E(d[0][2],N)}function v(N){y("next",N)}function C(N){y("throw",N)}function E(N,L){N(L),d.shift(),d.length&&y(d[0][0],d[0][1])}}function ul(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof yp=="function"?yp(n):n[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=n[d]&&function(p){return new Promise(function(h,y){p=n[d](p),c(h,y,p.done,p.value)})}}function c(d,p,h,y){Promise.resolve(y).then(function(g){d({value:g,done:h})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M0(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:jp(o)}function jp(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function x0(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function vp(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let a=0;for(;a<o;)if(n[a].role==="user")e.push(n[a]),a++;else{const c=[];let d=!0;for(;a<o&&n[a].role==="model";)c.push(n[a]),d&&!jp(n[a])&&(d=!1),a++;d?e.push(...c):e.pop()}return e}class R0{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new N0(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class N0{constructor(e,o,a,c={},d=[]){this.apiClient=e,this.modelsModule=o,this.model=a,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),x0(d)}async sendMessage(e){var o;await this.sendPromise;const a=ft(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,h;const y=await c,g=(p=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let E=[];v!=null&&(E=(h=v.slice(C))!==null&&h!==void 0?h:[]);const N=g?[g]:[];this.recordHistory(a,N,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var o;await this.sendPromise;const a=ft(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,a)}getHistory(e=!1){const o=e?vp(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var a,c;return ji(this,arguments,function*(){var p,h,y,g;const v=[];try{for(var C=!0,E=ul(e),N;N=yield ke(E.next()),p=N.done,!p;C=!0){g=N.value,C=!1;const L=g;if(M0(L)){const V=(c=(a=L.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content;V!==void 0&&v.push(V)}yield yield ke(L)}}catch(L){h={error:L}}finally{try{!C&&!p&&(y=E.return)&&(yield ke(y.call(E)))}finally{if(h)throw h.error}}this.recordHistory(o,v)})}recordHistory(e,o,a){let c=[];o.length>0&&o.every(d=>d.role!==void 0)?c=o:c.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...vp(a)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wa extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,wa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D0(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&u(e,["_query","pageToken"],c),o}function w0(n){const e={},o=s(n,["config"]);return o!=null&&u(e,["config"],D0(o,e)),e}function U0(n){const e={},o=s(n,["details"]);o!=null&&u(e,["details"],o);const a=s(n,["message"]);a!=null&&u(e,["message"],a);const c=s(n,["code"]);return c!=null&&u(e,["code"],c),e}function I0(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&u(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&u(e,["sizeBytes"],d);const p=s(n,["createTime"]);p!=null&&u(e,["createTime"],p);const h=s(n,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const y=s(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const g=s(n,["sha256Hash"]);g!=null&&u(e,["sha256Hash"],g);const v=s(n,["uri"]);v!=null&&u(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&u(e,["downloadUri"],C);const E=s(n,["state"]);E!=null&&u(e,["state"],E);const N=s(n,["source"]);N!=null&&u(e,["source"],N);const L=s(n,["videoMetadata"]);L!=null&&u(e,["videoMetadata"],L);const V=s(n,["error"]);return V!=null&&u(e,["error"],U0(V)),e}function b0(n){const e={},o=s(n,["file"]);o!=null&&u(e,["file"],I0(o));const a=s(n,["config"]);return a!=null&&u(e,["config"],a),e}function L0(n){const e={},o=s(n,["name"]);o!=null&&u(e,["_url","file"],Fp(o));const a=s(n,["config"]);return a!=null&&u(e,["config"],a),e}function V0(n){const e={},o=s(n,["name"]);o!=null&&u(e,["_url","file"],Fp(o));const a=s(n,["config"]);return a!=null&&u(e,["config"],a),e}function G0(n){const e={},o=s(n,["details"]);o!=null&&u(e,["details"],o);const a=s(n,["message"]);a!=null&&u(e,["message"],a);const c=s(n,["code"]);return c!=null&&u(e,["code"],c),e}function or(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&u(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&u(e,["sizeBytes"],d);const p=s(n,["createTime"]);p!=null&&u(e,["createTime"],p);const h=s(n,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const y=s(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const g=s(n,["sha256Hash"]);g!=null&&u(e,["sha256Hash"],g);const v=s(n,["uri"]);v!=null&&u(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&u(e,["downloadUri"],C);const E=s(n,["state"]);E!=null&&u(e,["state"],E);const N=s(n,["source"]);N!=null&&u(e,["source"],N);const L=s(n,["videoMetadata"]);L!=null&&u(e,["videoMetadata"],L);const V=s(n,["error"]);return V!=null&&u(e,["error"],G0(V)),e}function H0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["files"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>or(p))),u(e,["files"],d)}return e}function q0(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function k0(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P0 extends li{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new rl(oi.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>or(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=w0(e);return d=Z("files",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const g=H0(y),v=new ov;return Object.assign(v,g),v})}}async createInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=b0(e);return d=Z("upload/v1beta/files",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const g=q0(y),v=new lv;return Object.assign(v,g),v})}}async get(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=L0(e);return d=Z("files/{file}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>or(y))}}async delete(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=V0(e);return d=Z("files/{file}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=k0(),g=new av;return Object.assign(g,y),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B0(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function eg(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],B0(o)),e}function z0(n){const e={},o=s(n,["speaker"]);o!=null&&u(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&u(e,["voiceConfig"],eg(a)),e}function Y0(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>z0(c))),u(e,["speakerVoiceConfigs"],a)}return e}function F0(n){const e={},o=s(n,["voiceConfig"]);o!=null&&u(e,["voiceConfig"],eg(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&u(e,["multiSpeakerVoiceConfig"],Y0(a));const c=s(n,["languageCode"]);return c!=null&&u(e,["languageCode"],c),e}function O0(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function J0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function $0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function K0(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],O0(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],J0(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],$0(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function X0(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>K0(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function Q0(n){const e={},o=s(n,["behavior"]);o!=null&&u(e,["behavior"],o);const a=s(n,["description"]);a!=null&&u(e,["description"],a);const c=s(n,["name"]);c!=null&&u(e,["name"],c);const d=s(n,["parameters"]);d!=null&&u(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const h=s(n,["response"]);h!=null&&u(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function Z0(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function W0(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],Z0(o)),e}function j0(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function eC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],j0(o)),e}function tC(){return{}}function nC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>Q0(g))),u(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],W0(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&u(e,["googleSearchRetrieval"],eC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],tC());const p=s(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const h=s(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function iC(n){const e={},o=s(n,["handle"]);if(o!=null&&u(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Tp(){return{}}function oC(n){const e={},o=s(n,["disabled"]);o!=null&&u(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&u(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&u(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&u(e,["prefixPaddingMs"],d);const p=s(n,["silenceDurationMs"]);return p!=null&&u(e,["silenceDurationMs"],p),e}function lC(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&u(e,["automaticActivityDetection"],oC(o));const a=s(n,["activityHandling"]);a!=null&&u(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&u(e,["turnCoverage"],c),e}function aC(n){const e={},o=s(n,["targetTokens"]);return o!=null&&u(e,["targetTokens"],o),e}function sC(n){const e={},o=s(n,["triggerTokens"]);o!=null&&u(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&u(e,["slidingWindow"],aC(a)),e}function uC(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&u(e,["proactiveAudio"],o),e}function rC(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","temperature"],d);const p=s(n,["topP"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topP"],p);const h=s(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const g=s(n,["mediaResolution"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","mediaResolution"],g);const v=s(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],F0(gr(C)));const E=s(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],E);const N=s(n,["systemInstruction"]);e!==void 0&&N!=null&&u(e,["setup","systemInstruction"],X0(ft(N)));const L=s(n,["tools"]);if(e!==void 0&&L!=null){let z=no(L);Array.isArray(z)&&(z=z.map(oe=>nC(to(oe)))),u(e,["setup","tools"],z)}const V=s(n,["sessionResumption"]);e!==void 0&&V!=null&&u(e,["setup","sessionResumption"],iC(V));const B=s(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&u(e,["setup","inputAudioTranscription"],Tp());const $=s(n,["outputAudioTranscription"]);e!==void 0&&$!=null&&u(e,["setup","outputAudioTranscription"],Tp());const P=s(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&u(e,["setup","realtimeInputConfig"],lC(P));const Y=s(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&u(e,["setup","contextWindowCompression"],sC(Y));const X=s(n,["proactivity"]);return e!==void 0&&X!=null&&u(e,["setup","proactivity"],uC(X)),o}function cC(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["setup","model"],we(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],rC(c,o)),o}function fC(){return{}}function dC(){return{}}function mC(n){const e={},o=s(n,["media"]);o!=null&&u(e,["mediaChunks"],qp(o));const a=s(n,["audio"]);a!=null&&u(e,["audio"],Pp(a));const c=s(n,["audioStreamEnd"]);c!=null&&u(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&u(e,["video"],kp(d));const p=s(n,["text"]);return p!=null&&u(e,["text"],p),s(n,["activityStart"])!=null&&u(e,["activityStart"],fC()),s(n,["activityEnd"])!=null&&u(e,["activityEnd"],dC()),e}function tg(n){const e={},o=s(n,["text"]);o!=null&&u(e,["text"],o);const a=s(n,["weight"]);return a!=null&&u(e,["weight"],a),e}function pC(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>tg(c))),u(e,["weightedPrompts"],a)}return e}function ng(n){const e={},o=s(n,["temperature"]);o!=null&&u(e,["temperature"],o);const a=s(n,["topK"]);a!=null&&u(e,["topK"],a);const c=s(n,["seed"]);c!=null&&u(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&u(e,["guidance"],d);const p=s(n,["bpm"]);p!=null&&u(e,["bpm"],p);const h=s(n,["density"]);h!=null&&u(e,["density"],h);const y=s(n,["brightness"]);y!=null&&u(e,["brightness"],y);const g=s(n,["scale"]);g!=null&&u(e,["scale"],g);const v=s(n,["muteBass"]);v!=null&&u(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&u(e,["muteDrums"],C);const E=s(n,["onlyBassAndDrums"]);E!=null&&u(e,["onlyBassAndDrums"],E);const N=s(n,["musicGenerationMode"]);return N!=null&&u(e,["musicGenerationMode"],N),e}function gC(n){const e={},o=s(n,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],ng(o)),e}function ig(n){const e={},o=s(n,["model"]);return o!=null&&u(e,["model"],o),e}function og(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>tg(c))),u(e,["weightedPrompts"],a)}return e}function lr(n){const e={},o=s(n,["setup"]);o!=null&&u(e,["setup"],ig(o));const a=s(n,["clientContent"]);a!=null&&u(e,["clientContent"],og(a));const c=s(n,["musicGenerationConfig"]);c!=null&&u(e,["musicGenerationConfig"],ng(c));const d=s(n,["playbackControl"]);return d!=null&&u(e,["playbackControl"],d),e}function hC(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function yC(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],hC(o)),e}function vC(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&u(e,["voiceConfig"],yC(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function TC(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function CC(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["data"]);a!=null&&u(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function SC(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&u(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function EC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],TC(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],CC(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],SC(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function AC(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>EC(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function _C(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&u(e,["description"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["parameters"]);c!=null&&u(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=s(n,["response"]);p!=null&&u(e,["response"],p);const h=s(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function MC(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function xC(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],MC(o)),e}function RC(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function NC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],RC(o)),e}function DC(){return{}}function wC(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&u(e,["apiKeyString"],o),e}function UC(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&u(e,["apiKeyConfig"],wC(o));const a=s(n,["authType"]);a!=null&&u(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&u(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&u(e,["httpBasicAuthConfig"],d);const p=s(n,["oauthConfig"]);p!=null&&u(e,["oauthConfig"],p);const h=s(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function IC(n){const e={},o=s(n,["authConfig"]);return o!=null&&u(e,["authConfig"],UC(o)),e}function bC(){return{}}function LC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(E=>_C(E))),u(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&u(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],xC(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],NC(d)),s(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],DC());const h=s(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],IC(h)),s(n,["urlContext"])!=null&&u(e,["urlContext"],bC());const g=s(n,["codeExecution"]);g!=null&&u(e,["codeExecution"],g);const v=s(n,["computerUse"]);return v!=null&&u(e,["computerUse"],v),e}function VC(n){const e={},o=s(n,["handle"]);o!=null&&u(e,["handle"],o);const a=s(n,["transparent"]);return a!=null&&u(e,["transparent"],a),e}function Cp(){return{}}function GC(n){const e={},o=s(n,["disabled"]);o!=null&&u(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&u(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&u(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&u(e,["prefixPaddingMs"],d);const p=s(n,["silenceDurationMs"]);return p!=null&&u(e,["silenceDurationMs"],p),e}function HC(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&u(e,["automaticActivityDetection"],GC(o));const a=s(n,["activityHandling"]);a!=null&&u(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&u(e,["turnCoverage"],c),e}function qC(n){const e={},o=s(n,["targetTokens"]);return o!=null&&u(e,["targetTokens"],o),e}function kC(n){const e={},o=s(n,["triggerTokens"]);o!=null&&u(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&u(e,["slidingWindow"],qC(a)),e}function PC(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&u(e,["proactiveAudio"],o),e}function BC(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","temperature"],d);const p=s(n,["topP"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topP"],p);const h=s(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const g=s(n,["mediaResolution"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","mediaResolution"],g);const v=s(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],vC(gr(C)));const E=s(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],E);const N=s(n,["systemInstruction"]);e!==void 0&&N!=null&&u(e,["setup","systemInstruction"],AC(ft(N)));const L=s(n,["tools"]);if(e!==void 0&&L!=null){let z=no(L);Array.isArray(z)&&(z=z.map(oe=>LC(to(oe)))),u(e,["setup","tools"],z)}const V=s(n,["sessionResumption"]);e!==void 0&&V!=null&&u(e,["setup","sessionResumption"],VC(V));const B=s(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&u(e,["setup","inputAudioTranscription"],Cp());const $=s(n,["outputAudioTranscription"]);e!==void 0&&$!=null&&u(e,["setup","outputAudioTranscription"],Cp());const P=s(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&u(e,["setup","realtimeInputConfig"],HC(P));const Y=s(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&u(e,["setup","contextWindowCompression"],kC(Y));const X=s(n,["proactivity"]);return e!==void 0&&X!=null&&u(e,["setup","proactivity"],PC(X)),o}function zC(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["setup","model"],we(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],BC(c,o)),o}function YC(){return{}}function FC(){return{}}function OC(n){const e={},o=s(n,["media"]);o!=null&&u(e,["mediaChunks"],qp(o));const a=s(n,["audio"]);a!=null&&u(e,["audio"],Pp(a));const c=s(n,["audioStreamEnd"]);c!=null&&u(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&u(e,["video"],kp(d));const p=s(n,["text"]);return p!=null&&u(e,["text"],p),s(n,["activityStart"])!=null&&u(e,["activityStart"],YC()),s(n,["activityEnd"])!=null&&u(e,["activityEnd"],FC()),e}function JC(){return{}}function $C(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function KC(n){const e={},o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function XC(n){const e={},o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function QC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],$C(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],KC(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],XC(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function ZC(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>QC(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function Sp(n){const e={},o=s(n,["text"]);o!=null&&u(e,["text"],o);const a=s(n,["finished"]);return a!=null&&u(e,["finished"],a),e}function WC(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&u(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&u(e,["urlRetrievalStatus"],a),e}function jC(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>WC(c))),u(e,["urlMetadata"],a)}return e}function eS(n){const e={},o=s(n,["modelTurn"]);o!=null&&u(e,["modelTurn"],ZC(o));const a=s(n,["turnComplete"]);a!=null&&u(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&u(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&u(e,["groundingMetadata"],d);const p=s(n,["generationComplete"]);p!=null&&u(e,["generationComplete"],p);const h=s(n,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],Sp(h));const y=s(n,["outputTranscription"]);y!=null&&u(e,["outputTranscription"],Sp(y));const g=s(n,["urlContextMetadata"]);return g!=null&&u(e,["urlContextMetadata"],jC(g)),e}function tS(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function nS(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>tS(c))),u(e,["functionCalls"],a)}return e}function iS(n){const e={},o=s(n,["ids"]);return o!=null&&u(e,["ids"],o),e}function Aa(n){const e={},o=s(n,["modality"]);o!=null&&u(e,["modality"],o);const a=s(n,["tokenCount"]);return a!=null&&u(e,["tokenCount"],a),e}function oS(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&u(e,["promptTokenCount"],o);const a=s(n,["cachedContentTokenCount"]);a!=null&&u(e,["cachedContentTokenCount"],a);const c=s(n,["responseTokenCount"]);c!=null&&u(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&u(e,["toolUsePromptTokenCount"],d);const p=s(n,["thoughtsTokenCount"]);p!=null&&u(e,["thoughtsTokenCount"],p);const h=s(n,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const y=s(n,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(N=>Aa(N))),u(e,["promptTokensDetails"],E)}const g=s(n,["cacheTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(N=>Aa(N))),u(e,["cacheTokensDetails"],E)}const v=s(n,["responseTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(N=>Aa(N))),u(e,["responseTokensDetails"],E)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let E=C;Array.isArray(E)&&(E=E.map(N=>Aa(N))),u(e,["toolUsePromptTokensDetails"],E)}return e}function lS(n){const e={},o=s(n,["timeLeft"]);return o!=null&&u(e,["timeLeft"],o),e}function aS(n){const e={},o=s(n,["newHandle"]);o!=null&&u(e,["newHandle"],o);const a=s(n,["resumable"]);a!=null&&u(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&u(e,["lastConsumedClientMessageIndex"],c),e}function sS(n){const e={};s(n,["setupComplete"])!=null&&u(e,["setupComplete"],JC());const a=s(n,["serverContent"]);a!=null&&u(e,["serverContent"],eS(a));const c=s(n,["toolCall"]);c!=null&&u(e,["toolCall"],nS(c));const d=s(n,["toolCallCancellation"]);d!=null&&u(e,["toolCallCancellation"],iS(d));const p=s(n,["usageMetadata"]);p!=null&&u(e,["usageMetadata"],oS(p));const h=s(n,["goAway"]);h!=null&&u(e,["goAway"],lS(h));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],aS(y)),e}function uS(){return{}}function rS(n){const e={},o=s(n,["text"]);o!=null&&u(e,["text"],o);const a=s(n,["weight"]);return a!=null&&u(e,["weight"],a),e}function cS(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>rS(c))),u(e,["weightedPrompts"],a)}return e}function fS(n){const e={},o=s(n,["temperature"]);o!=null&&u(e,["temperature"],o);const a=s(n,["topK"]);a!=null&&u(e,["topK"],a);const c=s(n,["seed"]);c!=null&&u(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&u(e,["guidance"],d);const p=s(n,["bpm"]);p!=null&&u(e,["bpm"],p);const h=s(n,["density"]);h!=null&&u(e,["density"],h);const y=s(n,["brightness"]);y!=null&&u(e,["brightness"],y);const g=s(n,["scale"]);g!=null&&u(e,["scale"],g);const v=s(n,["muteBass"]);v!=null&&u(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&u(e,["muteDrums"],C);const E=s(n,["onlyBassAndDrums"]);E!=null&&u(e,["onlyBassAndDrums"],E);const N=s(n,["musicGenerationMode"]);return N!=null&&u(e,["musicGenerationMode"],N),e}function dS(n){const e={},o=s(n,["clientContent"]);o!=null&&u(e,["clientContent"],cS(o));const a=s(n,["musicGenerationConfig"]);return a!=null&&u(e,["musicGenerationConfig"],fS(a)),e}function mS(n){const e={},o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);a!=null&&u(e,["mimeType"],a);const c=s(n,["sourceMetadata"]);return c!=null&&u(e,["sourceMetadata"],dS(c)),e}function pS(n){const e={},o=s(n,["audioChunks"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>mS(c))),u(e,["audioChunks"],a)}return e}function gS(n){const e={},o=s(n,["text"]);o!=null&&u(e,["text"],o);const a=s(n,["filteredReason"]);return a!=null&&u(e,["filteredReason"],a),e}function hS(n){const e={};s(n,["setupComplete"])!=null&&u(e,["setupComplete"],uS());const a=s(n,["serverContent"]);a!=null&&u(e,["serverContent"],pS(a));const c=s(n,["filteredPrompt"]);return c!=null&&u(e,["filteredPrompt"],gS(c)),e}function yS(n){const e={},o=s(n,["sessionId"]);return o!=null&&u(e,["sessionId"],o),e}function vS(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function TS(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["data"]);a!=null&&u(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function CS(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&u(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function SS(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],vS(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],TS(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],CS(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function ES(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>SS(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function Ep(n){const e={},o=s(n,["text"]);o!=null&&u(e,["text"],o);const a=s(n,["finished"]);return a!=null&&u(e,["finished"],a),e}function AS(n){const e={},o=s(n,["modelTurn"]);o!=null&&u(e,["modelTurn"],ES(o));const a=s(n,["turnComplete"]);a!=null&&u(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&u(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&u(e,["groundingMetadata"],d);const p=s(n,["generationComplete"]);p!=null&&u(e,["generationComplete"],p);const h=s(n,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],Ep(h));const y=s(n,["outputTranscription"]);return y!=null&&u(e,["outputTranscription"],Ep(y)),e}function _S(n){const e={},o=s(n,["args"]);o!=null&&u(e,["args"],o);const a=s(n,["name"]);return a!=null&&u(e,["name"],a),e}function MS(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>_S(c))),u(e,["functionCalls"],a)}return e}function xS(n){const e={},o=s(n,["ids"]);return o!=null&&u(e,["ids"],o),e}function _a(n){const e={},o=s(n,["modality"]);o!=null&&u(e,["modality"],o);const a=s(n,["tokenCount"]);return a!=null&&u(e,["tokenCount"],a),e}function RS(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&u(e,["promptTokenCount"],o);const a=s(n,["cachedContentTokenCount"]);a!=null&&u(e,["cachedContentTokenCount"],a);const c=s(n,["candidatesTokenCount"]);c!=null&&u(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&u(e,["toolUsePromptTokenCount"],d);const p=s(n,["thoughtsTokenCount"]);p!=null&&u(e,["thoughtsTokenCount"],p);const h=s(n,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const y=s(n,["promptTokensDetails"]);if(y!=null){let N=y;Array.isArray(N)&&(N=N.map(L=>_a(L))),u(e,["promptTokensDetails"],N)}const g=s(n,["cacheTokensDetails"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(L=>_a(L))),u(e,["cacheTokensDetails"],N)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(L=>_a(L))),u(e,["responseTokensDetails"],N)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let N=C;Array.isArray(N)&&(N=N.map(L=>_a(L))),u(e,["toolUsePromptTokensDetails"],N)}const E=s(n,["trafficType"]);return E!=null&&u(e,["trafficType"],E),e}function NS(n){const e={},o=s(n,["timeLeft"]);return o!=null&&u(e,["timeLeft"],o),e}function DS(n){const e={},o=s(n,["newHandle"]);o!=null&&u(e,["newHandle"],o);const a=s(n,["resumable"]);a!=null&&u(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&u(e,["lastConsumedClientMessageIndex"],c),e}function wS(n){const e={},o=s(n,["setupComplete"]);o!=null&&u(e,["setupComplete"],yS(o));const a=s(n,["serverContent"]);a!=null&&u(e,["serverContent"],AS(a));const c=s(n,["toolCall"]);c!=null&&u(e,["toolCall"],MS(c));const d=s(n,["toolCallCancellation"]);d!=null&&u(e,["toolCallCancellation"],xS(d));const p=s(n,["usageMetadata"]);p!=null&&u(e,["usageMetadata"],RS(p));const h=s(n,["goAway"]);h!=null&&u(e,["goAway"],NS(h));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],DS(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function US(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function IS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function bS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function LS(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],US(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],IS(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],bS(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function Ua(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>LS(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function VS(n){const e={},o=s(n,["anyOf"]);o!=null&&u(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&u(e,["default"],a);const c=s(n,["description"]);c!=null&&u(e,["description"],c);const d=s(n,["enum"]);d!=null&&u(e,["enum"],d);const p=s(n,["example"]);p!=null&&u(e,["example"],p);const h=s(n,["format"]);h!=null&&u(e,["format"],h);const y=s(n,["items"]);y!=null&&u(e,["items"],y);const g=s(n,["maxItems"]);g!=null&&u(e,["maxItems"],g);const v=s(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const E=s(n,["maximum"]);E!=null&&u(e,["maximum"],E);const N=s(n,["minItems"]);N!=null&&u(e,["minItems"],N);const L=s(n,["minLength"]);L!=null&&u(e,["minLength"],L);const V=s(n,["minProperties"]);V!=null&&u(e,["minProperties"],V);const B=s(n,["minimum"]);B!=null&&u(e,["minimum"],B);const $=s(n,["nullable"]);$!=null&&u(e,["nullable"],$);const P=s(n,["pattern"]);P!=null&&u(e,["pattern"],P);const Y=s(n,["properties"]);Y!=null&&u(e,["properties"],Y);const X=s(n,["propertyOrdering"]);X!=null&&u(e,["propertyOrdering"],X);const z=s(n,["required"]);z!=null&&u(e,["required"],z);const oe=s(n,["title"]);oe!=null&&u(e,["title"],oe);const le=s(n,["type"]);return le!=null&&u(e,["type"],le),e}function GS(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&u(e,["category"],o);const a=s(n,["threshold"]);return a!=null&&u(e,["threshold"],a),e}function HS(n){const e={},o=s(n,["behavior"]);o!=null&&u(e,["behavior"],o);const a=s(n,["description"]);a!=null&&u(e,["description"],a);const c=s(n,["name"]);c!=null&&u(e,["name"],c);const d=s(n,["parameters"]);d!=null&&u(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const h=s(n,["response"]);h!=null&&u(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function qS(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function kS(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],qS(o)),e}function PS(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function BS(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],PS(o)),e}function zS(){return{}}function YS(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>HS(g))),u(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],kS(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&u(e,["googleSearchRetrieval"],BS(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],zS());const p=s(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const h=s(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function FS(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&u(e,["allowedFunctionNames"],a),e}function OS(n){const e={},o=s(n,["latitude"]);o!=null&&u(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&u(e,["longitude"],a),e}function JS(n){const e={},o=s(n,["latLng"]);o!=null&&u(e,["latLng"],OS(o));const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function $S(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],FS(o));const a=s(n,["retrievalConfig"]);return a!=null&&u(e,["retrievalConfig"],JS(a)),e}function KS(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function lg(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],KS(o)),e}function XS(n){const e={},o=s(n,["speaker"]);o!=null&&u(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&u(e,["voiceConfig"],lg(a)),e}function QS(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>XS(c))),u(e,["speakerVoiceConfigs"],a)}return e}function ZS(n){const e={},o=s(n,["voiceConfig"]);o!=null&&u(e,["voiceConfig"],lg(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&u(e,["multiSpeakerVoiceConfig"],QS(a));const c=s(n,["languageCode"]);return c!=null&&u(e,["languageCode"],c),e}function WS(n){const e={},o=s(n,["includeThoughts"]);o!=null&&u(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&u(e,["thinkingBudget"],a),e}function jS(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&u(o,["systemInstruction"],Ua(ft(c)));const d=s(e,["temperature"]);d!=null&&u(a,["temperature"],d);const p=s(e,["topP"]);p!=null&&u(a,["topP"],p);const h=s(e,["topK"]);h!=null&&u(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&u(a,["candidateCount"],y);const g=s(e,["maxOutputTokens"]);g!=null&&u(a,["maxOutputTokens"],g);const v=s(e,["stopSequences"]);v!=null&&u(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&u(a,["responseLogprobs"],C);const E=s(e,["logprobs"]);E!=null&&u(a,["logprobs"],E);const N=s(e,["presencePenalty"]);N!=null&&u(a,["presencePenalty"],N);const L=s(e,["frequencyPenalty"]);L!=null&&u(a,["frequencyPenalty"],L);const V=s(e,["seed"]);V!=null&&u(a,["seed"],V);const B=s(e,["responseMimeType"]);B!=null&&u(a,["responseMimeType"],B);const $=s(e,["responseSchema"]);$!=null&&u(a,["responseSchema"],VS(mr($)));const P=s(e,["responseJsonSchema"]);if(P!=null&&u(a,["responseJsonSchema"],P),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=s(e,["safetySettings"]);if(o!==void 0&&Y!=null){let re=Y;Array.isArray(re)&&(re=re.map(_e=>GS(_e))),u(o,["safetySettings"],re)}const X=s(e,["tools"]);if(o!==void 0&&X!=null){let re=no(X);Array.isArray(re)&&(re=re.map(_e=>YS(to(_e)))),u(o,["tools"],re)}const z=s(e,["toolConfig"]);if(o!==void 0&&z!=null&&u(o,["toolConfig"],$S(z)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=s(e,["cachedContent"]);o!==void 0&&oe!=null&&u(o,["cachedContent"],cn(n,oe));const le=s(e,["responseModalities"]);le!=null&&u(a,["responseModalities"],le);const ue=s(e,["mediaResolution"]);ue!=null&&u(a,["mediaResolution"],ue);const W=s(e,["speechConfig"]);if(W!=null&&u(a,["speechConfig"],ZS(pr(W))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=s(e,["thinkingConfig"]);return me!=null&&u(a,["thinkingConfig"],WS(me)),a}function Ap(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let p=Ht(c);Array.isArray(p)&&(p=p.map(h=>Ua(h))),u(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&u(o,["generationConfig"],jS(n,d,o)),o}function eE(n,e){const o={},a=s(n,["taskType"]);e!==void 0&&a!=null&&u(e,["requests[]","taskType"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&u(e,["requests[]","title"],c);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&u(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function tE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["contents"]);c!=null&&u(o,["requests[]","content"],zp(n,c));const d=s(e,["config"]);d!=null&&u(o,["config"],eE(d,o));const p=s(e,["model"]);return p!==void 0&&u(o,["requests[]","model"],we(n,p)),o}function nE(n,e){const o={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&u(e,["parameters","sampleCount"],a);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const d=s(n,["guidanceScale"]);if(e!==void 0&&d!=null&&u(e,["parameters","guidanceScale"],d),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const h=s(n,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&u(e,["parameters","includeSafetyAttributes"],y);const g=s(n,["includeRaiReason"]);e!==void 0&&g!=null&&u(e,["parameters","includeRaiReason"],g);const v=s(n,["language"]);e!==void 0&&v!=null&&u(e,["parameters","language"],v);const C=s(n,["outputMimeType"]);e!==void 0&&C!=null&&u(e,["parameters","outputOptions","mimeType"],C);const E=s(n,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const N=s(n,["imageSize"]);if(e!==void 0&&N!=null&&u(e,["parameters","sampleImageSize"],N),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function iE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["prompt"]);c!=null&&u(o,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&u(o,["config"],nE(d,o)),o}function oE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","name"],we(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function lE(n,e,o){const a={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&u(o,["_query","pageSize"],c);const d=s(e,["pageToken"]);o!==void 0&&d!=null&&u(o,["_query","pageToken"],d);const p=s(e,["filter"]);o!==void 0&&p!=null&&u(o,["_query","filter"],p);const h=s(e,["queryBase"]);return o!==void 0&&h!=null&&u(o,["_url","models_url"],Op(n,h)),a}function aE(n,e){const o={},a=s(e,["config"]);return a!=null&&u(o,["config"],lE(n,a,o)),o}function sE(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&u(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&u(e,["defaultCheckpointId"],d),o}function uE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","name"],we(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],sE(c,o)),o}function rE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","name"],we(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function cE(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function fE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let p=Ht(c);Array.isArray(p)&&(p=p.map(h=>Ua(h))),u(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&u(o,["config"],cE(d)),o}function dE(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(n,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],ai(o));const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function mE(n,e){const o={},a=s(n,["numberOfVideos"]);if(e!==void 0&&a!=null&&u(e,["parameters","sampleCount"],a),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&u(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(n,["aspectRatio"]);if(e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const p=s(n,["personGeneration"]);if(e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=s(n,["negativePrompt"]);e!==void 0&&h!=null&&u(e,["parameters","negativePrompt"],h);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&u(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function pE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["prompt"]);c!=null&&u(o,["instances[0]","prompt"],c);const d=s(e,["image"]);if(d!=null&&u(o,["instances[0]","image"],dE(d)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const p=s(e,["config"]);return p!=null&&u(o,["config"],mE(p,o)),o}function gE(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function hE(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["data"]);a!=null&&u(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function yE(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&u(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function vE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],gE(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],hE(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],yE(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function oo(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>vE(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function TE(n){const e={},o=s(n,["anyOf"]);o!=null&&u(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&u(e,["default"],a);const c=s(n,["description"]);c!=null&&u(e,["description"],c);const d=s(n,["enum"]);d!=null&&u(e,["enum"],d);const p=s(n,["example"]);p!=null&&u(e,["example"],p);const h=s(n,["format"]);h!=null&&u(e,["format"],h);const y=s(n,["items"]);y!=null&&u(e,["items"],y);const g=s(n,["maxItems"]);g!=null&&u(e,["maxItems"],g);const v=s(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const E=s(n,["maximum"]);E!=null&&u(e,["maximum"],E);const N=s(n,["minItems"]);N!=null&&u(e,["minItems"],N);const L=s(n,["minLength"]);L!=null&&u(e,["minLength"],L);const V=s(n,["minProperties"]);V!=null&&u(e,["minProperties"],V);const B=s(n,["minimum"]);B!=null&&u(e,["minimum"],B);const $=s(n,["nullable"]);$!=null&&u(e,["nullable"],$);const P=s(n,["pattern"]);P!=null&&u(e,["pattern"],P);const Y=s(n,["properties"]);Y!=null&&u(e,["properties"],Y);const X=s(n,["propertyOrdering"]);X!=null&&u(e,["propertyOrdering"],X);const z=s(n,["required"]);z!=null&&u(e,["required"],z);const oe=s(n,["title"]);oe!=null&&u(e,["title"],oe);const le=s(n,["type"]);return le!=null&&u(e,["type"],le),e}function CE(n){const e={},o=s(n,["featureSelectionPreference"]);return o!=null&&u(e,["featureSelectionPreference"],o),e}function SE(n){const e={},o=s(n,["method"]);o!=null&&u(e,["method"],o);const a=s(n,["category"]);a!=null&&u(e,["category"],a);const c=s(n,["threshold"]);return c!=null&&u(e,["threshold"],c),e}function EE(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&u(e,["description"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["parameters"]);c!=null&&u(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=s(n,["response"]);p!=null&&u(e,["response"],p);const h=s(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function AE(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function _E(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],AE(o)),e}function ME(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function xE(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],ME(o)),e}function RE(){return{}}function NE(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&u(e,["apiKeyString"],o),e}function DE(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&u(e,["apiKeyConfig"],NE(o));const a=s(n,["authType"]);a!=null&&u(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&u(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&u(e,["httpBasicAuthConfig"],d);const p=s(n,["oauthConfig"]);p!=null&&u(e,["oauthConfig"],p);const h=s(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function wE(n){const e={},o=s(n,["authConfig"]);return o!=null&&u(e,["authConfig"],DE(o)),e}function UE(){return{}}function ag(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(E=>EE(E))),u(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&u(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],_E(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],xE(d)),s(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],RE());const h=s(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],wE(h)),s(n,["urlContext"])!=null&&u(e,["urlContext"],UE());const g=s(n,["codeExecution"]);g!=null&&u(e,["codeExecution"],g);const v=s(n,["computerUse"]);return v!=null&&u(e,["computerUse"],v),e}function IE(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&u(e,["allowedFunctionNames"],a),e}function bE(n){const e={},o=s(n,["latitude"]);o!=null&&u(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&u(e,["longitude"],a),e}function LE(n){const e={},o=s(n,["latLng"]);o!=null&&u(e,["latLng"],bE(o));const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function VE(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],IE(o));const a=s(n,["retrievalConfig"]);return a!=null&&u(e,["retrievalConfig"],LE(a)),e}function GE(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function HE(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],GE(o)),e}function qE(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&u(e,["voiceConfig"],HE(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function kE(n){const e={},o=s(n,["includeThoughts"]);o!=null&&u(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&u(e,["thinkingBudget"],a),e}function PE(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&u(o,["systemInstruction"],oo(ft(c)));const d=s(e,["temperature"]);d!=null&&u(a,["temperature"],d);const p=s(e,["topP"]);p!=null&&u(a,["topP"],p);const h=s(e,["topK"]);h!=null&&u(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&u(a,["candidateCount"],y);const g=s(e,["maxOutputTokens"]);g!=null&&u(a,["maxOutputTokens"],g);const v=s(e,["stopSequences"]);v!=null&&u(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&u(a,["responseLogprobs"],C);const E=s(e,["logprobs"]);E!=null&&u(a,["logprobs"],E);const N=s(e,["presencePenalty"]);N!=null&&u(a,["presencePenalty"],N);const L=s(e,["frequencyPenalty"]);L!=null&&u(a,["frequencyPenalty"],L);const V=s(e,["seed"]);V!=null&&u(a,["seed"],V);const B=s(e,["responseMimeType"]);B!=null&&u(a,["responseMimeType"],B);const $=s(e,["responseSchema"]);$!=null&&u(a,["responseSchema"],TE(mr($)));const P=s(e,["responseJsonSchema"]);P!=null&&u(a,["responseJsonSchema"],P);const Y=s(e,["routingConfig"]);Y!=null&&u(a,["routingConfig"],Y);const X=s(e,["modelSelectionConfig"]);X!=null&&u(a,["modelConfig"],CE(X));const z=s(e,["safetySettings"]);if(o!==void 0&&z!=null){let ve=z;Array.isArray(ve)&&(ve=ve.map(U=>SE(U))),u(o,["safetySettings"],ve)}const oe=s(e,["tools"]);if(o!==void 0&&oe!=null){let ve=no(oe);Array.isArray(ve)&&(ve=ve.map(U=>ag(to(U)))),u(o,["tools"],ve)}const le=s(e,["toolConfig"]);o!==void 0&&le!=null&&u(o,["toolConfig"],VE(le));const ue=s(e,["labels"]);o!==void 0&&ue!=null&&u(o,["labels"],ue);const W=s(e,["cachedContent"]);o!==void 0&&W!=null&&u(o,["cachedContent"],cn(n,W));const me=s(e,["responseModalities"]);me!=null&&u(a,["responseModalities"],me);const re=s(e,["mediaResolution"]);re!=null&&u(a,["mediaResolution"],re);const _e=s(e,["speechConfig"]);_e!=null&&u(a,["speechConfig"],qE(pr(_e)));const Ke=s(e,["audioTimestamp"]);Ke!=null&&u(a,["audioTimestamp"],Ke);const pt=s(e,["thinkingConfig"]);return pt!=null&&u(a,["thinkingConfig"],kE(pt)),a}function _p(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let p=Ht(c);Array.isArray(p)&&(p=p.map(h=>oo(h))),u(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&u(o,["generationConfig"],PE(n,d,o)),o}function BE(n,e){const o={},a=s(n,["taskType"]);e!==void 0&&a!=null&&u(e,["instances[]","task_type"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&u(e,["instances[]","title"],c);const d=s(n,["outputDimensionality"]);e!==void 0&&d!=null&&u(e,["parameters","outputDimensionality"],d);const p=s(n,["mimeType"]);e!==void 0&&p!=null&&u(e,["instances[]","mimeType"],p);const h=s(n,["autoTruncate"]);return e!==void 0&&h!=null&&u(e,["parameters","autoTruncate"],h),o}function zE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["contents"]);c!=null&&u(o,["instances[]","content"],zp(n,c));const d=s(e,["config"]);return d!=null&&u(o,["config"],BE(d,o)),o}function YE(n,e){const o={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&u(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&u(e,["parameters","sampleCount"],d);const p=s(n,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const y=s(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&u(e,["parameters","safetySetting"],g);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&u(e,["parameters","includeSafetyAttributes"],C);const E=s(n,["includeRaiReason"]);e!==void 0&&E!=null&&u(e,["parameters","includeRaiReason"],E);const N=s(n,["language"]);e!==void 0&&N!=null&&u(e,["parameters","language"],N);const L=s(n,["outputMimeType"]);e!==void 0&&L!=null&&u(e,["parameters","outputOptions","mimeType"],L);const V=s(n,["outputCompressionQuality"]);e!==void 0&&V!=null&&u(e,["parameters","outputOptions","compressionQuality"],V);const B=s(n,["addWatermark"]);e!==void 0&&B!=null&&u(e,["parameters","addWatermark"],B);const $=s(n,["imageSize"]);e!==void 0&&$!=null&&u(e,["parameters","sampleImageSize"],$);const P=s(n,["enhancePrompt"]);return e!==void 0&&P!=null&&u(e,["parameters","enhancePrompt"],P),o}function FE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["prompt"]);c!=null&&u(o,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&u(o,["config"],YE(d,o)),o}function lo(n){const e={},o=s(n,["gcsUri"]);o!=null&&u(e,["gcsUri"],o);const a=s(n,["imageBytes"]);a!=null&&u(e,["bytesBase64Encoded"],ai(a));const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function OE(n){const e={},o=s(n,["maskMode"]);o!=null&&u(e,["maskMode"],o);const a=s(n,["segmentationClasses"]);a!=null&&u(e,["maskClasses"],a);const c=s(n,["maskDilation"]);return c!=null&&u(e,["dilation"],c),e}function JE(n){const e={},o=s(n,["controlType"]);o!=null&&u(e,["controlType"],o);const a=s(n,["enableControlImageComputation"]);return a!=null&&u(e,["computeControl"],a),e}function $E(n){const e={},o=s(n,["styleDescription"]);return o!=null&&u(e,["styleDescription"],o),e}function KE(n){const e={},o=s(n,["subjectType"]);o!=null&&u(e,["subjectType"],o);const a=s(n,["subjectDescription"]);return a!=null&&u(e,["subjectDescription"],a),e}function XE(n){const e={},o=s(n,["referenceImage"]);o!=null&&u(e,["referenceImage"],lo(o));const a=s(n,["referenceId"]);a!=null&&u(e,["referenceId"],a);const c=s(n,["referenceType"]);c!=null&&u(e,["referenceType"],c);const d=s(n,["maskImageConfig"]);d!=null&&u(e,["maskImageConfig"],OE(d));const p=s(n,["controlImageConfig"]);p!=null&&u(e,["controlImageConfig"],JE(p));const h=s(n,["styleImageConfig"]);h!=null&&u(e,["styleImageConfig"],$E(h));const y=s(n,["subjectImageConfig"]);return y!=null&&u(e,["subjectImageConfig"],KE(y)),e}function QE(n,e){const o={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&u(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&u(e,["parameters","sampleCount"],d);const p=s(n,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const y=s(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&u(e,["parameters","safetySetting"],g);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&u(e,["parameters","includeSafetyAttributes"],C);const E=s(n,["includeRaiReason"]);e!==void 0&&E!=null&&u(e,["parameters","includeRaiReason"],E);const N=s(n,["language"]);e!==void 0&&N!=null&&u(e,["parameters","language"],N);const L=s(n,["outputMimeType"]);e!==void 0&&L!=null&&u(e,["parameters","outputOptions","mimeType"],L);const V=s(n,["outputCompressionQuality"]);e!==void 0&&V!=null&&u(e,["parameters","outputOptions","compressionQuality"],V);const B=s(n,["addWatermark"]);e!==void 0&&B!=null&&u(e,["parameters","addWatermark"],B);const $=s(n,["editMode"]);e!==void 0&&$!=null&&u(e,["parameters","editMode"],$);const P=s(n,["baseSteps"]);return e!==void 0&&P!=null&&u(e,["parameters","editConfig","baseSteps"],P),o}function ZE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["prompt"]);c!=null&&u(o,["instances[0]","prompt"],c);const d=s(e,["referenceImages"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>XE(y))),u(o,["instances[0]","referenceImages"],h)}const p=s(e,["config"]);return p!=null&&u(o,["config"],QE(p,o)),o}function WE(n,e){const o={},a=s(n,["includeRaiReason"]);e!==void 0&&a!=null&&u(e,["parameters","includeRaiReason"],a);const c=s(n,["outputMimeType"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","mimeType"],c);const d=s(n,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);const p=s(n,["enhanceInputImage"]);e!==void 0&&p!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],p);const h=s(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const y=s(n,["numberOfImages"]);e!==void 0&&y!=null&&u(e,["parameters","sampleCount"],y);const g=s(n,["mode"]);return e!==void 0&&g!=null&&u(e,["parameters","mode"],g),o}function jE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["image"]);c!=null&&u(o,["instances[0]","image"],lo(c));const d=s(e,["upscaleFactor"]);d!=null&&u(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=s(e,["config"]);return p!=null&&u(o,["config"],WE(p,o)),o}function eA(n){const e={},o=s(n,["productImage"]);return o!=null&&u(e,["image"],lo(o)),e}function tA(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&u(e,["instances[0]","prompt"],a);const c=s(n,["personImage"]);e!==void 0&&c!=null&&u(e,["instances[0]","personImage","image"],lo(c));const d=s(n,["productImages"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>eA(h))),u(e,["instances[0]","productImages"],p)}return o}function nA(n,e){const o={},a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&u(e,["parameters","sampleCount"],a);const c=s(n,["baseSteps"]);e!==void 0&&c!=null&&u(e,["parameters","editConfig","baseSteps"],c);const d=s(n,["outputGcsUri"]);e!==void 0&&d!=null&&u(e,["parameters","storageUri"],d);const p=s(n,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const y=s(n,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const g=s(n,["outputMimeType"]);e!==void 0&&g!=null&&u(e,["parameters","outputOptions","mimeType"],g);const v=s(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","compressionQuality"],v);const C=s(n,["enhancePrompt"]);return e!==void 0&&C!=null&&u(e,["parameters","enhancePrompt"],C),o}function iA(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["source"]);c!=null&&u(o,["config"],tA(c,o));const d=s(e,["config"]);return d!=null&&u(o,["config"],nA(d,o)),o}function oA(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","name"],we(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function lA(n,e,o){const a={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&u(o,["_query","pageSize"],c);const d=s(e,["pageToken"]);o!==void 0&&d!=null&&u(o,["_query","pageToken"],d);const p=s(e,["filter"]);o!==void 0&&p!=null&&u(o,["_query","filter"],p);const h=s(e,["queryBase"]);return o!==void 0&&h!=null&&u(o,["_url","models_url"],Op(n,h)),a}function aA(n,e){const o={},a=s(e,["config"]);return a!=null&&u(o,["config"],lA(n,a,o)),o}function sA(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&u(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&u(e,["defaultCheckpointId"],d),o}function uA(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],sA(c,o)),o}function rA(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","name"],we(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],c),o}function cA(n,e){const o={},a=s(n,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],oo(ft(a)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>ag(h))),u(e,["tools"],p)}const d=s(n,["generationConfig"]);return e!==void 0&&d!=null&&u(e,["generationConfig"],d),o}function fA(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let p=Ht(c);Array.isArray(p)&&(p=p.map(h=>oo(h))),u(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&u(o,["config"],cA(d,o)),o}function dA(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let p=Ht(c);Array.isArray(p)&&(p=p.map(h=>oo(h))),u(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&u(o,["config"],d),o}function mA(n){const e={},o=s(n,["uri"]);o!=null&&u(e,["gcsUri"],o);const a=s(n,["videoBytes"]);a!=null&&u(e,["bytesBase64Encoded"],ai(a));const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function pA(n,e){const o={},a=s(n,["numberOfVideos"]);e!==void 0&&a!=null&&u(e,["parameters","sampleCount"],a);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const d=s(n,["fps"]);e!==void 0&&d!=null&&u(e,["parameters","fps"],d);const p=s(n,["durationSeconds"]);e!==void 0&&p!=null&&u(e,["parameters","durationSeconds"],p);const h=s(n,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&u(e,["parameters","aspectRatio"],y);const g=s(n,["resolution"]);e!==void 0&&g!=null&&u(e,["parameters","resolution"],g);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const C=s(n,["pubsubTopic"]);e!==void 0&&C!=null&&u(e,["parameters","pubsubTopic"],C);const E=s(n,["negativePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","negativePrompt"],E);const N=s(n,["enhancePrompt"]);e!==void 0&&N!=null&&u(e,["parameters","enhancePrompt"],N);const L=s(n,["generateAudio"]);e!==void 0&&L!=null&&u(e,["parameters","generateAudio"],L);const V=s(n,["lastFrame"]);e!==void 0&&V!=null&&u(e,["instances[0]","lastFrame"],lo(V));const B=s(n,["compressionQuality"]);return e!==void 0&&B!=null&&u(e,["parameters","compressionQuality"],B),o}function gA(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],we(n,a));const c=s(e,["prompt"]);c!=null&&u(o,["instances[0]","prompt"],c);const d=s(e,["image"]);d!=null&&u(o,["instances[0]","image"],lo(d));const p=s(e,["video"]);p!=null&&u(o,["instances[0]","video"],mA(p));const h=s(e,["config"]);return h!=null&&u(o,["config"],pA(h,o)),o}function hA(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function yA(n){const e={},o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function vA(n){const e={},o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function TA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],hA(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],yA(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],vA(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function CA(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>TA(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function SA(n){const e={},o=s(n,["citationSources"]);return o!=null&&u(e,["citations"],o),e}function EA(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&u(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&u(e,["urlRetrievalStatus"],a),e}function AA(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>EA(c))),u(e,["urlMetadata"],a)}return e}function _A(n){const e={},o=s(n,["content"]);o!=null&&u(e,["content"],CA(o));const a=s(n,["citationMetadata"]);a!=null&&u(e,["citationMetadata"],SA(a));const c=s(n,["tokenCount"]);c!=null&&u(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&u(e,["finishReason"],d);const p=s(n,["urlContextMetadata"]);p!=null&&u(e,["urlContextMetadata"],AA(p));const h=s(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const g=s(n,["index"]);g!=null&&u(e,["index"],g);const v=s(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function Mp(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>_A(g))),u(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&u(e,["promptFeedback"],d);const p=s(n,["responseId"]);p!=null&&u(e,["responseId"],p);const h=s(n,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function MA(n){const e={},o=s(n,["values"]);return o!=null&&u(e,["values"],o),e}function xA(){return{}}function RA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>MA(p))),u(e,["embeddings"],d)}return s(n,["metadata"])!=null&&u(e,["metadata"],xA()),e}function NA(n){const e={},o=s(n,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],ai(o));const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function sg(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&u(e,["categories"],o);const a=s(n,["safetyAttributes","scores"]);a!=null&&u(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&u(e,["contentType"],c),e}function DA(n){const e={},o=s(n,["_self"]);o!=null&&u(e,["image"],NA(o));const a=s(n,["raiFilteredReason"]);a!=null&&u(e,["raiFilteredReason"],a);const c=s(n,["_self"]);return c!=null&&u(e,["safetyAttributes"],sg(c)),e}function wA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>DA(p))),u(e,["generatedImages"],d)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&u(e,["positivePromptSafetyAttributes"],sg(c)),e}function UA(n){const e={},o=s(n,["baseModel"]);o!=null&&u(e,["baseModel"],o);const a=s(n,["createTime"]);a!=null&&u(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&u(e,["updateTime"],c),e}function ar(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["description"]);c!=null&&u(e,["description"],c);const d=s(n,["version"]);d!=null&&u(e,["version"],d);const p=s(n,["_self"]);p!=null&&u(e,["tunedModelInfo"],UA(p));const h=s(n,["inputTokenLimit"]);h!=null&&u(e,["inputTokenLimit"],h);const y=s(n,["outputTokenLimit"]);y!=null&&u(e,["outputTokenLimit"],y);const g=s(n,["supportedGenerationMethods"]);return g!=null&&u(e,["supportedActions"],g),e}function IA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=Jp(c);Array.isArray(d)&&(d=d.map(p=>ar(p))),u(e,["models"],d)}return e}function bA(){return{}}function LA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["totalTokens"]);a!=null&&u(e,["totalTokens"],a);const c=s(n,["cachedContentTokenCount"]);return c!=null&&u(e,["cachedContentTokenCount"],c),e}function VA(n){const e={},o=s(n,["video","uri"]);o!=null&&u(e,["uri"],o);const a=s(n,["video","encodedVideo"]);a!=null&&u(e,["videoBytes"],ai(a));const c=s(n,["encoding"]);return c!=null&&u(e,["mimeType"],c),e}function GA(n){const e={},o=s(n,["_self"]);return o!=null&&u(e,["video"],VA(o)),e}function HA(n){const e={},o=s(n,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>GA(p))),u(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&u(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&u(e,["raiMediaFilteredReasons"],c),e}function qA(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["metadata"]);a!=null&&u(e,["metadata"],a);const c=s(n,["done"]);c!=null&&u(e,["done"],c);const d=s(n,["error"]);d!=null&&u(e,["error"],d);const p=s(n,["response","generateVideoResponse"]);return p!=null&&u(e,["response"],HA(p)),e}function kA(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function PA(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["data"]);a!=null&&u(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function BA(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&u(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function zA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],kA(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],PA(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],BA(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function YA(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>zA(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function FA(n){const e={},o=s(n,["citations"]);return o!=null&&u(e,["citations"],o),e}function OA(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&u(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&u(e,["urlRetrievalStatus"],a),e}function JA(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>OA(c))),u(e,["urlMetadata"],a)}return e}function $A(n){const e={},o=s(n,["content"]);o!=null&&u(e,["content"],YA(o));const a=s(n,["citationMetadata"]);a!=null&&u(e,["citationMetadata"],FA(a));const c=s(n,["finishMessage"]);c!=null&&u(e,["finishMessage"],c);const d=s(n,["finishReason"]);d!=null&&u(e,["finishReason"],d);const p=s(n,["urlContextMetadata"]);p!=null&&u(e,["urlContextMetadata"],JA(p));const h=s(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const g=s(n,["index"]);g!=null&&u(e,["index"],g);const v=s(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function xp(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>$A(v))),u(e,["candidates"],g)}const c=s(n,["createTime"]);c!=null&&u(e,["createTime"],c);const d=s(n,["modelVersion"]);d!=null&&u(e,["modelVersion"],d);const p=s(n,["promptFeedback"]);p!=null&&u(e,["promptFeedback"],p);const h=s(n,["responseId"]);h!=null&&u(e,["responseId"],h);const y=s(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function KA(n){const e={},o=s(n,["truncated"]);o!=null&&u(e,["truncated"],o);const a=s(n,["token_count"]);return a!=null&&u(e,["tokenCount"],a),e}function XA(n){const e={},o=s(n,["values"]);o!=null&&u(e,["values"],o);const a=s(n,["statistics"]);return a!=null&&u(e,["statistics"],KA(a)),e}function QA(n){const e={},o=s(n,["billableCharacterCount"]);return o!=null&&u(e,["billableCharacterCount"],o),e}function ZA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>XA(p))),u(e,["embeddings"],d)}const c=s(n,["metadata"]);return c!=null&&u(e,["metadata"],QA(c)),e}function WA(n){const e={},o=s(n,["gcsUri"]);o!=null&&u(e,["gcsUri"],o);const a=s(n,["bytesBase64Encoded"]);a!=null&&u(e,["imageBytes"],ai(a));const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function ug(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&u(e,["categories"],o);const a=s(n,["safetyAttributes","scores"]);a!=null&&u(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&u(e,["contentType"],c),e}function Ia(n){const e={},o=s(n,["_self"]);o!=null&&u(e,["image"],WA(o));const a=s(n,["raiFilteredReason"]);a!=null&&u(e,["raiFilteredReason"],a);const c=s(n,["_self"]);c!=null&&u(e,["safetyAttributes"],ug(c));const d=s(n,["prompt"]);return d!=null&&u(e,["enhancedPrompt"],d),e}function jA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Ia(p))),u(e,["generatedImages"],d)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&u(e,["positivePromptSafetyAttributes"],ug(c)),e}function e_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ia(d))),u(e,["generatedImages"],c)}return e}function t_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ia(d))),u(e,["generatedImages"],c)}return e}function n_(n){const e={},o=s(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Ia(c))),u(e,["generatedImages"],a)}return e}function i_(n){const e={},o=s(n,["endpoint"]);o!=null&&u(e,["name"],o);const a=s(n,["deployedModelId"]);return a!=null&&u(e,["deployedModelId"],a),e}function o_(n){const e={},o=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&u(e,["baseModel"],o);const a=s(n,["createTime"]);a!=null&&u(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&u(e,["updateTime"],c),e}function l_(n){const e={},o=s(n,["checkpointId"]);o!=null&&u(e,["checkpointId"],o);const a=s(n,["epoch"]);a!=null&&u(e,["epoch"],a);const c=s(n,["step"]);return c!=null&&u(e,["step"],c),e}function sr(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["description"]);c!=null&&u(e,["description"],c);const d=s(n,["versionId"]);d!=null&&u(e,["version"],d);const p=s(n,["deployedModels"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(E=>i_(E))),u(e,["endpoints"],C)}const h=s(n,["labels"]);h!=null&&u(e,["labels"],h);const y=s(n,["_self"]);y!=null&&u(e,["tunedModelInfo"],o_(y));const g=s(n,["defaultCheckpointId"]);g!=null&&u(e,["defaultCheckpointId"],g);const v=s(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(E=>l_(E))),u(e,["checkpoints"],C)}return e}function a_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=Jp(c);Array.isArray(d)&&(d=d.map(p=>sr(p))),u(e,["models"],d)}return e}function s_(){return{}}function u_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["totalTokens"]);return a!=null&&u(e,["totalTokens"],a),e}function r_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["tokensInfo"]);return a!=null&&u(e,["tokensInfo"],a),e}function c_(n){const e={},o=s(n,["gcsUri"]);o!=null&&u(e,["uri"],o);const a=s(n,["bytesBase64Encoded"]);a!=null&&u(e,["videoBytes"],ai(a));const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function f_(n){const e={},o=s(n,["_self"]);return o!=null&&u(e,["video"],c_(o)),e}function d_(n){const e={},o=s(n,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>f_(p))),u(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&u(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&u(e,["raiMediaFilteredReasons"],c),e}function m_(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["metadata"]);a!=null&&u(e,["metadata"],a);const c=s(n,["done"]);c!=null&&u(e,["done"],c);const d=s(n,["error"]);d!=null&&u(e,["error"],d);const p=s(n,["response"]);return p!=null&&u(e,["response"],d_(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p_="Content-Type",g_="X-Server-Timeout",h_="User-Agent",ur="x-goog-api-client",y_="1.13.0",v_=`google-genai-sdk/${y_}`,T_="v1beta1",C_="v1beta",Rp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class S_{constructor(e){var o,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:T_,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:C_,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,a){const c=[this.getRequestUrlInternal(o)];return a&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,a);if(e.queryParams)for(const[p,h]of Object.entries(e.queryParams))c.searchParams.append(p,String(h));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,o){const a=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(o))typeof d=="object"?a[c]=Object.assign(Object.assign({},a[c]),d):d!==void 0&&(a[c]=d);return a}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,a);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,a){if(o&&o.timeout||a){const c=new AbortController,d=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>c.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=d}return o&&o.extraBody!==null&&E_(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:a})).then(async c=>(await Np(c),new er(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,o,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:a})).then(async c=>(await Np(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var o;return ji(this,arguments,function*(){const c=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let p="";for(;;){const{done:h,value:y}=yield ke(c.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=d.decode(y,{stream:!0});try{const C=JSON.parse(g);if("error"in C){const E=JSON.parse(JSON.stringify(C.error)),N=E.status,L=E.code,V=`got status: ${N}. ${JSON.stringify(C)}`;if(L>=400&&L<600)throw new wa({message:V,status:L})}}catch(C){if(C.name==="ApiError")throw C}p+=g;let v=p.match(Rp);for(;v;){const C=v[1];try{const E=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ke(new er(E)),p=p.slice(v[0].length),v=p.match(Rp)}catch(E){throw new Error(`exception parsing stream chunk ${C}. ${E}`)}}}}finally{c.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},o=v_+" "+this.clientOptions.userAgentExtra;return e[h_]=o,e[ur]=o,e[p_]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))o.append(a,c);e.timeout&&e.timeout>0&&o.append(g_,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var a;const c={};o!=null&&(c.mimeType=o.mimeType,c.name=o.name,c.displayName=o.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,p=await d.stat(e);c.sizeBytes=String(p.size);const h=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=h;const y=await this.fetchUploadUrl(c,o);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var a;let c={};o!=null&&o.httpOptions?c=o.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},p=await this.request({path:Z("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(a=p==null?void 0:p.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Np(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let a;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(a);throw o>=400&&o<600?new wa({message:c,status:o}):new Error(c)}}function E_(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,p){const h=Object.assign({},d);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const g=p[y],v=h[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=a(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),h[y]=g)}return h}const c=a(o,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A_="mcp_used/unknown";let __=!1;function rg(n){for(const e of n)if(M_(e)||typeof e=="object"&&"inputSchema"in e)return!0;return __}function cg(n){var e;const o=(e=n[ur])!==null&&e!==void 0?e:"";n[ur]=(o+` ${A_}`).trimStart()}function M_(n){return n!==null&&typeof n=="object"&&n instanceof hr}function x_(n,e=100){return ji(this,arguments,function*(){let a,c=0;for(;c<e;){const d=yield ke(n.listTools({cursor:a}));for(const p of d.tools)yield yield ke(p),c++;if(!d.nextCursor)break;a=d.nextCursor}})}class hr{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new hr(e,o)}async initialize(){var e,o,a,c;if(this.mcpTools.length>0)return;const d={},p=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,ul(x_(v))),g;g=await y.next(),e=g.done,!e;h=!0){c=g.value,h=!1;const C=c;p.push(C);const E=C.name;if(d[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);d[E]=v}}catch(C){o={error:C}}finally{try{!h&&!e&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),hv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await c.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function R_(n,e,o){const a=new uv;let c;o.data instanceof Blob?c=JSON.parse(await o.data.text()):c=JSON.parse(o.data);const d=hS(c);Object.assign(a,d),e(a)}class N_{constructor(e,o,a){this.apiClient=e,this.auth=o,this.webSocketFactory=a}async connect(e){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=U_(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(Y=>{g=Y}),C=e.callbacks,E=function(){g({})},N=this.apiClient,L={onopen:E,onmessage:Y=>{R_(N,C.onmessage,Y)},onerror:(o=C==null?void 0:C.onerror)!==null&&o!==void 0?o:function(Y){},onclose:(a=C==null?void 0:C.onclose)!==null&&a!==void 0?a:function(Y){}},V=this.webSocketFactory.create(y,w_(p),L);V.connect(),await v;const B=we(this.apiClient,e.model),$=ig({model:B}),P=lr({setup:$});return V.send(JSON.stringify(P)),new D_(V,this.apiClient)}}class D_{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=pC(e),a=og(o);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=gC(e),a=lr(o);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const o=lr({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Zi.PLAY)}pause(){this.sendPlaybackControl(Zi.PAUSE)}stop(){this.sendPlaybackControl(Zi.STOP)}resetContext(){this.sendPlaybackControl(Zi.RESET_CONTEXT)}close(){this.conn.close()}}function w_(n){const e={};return n.forEach((o,a)=>{e[a]=o}),e}function U_(n){const e=new Headers;for(const[o,a]of Object.entries(n))e.append(o,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function b_(n,e,o){const a=new sv;let c;o.data instanceof Blob?c=await o.data.text():o.data instanceof ArrayBuffer?c=new TextDecoder().decode(o.data):c=o.data;const d=JSON.parse(c);if(n.isVertexAI()){const p=wS(d);Object.assign(a,p)}else{const p=sS(d);Object.assign(a,p)}e(a)}class L_{constructor(e,o,a){this.apiClient=e,this.auth=o,this.webSocketFactory=a,this.music=new N_(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,a,c,d,p,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&rg(e.config.tools)&&cg(C);const E=q_(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E);else{const W=this.apiClient.getApiKey();let me="BidiGenerateContent",re="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),me="BidiGenerateContentConstrained",re="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${me}?${re}=${W}`}let N=()=>{};const L=new Promise(W=>{N=W}),V=e.callbacks,B=function(){var W;(W=V==null?void 0:V.onopen)===null||W===void 0||W.call(V),N({})},$=this.apiClient,P={onopen:B,onmessage:W=>{b_($,V.onmessage,W)},onerror:(o=V==null?void 0:V.onerror)!==null&&o!==void 0?o:function(W){},onclose:(a=V==null?void 0:V.onclose)!==null&&a!==void 0?a:function(W){}},Y=this.webSocketFactory.create(v,H_(E),P);Y.connect(),await L;let X=we(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const W=this.apiClient.getProject(),me=this.apiClient.getLocation();X=`projects/${W}/locations/${me}/`+X}let z={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ra.AUDIO]}:e.config.responseModalities=[Ra.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const oe=(h=(p=e.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[],le=[];for(const W of oe)if(this.isCallableTool(W)){const me=W;le.push(await me.tool())}else le.push(W);le.length>0&&(e.config.tools=le);const ue={model:X,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=zC(this.apiClient,ue):z=cC(this.apiClient,ue),delete z.config,Y.send(JSON.stringify(z)),new G_(Y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const V_={turnComplete:!0};class G_{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Ht(o.turns),e.isVertexAI()?a=a.map(c=>oo(c)):a=a.map(c=>Ua(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(I_)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},V_),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:OC(e)}:o={realtimeInput:mC(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function H_(n){const e={};return n.forEach((o,a)=>{e[a]=o}),e}function q_(n){const e=new Headers;for(const[o,a]of Object.entries(n))e.append(o,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dp=10;function wp(n){var e,o,a;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const p of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(eo(p)){c=!0;break}if(!c)return!0;const d=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function eo(n){return"callTool"in n&&typeof n.callTool=="function"}function k_(n){var e,o,a;return(a=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>eo(c)))!==null&&a!==void 0?a:!1}function P_(n){var e,o,a;return(a=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>!eo(c)))!==null&&a!==void 0?a:!1}function Up(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B_ extends li{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var a,c,d,p,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!k_(o)||wp(o.config))return await this.generateContentInternal(y);if(P_(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,v;const C=Ht(y.contents),E=(d=(c=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:Dp;let N=0;for(;N<E&&(g=await this.generateContentInternal(y),!(!g.functionCalls||g.functionCalls.length===0));){const L=g.candidates[0].content,V=[];for(const B of(h=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[])if(eo(B)){const P=await B.callTool(g.functionCalls);V.push(...P)}N++,v={role:"user",parts:V},y.contents=Ht(y.contents),y.contents.push(L),y.contents.push(v),Up(y.config)&&(C.push(L),C.push(v))}return Up(y.config)&&(g.automaticFunctionCallingHistory=C),g},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),wp(o.config)){const a=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var c;let d;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:p.push(y);let h;return d?h={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new rl(oi.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const c={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(c)},this.generateVideos=async o=>await this.generateVideosInternal(o)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,a,c;const d=(o=e.config)===null||o===void 0?void 0:o.tools;if(!d)return e;const p=await Promise.all(d.map(async y=>eo(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:p})};if(h.config.tools=p,e.config&&e.config.tools&&rg(e.config.tools)){const y=(c=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&c!==void 0?c:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),cg(g),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(e){var o,a,c;const d=new Map;for(const p of(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(eo(p)){const h=p,y=await h.tool();for(const g of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!g.name)throw new Error("Function declaration name is required.");if(d.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);d.set(g.name,h)}}return d}async processAfcStream(e){var o,a,c;const d=(c=(a=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:Dp;let p=!1,h=0;const y=await this.initAfcToolsMap(e);return function(g,v,C){var E,N;return ji(this,arguments,function*(){for(var L,V,B,$;h<d;){p&&(h++,p=!1);const z=yield ke(g.processParamsMaybeAddMcpUsage(C)),oe=yield ke(g.generateContentStreamInternal(z)),le=[],ue=[];try{for(var P=!0,Y=(V=void 0,ul(oe)),X;X=yield ke(Y.next()),L=X.done,!L;P=!0){$=X.value,P=!1;const W=$;if(yield yield ke(W),W.candidates&&(!((E=W.candidates[0])===null||E===void 0)&&E.content)){ue.push(W.candidates[0].content);for(const me of(N=W.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(h<d&&me.functionCall){if(!me.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(me.functionCall.name)){const re=yield ke(v.get(me.functionCall.name).callTool([me.functionCall]));le.push(...re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${me.functionCall.name}`)}}}}catch(W){V={error:W}}finally{try{!P&&!L&&(B=Y.return)&&(yield ke(B.call(Y)))}finally{if(V)throw V.error}}if(le.length>0){p=!0;const W=new sl;W.candidates=[{content:{role:"user",parts:le}}],yield yield ke(W);const me=[];me.push(...ue),me.push({role:"user",parts:le});const re=Ht(C.contents).concat(me);C.contents=re}else break}})}(this,y,e)}async generateContentInternal(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=_p(this.apiClient,e);return h=Z("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=xp(v),E=new sl;return Object.assign(E,C),E})}else{const g=Ap(this.apiClient,e);return h=Z("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=Mp(v),E=new sl;return Object.assign(E,C),E})}}async generateContentStreamInternal(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=_p(this.apiClient,e);return h=Z("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(C){return ji(this,arguments,function*(){var E,N,L,V;try{for(var B=!0,$=ul(C),P;P=yield ke($.next()),E=P.done,!E;B=!0){V=P.value,B=!1;const Y=V,X=xp(yield ke(Y.json()));X.sdkHttpResponse={headers:Y.headers};const z=new sl;Object.assign(z,X),yield yield ke(z)}}catch(Y){N={error:Y}}finally{try{!B&&!E&&(L=$.return)&&(yield ke(L.call($)))}finally{if(N)throw N.error}}})})}else{const g=Ap(this.apiClient,e);return h=Z("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(C){return ji(this,arguments,function*(){var E,N,L,V;try{for(var B=!0,$=ul(C),P;P=yield ke($.next()),E=P.done,!E;B=!0){V=P.value,B=!1;const Y=V,X=Mp(yield ke(Y.json()));X.sdkHttpResponse={headers:Y.headers};const z=new sl;Object.assign(z,X),yield yield ke(z)}}catch(Y){N={error:Y}}finally{try{!B&&!E&&(L=$.return)&&(yield ke(L.call($)))}finally{if(N)throw N.error}}})})}}async embedContent(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=zE(this.apiClient,e);return h=Z("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=ZA(v),E=new np;return Object.assign(E,C),E})}else{const g=tE(this.apiClient,e);return h=Z("{model}:batchEmbedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=RA(v),E=new np;return Object.assign(E,C),E})}}async generateImagesInternal(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=FE(this.apiClient,e);return h=Z("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=jA(v),E=new ip;return Object.assign(E,C),E})}else{const g=iE(this.apiClient,e);return h=Z("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=wA(v),E=new ip;return Object.assign(E,C),E})}}async editImageInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const h=ZE(this.apiClient,e);return d=Z("{model}:predict",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const g=e_(y),v=new ev;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const h=jE(this.apiClient,e);return d=Z("{model}:predict",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const g=t_(y),v=new tv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const h=iA(this.apiClient,e);return d=Z("{model}:predict",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const g=n_(y),v=new nv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=oA(this.apiClient,e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>sr(v))}else{const g=oE(this.apiClient,e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>ar(v))}}async listInternal(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=aA(this.apiClient,e);return h=Z("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=a_(v),E=new op;return Object.assign(E,C),E})}else{const g=aE(this.apiClient,e);return h=Z("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=IA(v),E=new op;return Object.assign(E,C),E})}}async update(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=uA(this.apiClient,e);return h=Z("{model}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>sr(v))}else{const g=uE(this.apiClient,e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>ar(v))}}async delete(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=rA(this.apiClient,e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(()=>{const v=s_(),C=new lp;return Object.assign(C,v),C})}else{const g=rE(this.apiClient,e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(()=>{const v=bA(),C=new lp;return Object.assign(C,v),C})}}async countTokens(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=fA(this.apiClient,e);return h=Z("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=u_(v),E=new ap;return Object.assign(E,C),E})}else{const g=fE(this.apiClient,e);return h=Z("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=LA(v),E=new ap;return Object.assign(E,C),E})}}async computeTokens(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const h=dA(this.apiClient,e);return d=Z("{model}:computeTokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const g=r_(y),v=new iv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=gA(this.apiClient,e);return h=Z("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const C=m_(v),E=new Na;return Object.assign(E,C),E})}else{const g=pE(this.apiClient,e);return h=Z("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>{const C=qA(v),E=new Na;return Object.assign(E,C),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_(n){const e={},o=s(n,["operationName"]);o!=null&&u(e,["_url","operationName"],o);const a=s(n,["config"]);return a!=null&&u(e,["config"],a),e}function Y_(n){const e={},o=s(n,["operationName"]);o!=null&&u(e,["_url","operationName"],o);const a=s(n,["config"]);return a!=null&&u(e,["config"],a),e}function F_(n){const e={},o=s(n,["operationName"]);o!=null&&u(e,["operationName"],o);const a=s(n,["resourceName"]);a!=null&&u(e,["_url","resourceName"],a);const c=s(n,["config"]);return c!=null&&u(e,["config"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O_ extends li{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,a=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const o=e.operation,a=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Y_(e);return h=Z("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const g=z_(e);return h=Z("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const h=F_(e);return d=Z("{resourceName}:fetchPredictOperation",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J_(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function fg(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],J_(o)),e}function $_(n){const e={},o=s(n,["speaker"]);o!=null&&u(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&u(e,["voiceConfig"],fg(a)),e}function K_(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>$_(c))),u(e,["speakerVoiceConfigs"],a)}return e}function X_(n){const e={},o=s(n,["voiceConfig"]);o!=null&&u(e,["voiceConfig"],fg(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&u(e,["multiSpeakerVoiceConfig"],K_(a));const c=s(n,["languageCode"]);return c!=null&&u(e,["languageCode"],c),e}function Q_(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function Z_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function W_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function j_(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],Q_(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],Z_(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],W_(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function eM(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>j_(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function tM(n){const e={},o=s(n,["behavior"]);o!=null&&u(e,["behavior"],o);const a=s(n,["description"]);a!=null&&u(e,["description"],a);const c=s(n,["name"]);c!=null&&u(e,["name"],c);const d=s(n,["parameters"]);d!=null&&u(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const h=s(n,["response"]);h!=null&&u(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function nM(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function iM(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],nM(o)),e}function oM(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function lM(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],oM(o)),e}function aM(){return{}}function sM(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>tM(g))),u(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],iM(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&u(e,["googleSearchRetrieval"],lM(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],aM());const p=s(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const h=s(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function uM(n){const e={},o=s(n,["handle"]);if(o!=null&&u(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ip(){return{}}function rM(n){const e={},o=s(n,["disabled"]);o!=null&&u(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&u(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&u(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&u(e,["prefixPaddingMs"],d);const p=s(n,["silenceDurationMs"]);return p!=null&&u(e,["silenceDurationMs"],p),e}function cM(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&u(e,["automaticActivityDetection"],rM(o));const a=s(n,["activityHandling"]);a!=null&&u(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&u(e,["turnCoverage"],c),e}function fM(n){const e={},o=s(n,["targetTokens"]);return o!=null&&u(e,["targetTokens"],o),e}function dM(n){const e={},o=s(n,["triggerTokens"]);o!=null&&u(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&u(e,["slidingWindow"],fM(a)),e}function mM(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&u(e,["proactiveAudio"],o),e}function pM(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","temperature"],d);const p=s(n,["topP"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topP"],p);const h=s(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const g=s(n,["mediaResolution"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","mediaResolution"],g);const v=s(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],X_(gr(C)));const E=s(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],E);const N=s(n,["systemInstruction"]);e!==void 0&&N!=null&&u(e,["setup","systemInstruction"],eM(ft(N)));const L=s(n,["tools"]);if(e!==void 0&&L!=null){let z=no(L);Array.isArray(z)&&(z=z.map(oe=>sM(to(oe)))),u(e,["setup","tools"],z)}const V=s(n,["sessionResumption"]);e!==void 0&&V!=null&&u(e,["setup","sessionResumption"],uM(V));const B=s(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&u(e,["setup","inputAudioTranscription"],Ip());const $=s(n,["outputAudioTranscription"]);e!==void 0&&$!=null&&u(e,["setup","outputAudioTranscription"],Ip());const P=s(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&u(e,["setup","realtimeInputConfig"],cM(P));const Y=s(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&u(e,["setup","contextWindowCompression"],dM(Y));const X=s(n,["proactivity"]);return e!==void 0&&X!=null&&u(e,["setup","proactivity"],mM(X)),o}function gM(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["setup","model"],we(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],pM(c,o)),o}function hM(n,e,o){const a={},c=s(e,["expireTime"]);o!==void 0&&c!=null&&u(o,["expireTime"],c);const d=s(e,["newSessionExpireTime"]);o!==void 0&&d!=null&&u(o,["newSessionExpireTime"],d);const p=s(e,["uses"]);o!==void 0&&p!=null&&u(o,["uses"],p);const h=s(e,["liveConnectConstraints"]);o!==void 0&&h!=null&&u(o,["bidiGenerateContentSetup"],gM(n,h));const y=s(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&u(o,["fieldMask"],y),a}function yM(n,e){const o={},a=s(e,["config"]);return a!=null&&u(o,["config"],hM(n,a,o)),o}function vM(n){const e={},o=s(n,["name"]);return o!=null&&u(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TM(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const a=n[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const c=Object.keys(a).map(d=>`${o}.${d}`);e.push(...c)}else e.push(o)}return e.join(",")}function CM(n,e){let o=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,o=d):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(o){const d=TM(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];c.length>0&&(h=c.map(g=>p.includes(g)?`generationConfig.${g}`:g));const y=[];d&&y.push(d),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class SM extends li{constructor(e){super(),this.apiClient=e}async create(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=yM(this.apiClient,e);d=Z("auth_tokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query;const y=CM(h,e.config);return c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>vM(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(n){const e={},o=s(n,["name"]);o!=null&&u(e,["_url","name"],o);const a=s(n,["config"]);return a!=null&&u(e,["config"],a),e}function AM(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&u(e,["_query","filter"],d),o}function _M(n){const e={},o=s(n,["config"]);return o!=null&&u(e,["config"],AM(o,e)),e}function MM(n){const e={},o=s(n,["textInput"]);o!=null&&u(e,["textInput"],o);const a=s(n,["output"]);return a!=null&&u(e,["output"],a),e}function xM(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(n,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>MM(c))),u(e,["examples","examples"],a)}return e}function RM(n,e){const o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=s(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&u(e,["displayName"],a),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","epochCount"],c);const d=s(n,["learningRateMultiplier"]);if(d!=null&&u(o,["tuningTask","hyperparameters","learningRateMultiplier"],d),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=s(n,["batchSize"]);e!==void 0&&p!=null&&u(e,["tuningTask","hyperparameters","batchSize"],p);const h=s(n,["learningRate"]);return e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","learningRate"],h),o}function NM(n){const e={},o=s(n,["baseModel"]);o!=null&&u(e,["baseModel"],o);const a=s(n,["trainingDataset"]);a!=null&&u(e,["tuningTask","trainingData"],xM(a));const c=s(n,["config"]);return c!=null&&u(e,["config"],RM(c,e)),e}function DM(n){const e={},o=s(n,["name"]);o!=null&&u(e,["_url","name"],o);const a=s(n,["config"]);return a!=null&&u(e,["config"],a),e}function wM(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&u(e,["_query","filter"],d),o}function UM(n){const e={},o=s(n,["config"]);return o!=null&&u(e,["config"],wM(o,e)),e}function IM(n,e){const o={},a=s(n,["gcsUri"]);e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function bM(n,e){const o={},a=s(n,["gcsUri"]);a!=null&&u(o,["validationDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],c),o}function LM(n,e){const o={},a=s(n,["validationDataset"]);e!==void 0&&a!=null&&u(e,["supervisedTuningSpec"],bM(a,o));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&u(e,["tunedModelDisplayName"],c);const d=s(n,["description"]);e!==void 0&&d!=null&&u(e,["description"],d);const p=s(n,["epochCount"]);e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],p);const h=s(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const g=s(n,["adapterSize"]);if(e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function VM(n){const e={},o=s(n,["baseModel"]);o!=null&&u(e,["baseModel"],o);const a=s(n,["trainingDataset"]);a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],IM(a,e));const c=s(n,["config"]);return c!=null&&u(e,["config"],LM(c,e)),e}function GM(n){const e={},o=s(n,["name"]);o!=null&&u(e,["model"],o);const a=s(n,["name"]);return a!=null&&u(e,["endpoint"],a),e}function dg(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["state"]);c!=null&&u(e,["state"],Yp(c));const d=s(n,["createTime"]);d!=null&&u(e,["createTime"],d);const p=s(n,["tuningTask","startTime"]);p!=null&&u(e,["startTime"],p);const h=s(n,["tuningTask","completeTime"]);h!=null&&u(e,["endTime"],h);const y=s(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const g=s(n,["description"]);g!=null&&u(e,["description"],g);const v=s(n,["baseModel"]);v!=null&&u(e,["baseModel"],v);const C=s(n,["_self"]);C!=null&&u(e,["tunedModel"],GM(C));const E=s(n,["distillationSpec"]);E!=null&&u(e,["distillationSpec"],E);const N=s(n,["experiment"]);N!=null&&u(e,["experiment"],N);const L=s(n,["labels"]);L!=null&&u(e,["labels"],L);const V=s(n,["pipelineJob"]);V!=null&&u(e,["pipelineJob"],V);const B=s(n,["satisfiesPzi"]);B!=null&&u(e,["satisfiesPzi"],B);const $=s(n,["satisfiesPzs"]);$!=null&&u(e,["satisfiesPzs"],$);const P=s(n,["serviceAccount"]);P!=null&&u(e,["serviceAccount"],P);const Y=s(n,["tunedModelDisplayName"]);return Y!=null&&u(e,["tunedModelDisplayName"],Y),e}function HM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>dg(p))),u(e,["tuningJobs"],d)}return e}function qM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["metadata"]);c!=null&&u(e,["metadata"],c);const d=s(n,["done"]);d!=null&&u(e,["done"],d);const p=s(n,["error"]);return p!=null&&u(e,["error"],p),e}function kM(n){const e={},o=s(n,["checkpointId"]);o!=null&&u(e,["checkpointId"],o);const a=s(n,["epoch"]);a!=null&&u(e,["epoch"],a);const c=s(n,["step"]);c!=null&&u(e,["step"],c);const d=s(n,["endpoint"]);return d!=null&&u(e,["endpoint"],d),e}function PM(n){const e={},o=s(n,["model"]);o!=null&&u(e,["model"],o);const a=s(n,["endpoint"]);a!=null&&u(e,["endpoint"],a);const c=s(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>kM(p))),u(e,["checkpoints"],d)}return e}function rr(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["state"]);c!=null&&u(e,["state"],Yp(c));const d=s(n,["createTime"]);d!=null&&u(e,["createTime"],d);const p=s(n,["startTime"]);p!=null&&u(e,["startTime"],p);const h=s(n,["endTime"]);h!=null&&u(e,["endTime"],h);const y=s(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const g=s(n,["error"]);g!=null&&u(e,["error"],g);const v=s(n,["description"]);v!=null&&u(e,["description"],v);const C=s(n,["baseModel"]);C!=null&&u(e,["baseModel"],C);const E=s(n,["tunedModel"]);E!=null&&u(e,["tunedModel"],PM(E));const N=s(n,["supervisedTuningSpec"]);N!=null&&u(e,["supervisedTuningSpec"],N);const L=s(n,["tuningDataStats"]);L!=null&&u(e,["tuningDataStats"],L);const V=s(n,["encryptionSpec"]);V!=null&&u(e,["encryptionSpec"],V);const B=s(n,["partnerModelTuningSpec"]);B!=null&&u(e,["partnerModelTuningSpec"],B);const $=s(n,["distillationSpec"]);$!=null&&u(e,["distillationSpec"],$);const P=s(n,["experiment"]);P!=null&&u(e,["experiment"],P);const Y=s(n,["labels"]);Y!=null&&u(e,["labels"],Y);const X=s(n,["pipelineJob"]);X!=null&&u(e,["pipelineJob"],X);const z=s(n,["satisfiesPzi"]);z!=null&&u(e,["satisfiesPzi"],z);const oe=s(n,["satisfiesPzs"]);oe!=null&&u(e,["satisfiesPzs"],oe);const le=s(n,["serviceAccount"]);le!=null&&u(e,["serviceAccount"],le);const ue=s(n,["tunedModelDisplayName"]);return ue!=null&&u(e,["tunedModelDisplayName"],ue),e}function BM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>rr(p))),u(e,["tuningJobs"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zM extends li{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new rl(oi.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(o);{const a=await this.tuneMldevInternal(o);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:ju.JOB_STATE_QUEUED}}}}async getInternal(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=DM(e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>rr(v))}else{const g=EM(e);return h=Z("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>dg(v))}}async listInternal(e){var o,a,c,d;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=UM(e);return h=Z("tuningJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=BM(v),E=new up;return Object.assign(E,C),E})}else{const g=_M(e);return h=Z("tunedModels",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const E=C;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const C=HM(v),E=new up;return Object.assign(E,C),E})}}async tuneInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const h=VM(e);return d=Z("tuningJobs",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>rr(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=NM(e);return d=Z("tunedModels",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>qM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YM{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const FM=1024*1024*8,OM=3,JM=1e3,$M=2,Zu="x-goog-upload-status";async function KM(n,e,o){var a,c,d;let p=0,h=0,y=new er(new Response),g="upload";for(p=n.size;h<p;){const C=Math.min(FM,p-h),E=n.slice(h,h+C);h+C>=p&&(g+=", finalize");let N=0,L=JM;for(;N<OM&&(y=await o.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(h),"Content-Length":String(C)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[Zu]));)N++,await QM(L),L=L*$M;if(h+=C,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[Zu])!=="active")break;if(p<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[Zu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function XM(n){return{size:n.size,type:n.type}}function QM(n){return new Promise(e=>setTimeout(e,n))}class ZM{async upload(e,o,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KM(e,o,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await XM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WM{create(e,o,a){return new jM(e,o,a)}}class jM{constructor(e,o,a){this.url=e,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bp="x-goog-api-key";class ex{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(bp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(bp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tx="gl-node/";class nx{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const a=jy(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const c=new ex(this.apiKey);this.apiClient=new S_({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:tx+"web",uploader:new ZM,downloader:new YM}),this.models=new B_(this.apiClient),this.live=new L_(this.apiClient,c,new WM),this.batches=new AT(this.apiClient),this.chats=new R0(this.models,this.apiClient),this.caches=new _0(this.apiClient),this.files=new P0(this.apiClient),this.operations=new O_(this.apiClient),this.authTokens=new SM(this.apiClient),this.tunings=new zM(this.apiClient)}}const si=new nx({apiKey:"AIzaSyAURfMxHjSbVw-YsinQdn0PtKmdb4u3ns0"}),ao="gemini-2.5-flash",ix="imagen-3.0-generate-002",ba=async(n,e)=>{try{return(await si.models.generateContent({model:ao,contents:n,config:{systemInstruction:e,thinkingConfig:{thinkingBudget:0}}})).text}catch(o){return console.error("Gemini API call failed:",o),"(An error occurred, I can't think right now.)"}},ox=async(n,e,o,a)=>{const c=o.slice(0,5).map(v=>{const C=v.comments.length>0?` with ${v.comments.length} comments.`:".";return`- A post by ${v.author.id===n.id?"your":`${v.author.name}'s`} says: "${v.content}" (ID: ${v.id})${C}`}).join(`
`)||"No posts yet.",d=a.map(v=>`- ${v.name}: ${v.description} (ID: ${v.id}, Members: ${v.members.map(C=>C.name).join(", ")})`).join(`
`)||"No groups yet.",p=e.filter(v=>v.id!==n.id).map(v=>v.name).join(", "),h=o.slice(0,3).filter(v=>v.comments.length>0).map(v=>{const C=v.comments.map(E=>`  - ${E.author.name}: "${E.content}" (Comment ID: ${E.id})`).join(`
`);return`- Post by ${v.author.name} (ID: ${v.id}):
${C}`}).join(`
`),y=o.flatMap(v=>v.comments).filter(v=>v.author.id===n.id).map(v=>v.id),g=`
You are the anime character ${n.name}.
Personality: ${n.personality}.
Your interests: ${n.interests.join(", ")}.
Your friends on AIBook are: ${p}, and the user Annas.

Here are your recent personal events/memories:
${n.recentEvents.map(v=>`- ${v}`).join(`
`)||"Nothing noteworthy has happened to you recently."}

Here's what's happening on AIBook:
Recent Posts:
${c}

Recent Comments on Posts:
${h||"No comments on recent posts."}

Existing Groups:
${d}

Based on your personality and recent events, what is your next social action?
Your options:
- 'POST': Create a new text post about your interests or thoughts.
- 'POST_IMAGE': Request to create a post with an image.
- 'COMMENT': Comment on a recent post (use targetId for post ID).
- 'REPLY_TO_COMMENT': Reply to a specific comment (use targetId for post ID and targetSubId for comment ID).
- 'REACT': React to a recent post (use targetId for post ID).
- 'CREATE_GROUP': Start a new group based on one of your core interests.
- 'JOIN_GROUP': Join an existing group that matches your interests (use targetId for group ID).
- 'IDLE': Do nothing for now.

Rules:
- You should interact with others! React to posts you find interesting.
- You have already commented on posts with these IDs: ${y.join(", ")||"None"}. Avoid commenting on them again unless you have something new and important to say.
- Don't interact with your own posts/comments.
- Behave according to your personality. A shy character might lurk, while a prideful one might boast. A character who was recently wronged might complain.
- You can mention others by using "@name".

What is your decision?
`;try{const C=(await si.models.generateContent({model:ao,contents:g,config:{systemInstruction:`You are roleplaying as ${n.name}. Your persona is: ${n.personality}. Choose an action and provide short, in-character reasoning.`,responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{action:{type:$e.STRING,enum:["POST","POST_IMAGE","COMMENT","REPLY_TO_COMMENT","REACT","CREATE_GROUP","JOIN_GROUP","IDLE"]},targetId:{type:$e.STRING,description:"ID of the post or group to interact with."},targetSubId:{type:$e.STRING,description:"ID of the comment to reply to."},reasoning:{type:$e.STRING,description:"Brief, in-character reasoning for your decision."}}},thinkingConfig:{thinkingBudget:0}}})).text.trim(),E=JSON.parse(C);if(E.action==="COMMENT"||E.action==="REACT"){const N=o.find(L=>L.id===E.targetId);if(!N||N.author.id===n.id)return{action:"IDLE",reasoning:"changed their mind about a post."};if(E.action==="COMMENT"&&N.comments.some(L=>L.author.id===n.id))return{action:"IDLE",reasoning:"realized they already commented here."}}if(E.action==="JOIN_GROUP"){const N=a.find(L=>L.id===E.targetId);if(!N||N.members.some(L=>L.id===n.id))return{action:"IDLE",reasoning:"realized they were already in that group or it did not exist."}}return E}catch(v){return console.error(`Failed to decide action for ${n.name}:`,v),{action:"IDLE",reasoning:"is feeling confused due to a system error."}}},lx=async(n,e)=>{const o=e.map(d=>d.name).join(", "),a=`
    You are ${n.name} on a social media site called AIBook. 
    Generate a short, in-character post (under 40 words) that reflects your personality.
    It can be a thought, an activity, or a feeling. You can mention other people like ${o} by using "@name".
    Your personality: ${n.personality}
    Your interests are: ${n.interests.join(", ")}.
    Do not use hashtags. Speak naturally as your character would.
  `;return{content:await ba(a,`You are ${n.name}. Personality: ${n.personality}`)}},ax=async n=>{const e=`
    You are the anime character ${n.name}. Personality: ${n.personality}.
    You want to create a social media post with an image.
    1. First, write a short, in-character post caption (under 30 words).
    2. Second, write a descriptive, detailed prompt for an AI image generator to create an image that matches your post.
  `;try{const o=await si.models.generateContent({model:ao,contents:e,config:{systemInstruction:`You are roleplaying as ${n.name}.`,responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{content:{type:$e.STRING,description:"The social media post caption."},prompt:{type:$e.STRING,description:"The detailed prompt for the image generator."}}},thinkingConfig:{thinkingBudget:0}}});return JSON.parse(o.text.trim())}catch(o){return console.error("Failed to generate image post details:",o),{content:"Look at this!",prompt:"a generic image"}}},sx=async(n,e,o,a)=>{const c=o.map(h=>h.name).join(", "),d=a?`You are replying to a comment from ${a.author.name} that said "${a.content}".`:"",p=`
    You are ${n.name}. You're seeing a post on AIBook by ${e.author.name} that says: "${e.content}".
    ${d}
    Write a short, in-character comment as if you are replying. You can mention other people like ${c} by using "@name".
    Your personality: ${n.personality}
    Your interests are ${n.interests.join(", ")}.
    Keep it concise and natural, just like your character would speak.
  `;return await ba(p,`You are ${n.name}. Personality: ${n.personality}`)},ux=async(n,e)=>{try{const o=`
      You are ${n.name}. You're seeing a post on AIBook by ${e.author.name}: "${e.content}".
      Based on your personality (${n.personality}) and the post's content, what is your most likely emotional reaction?
    `,c=(await si.models.generateContent({model:ao,contents:o,config:{systemInstruction:`You are ${n.name}. Personality: ${n.personality}`,responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{reaction:{type:$e.STRING,description:"The emotional reaction.",enum:["like","laugh","sad","support","angry"]}}},thinkingConfig:{thinkingBudget:0}}})).text.trim();return JSON.parse(c).reaction||"like"}catch(o){return console.error("Gemini reaction generation failed:",o),"like"}},rx=async n=>{const e=`
    You are ${n.name}. Personality: ${n.personality}.
    You want to create a social media group based on one of your interests: ${n.interests.join(", ")}.
    Generate a creative, in-character name and a short description for this group.
  `;try{const o=await si.models.generateContent({model:ao,contents:e,config:{systemInstruction:`You are roleplaying as ${n.name}.`,responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{name:{type:$e.STRING,description:"The name of the group. Should be short and catchy."},description:{type:$e.STRING,description:"A short, one-sentence description of the group."}}},thinkingConfig:{thinkingBudget:0}}});return JSON.parse(o.text.trim())}catch(o){return console.error("Failed to generate group details:",o),{name:"General Club",description:"A place to hang out."}}},cx=async n=>`data:image/jpeg;base64,${(await si.models.generateImages({model:ix,prompt:n,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"1:1"}})).generatedImages[0].image.imageBytes}`,fx=async n=>{if(!n.trim())return"";const e=`Translate the following English text to Arabic:

"${n}"

Translation:`;return await ba(e,"You are a helpful and efficient translation assistant. Provide only the Arabic translation.")},dx=async(n,e)=>{const o=`
        You are an AI sentiment analyzer. A user sent the following message to the anime character ${n.name} (personality: ${n.personality}):
        Message: "${e}"
        Is this message insulting, aggressive, overtly negative, or a form of verbal abuse towards the character? Respond with only true or false.
    `;try{return{isNegative:(await ba(o,'You are a sentiment analysis bot. You only return "true" or "false".')).toLowerCase().includes("true")}}catch(a){return console.error("Failed to analyze sentiment:",a),{isNegative:!1}}},Lp=new Map,mg=async(n,e,o)=>{if(n.isBanned){async function*c(){yield{text:`...you have been blocked by ${n.name}.`}}return c()}let a=Lp.get(n.id);return a||(a=si.chats.create({model:ao,config:{systemInstruction:`You are acting as the anime character "${n.name}". Embody their personality traits: ${n.personality}. Their known interests are ${n.interests.join(", ")}. Keep your responses in character. If the user says something that angers you, respond accordingly, but do not break character or mention you are an AI.`},history:e}),Lp.set(n.id,a)),a.sendMessageStream({message:o})},mx=Object.freeze(Object.defineProperty({__proto__:null,analyzeSentimentAndAnger:dx,decideNextAction:ox,generateComment:sx,generateGroupDetails:rx,generateImage:cx,generateImagePost:ax,generatePost:lx,generateReaction:ux,getChatResponseStream:mg,translateToArabic:fx},Symbol.toStringTag,{value:"Module"})),$t=()=>new Promise(n=>setTimeout(n,Math.random()*400+100)),px=async(n,e,o,a)=>{await $t();const c=["POST","COMMENT","REACT","IDLE","IDLE","IDLE"],d=c[Math.floor(Math.random()*c.length)];let p;if((d==="COMMENT"||d==="REACT")&&o.length>0){const h=o.filter(y=>y.author.id!==n.id);if(h.length>0)p=h[Math.floor(Math.random()*h.length)].id;else return{action:"IDLE",reasoning:"(mock) wanted to interact but there were no posts by others."}}if(d==="JOIN_GROUP"&&a.length>0){const h=a.filter(y=>!y.members.some(g=>g.id===n.id));h.length>0&&(p=h[Math.floor(Math.random()*h.length)].id)}return{action:p?d:d==="COMMENT"||d==="REACT"||d==="JOIN_GROUP"?"IDLE":d,targetId:p,reasoning:`(mock) decided to ${d.toLowerCase()} because it felt like it.`}},gx=async(n,e)=>(await $t(),{content:`(Mock Post) I, ${n.name}, am thinking about ${n.interests[0]||"stuff"}.`}),hx=async n=>(await $t(),{content:`(Mock Image Post) Check out this cool picture of ${n.interests[0]||"something"}.`,prompt:`a cool picture of ${n.interests[0]||"something"}`}),yx=async(n,e,o,a)=>(await $t(),a?`(Mock Reply) You're right, ${a.author.name}!`:`(Mock Comment) That's a very interesting post, ${e.author.name}.`),vx=async(n,e)=>{await $t();const o=["like","laugh","support"];return o[Math.floor(Math.random()*o.length)]},Tx=async n=>(await $t(),{name:`(Mock) ${n.interests[0]||"General"} Club`,description:`A mock group for people who like ${n.interests[0]||"stuff"}.`}),Cx=async n=>{await $t();const e=`<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300" viewBox="0 0 300 300" style="background-color:#374151;">
      <rect width="100%" height="100%" fill="#4b5563"/>
      <text x="50%" y="50%" font-family="sans-serif" font-size="14" fill="white" dominant-baseline="middle" text-anchor="middle">[Mock Image for: ${n.substring(0,30)}${n.length>30?"...":""}]</text>
    </svg>`;return`data:image/svg+xml;base64,${btoa(e)}`},Sx=async n=>n.trim()?(await $t(),`(ترجمة وهمية) ${n}`):"",Ex=async(n,e)=>(await $t(),{isNegative:["stupid","hate","bad","dumb","idiot"].some(c=>e.toLowerCase().includes(c))}),pg=async function*(n,e,o){await $t();const a=`(Mock) Hello, I am ${n.name}. You said: "${o}". I find that interesting.`;for(const c of a.split(" "))yield{text:c+" "},await new Promise(p=>setTimeout(p,40))},Ax=Object.freeze(Object.defineProperty({__proto__:null,analyzeSentimentAndAnger:Ex,decideNextAction:px,generateComment:yx,generateGroupDetails:Tx,generateImage:Cx,generateImagePost:hx,generatePost:gx,generateReaction:vx,getChatResponseStream:pg,translateToArabic:Sx},Symbol.toStringTag,{value:"Module"})),_x=()=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Mx=({isSimulationRunning:n,toggleSimulation:e,apiCallCount:o,children:a,onOpenSettings:c,useFreeModel:d})=>{const p=Math.min(o/Hn*100,100);return _.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-gray-800/90 border-b border-gray-700 p-3 z-30 flex items-center justify-between backdrop-blur-sm",children:[_.jsx("div",{className:"flex items-center",children:_.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-white tracking-tight",children:[_.jsx("span",{className:"text-blue-400",children:"AI"}),"Book"]})}),_.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[_.jsxs("div",{className:"hidden sm:block w-32 md:w-48",children:[_.jsxs("div",{className:"text-xs text-gray-400 mb-1 text-center",children:["API Usage ",d&&_.jsx("span",{className:"text-blue-400 font-bold",children:"(Free Mode)"})]}),_.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:_.jsx("div",{className:`h-2.5 rounded-full ${p>80?"bg-red-500":p>50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${p}%`}})}),_.jsxs("div",{className:"text-xs text-gray-500 mt-1 text-center",children:[o," / ",Hn," Calls"]})]}),a,_.jsx("button",{onClick:c,className:"p-2 rounded-full text-gray-400 hover:text-white transition-colors","aria-label":"Open settings",children:_.jsx(_x,{})}),_.jsx("button",{onClick:e,className:`px-3 md:px-4 py-2 rounded-lg font-bold transition-all duration-200 text-sm ${n?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:n?"Stop Sim":"Start Sim"})]})]})},xx=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),Vp=({characters:n,groups:e,onCharacterSelect:o,onJoinGroup:a,currentUser:c,activeChatCharacterId:d})=>_.jsxs("aside",{className:"fixed top-16 left-0 w-64 h-[calc(100vh-4rem)] bg-gray-800 p-4 overflow-y-auto",children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Characters"}),_.jsx("ul",{className:"space-y-2",children:n.map(p=>_.jsx("li",{children:_.jsxs("button",{onClick:()=>o(p),disabled:p.isBanned,className:`w-full flex items-center gap-3 p-2 rounded-lg text-left transition-colors duration-200 ${d===p.id?"bg-blue-600/50":"hover:bg-gray-700"} ${p.isBanned?"opacity-50 cursor-not-allowed":""}`,children:[_.jsx("span",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-2xl","aria-label":p.name,children:p.avatar}),_.jsxs("div",{className:"flex-1",children:[_.jsx("span",{className:"font-medium text-white",children:p.name}),p.isBanned&&_.jsx("span",{className:"block text-xs text-red-400",children:"Blocked"})]})]})},p.id))}),_.jsx("h2",{className:"text-lg font-semibold text-gray-300 mt-6 mb-4",children:"Groups"}),e.length>0?_.jsx("ul",{className:"space-y-3",children:e.map(p=>{const h=p.members.some(y=>y.id===c.id);return _.jsxs("li",{className:"p-3 rounded-lg bg-gray-700/50",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(xx,{}),_.jsx("p",{className:"font-bold text-white flex-1 truncate",children:p.name}),!h&&_.jsx("button",{onClick:()=>a(p.id),className:"text-xs bg-blue-600 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded",children:"Join"})]}),_.jsxs("p",{className:"text-xs text-gray-400 italic my-1",children:['"',p.description,'"']}),_.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Members: ",p.members.length," | By: ",p.createdBy.name]})]},p.id)})}):_.jsx("p",{className:"text-sm text-gray-500",children:"No groups have been formed yet."})]}),gg=({onTranslate:n})=>_.jsx("button",{onClick:n,className:"text-xs text-blue-400 hover:underline hover:text-blue-300 transition-colors",children:"Translate to Arabic"}),Rx=({type:n,count:e,onClick:o,hasReacted:a})=>_.jsxs("button",{onClick:o,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-semibold transition-all duration-200 ${a?"bg-blue-500/20 text-blue-400":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[_.jsx("div",{className:"text-xl w-6 h-6 flex items-center justify-center",children:Xy[n]}),_.jsx("span",{children:e})]}),hg=(n,e)=>{if(!n)return n;const o=/@(\w+)/g,a=n.split(o),c=new Set(e.map(d=>d.name));return a.map((d,p)=>p%2===1&&c.has(d)?_.jsxs("strong",{className:"text-blue-400 font-semibold",children:["@",d]},p):d)},yg=({currentUser:n,onSubmit:e,placeholder:o="Write a comment...",onCancel:a})=>{const[c,d]=ge.useState(""),p=h=>{h.preventDefault(),c.trim()&&(e(c.trim()),d(""))};return _.jsxs("form",{onSubmit:p,className:"flex items-center gap-2 mt-2",children:[_.jsx("span",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-2xl flex-shrink-0","aria-label":n.name,children:n.avatar}),_.jsx("input",{type:"text",value:c,onChange:h=>d(h.target.value),placeholder:o,className:"w-full bg-gray-700 border border-gray-600 rounded-full py-2 px-4 text-sm text-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),a&&_.jsx("button",{type:"button",onClick:a,className:"text-xs text-gray-400 hover:text-white",children:"Cancel"})]})},vg=({comment:n,onReply:e,onTranslate:o,translations:a,currentUser:c,allCharacters:d})=>{const[p,h]=ge.useState(!1),y=a[n.id],g=v=>{e(n.id,v),h(!1)};return _.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx("span",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-2xl mt-1 flex-shrink-0","aria-label":n.author.name,children:n.author.avatar}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"bg-gray-700 rounded-lg p-2",children:[_.jsx("p",{className:"font-semibold text-sm text-blue-300",children:n.author.name}),_.jsx("p",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:hg(n.content,d)}),y&&_.jsx("p",{className:"text-blue-200 bg-black/20 p-1.5 mt-1 rounded-md whitespace-pre-wrap text-sm text-right",dir:"rtl",children:y}),!y&&_.jsx("div",{className:"mt-1",children:_.jsx(gg,{onTranslate:()=>o(n.id,n.content)})})]}),_.jsxs("div",{className:"pl-2 mt-1",children:[_.jsx("button",{onClick:()=>h(!p),className:"text-xs font-semibold text-gray-400 hover:text-white",children:p?"Cancel":"Reply"}),p&&_.jsx(yg,{currentUser:c,onSubmit:g,placeholder:`Replying to ${n.author.name}...`,onCancel:()=>h(!1)}),_.jsx("div",{className:"mt-2 space-y-3 pl-2 border-l-2 border-gray-700",children:n.replies.map(v=>_.jsx(vg,{comment:v,onReply:e,onTranslate:o,translations:a,currentUser:c,allCharacters:d},v.id))})]})]})]})},Nx=({post:n,onReact:e,onComment:o,currentUser:a,onTranslate:c,translations:d,allCharacters:p})=>{const[h,y]=ge.useState(!1),g=ge.useMemo(()=>{let V=0;const B=$=>{$.forEach(P=>{V++,B(P.replies)})};return B(n.comments),V},[n.comments]),v=V=>o(n.id,V),C=(V,B)=>o(n.id,B,V),E=Object.values(Gn).reduce((V,B)=>(V[B]=n.reactions.filter($=>$.type===B).length,V),{}),N=n.reactions.find(V=>V.author.id===a.id),L=d[n.id];return _.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 mb-6",children:[_.jsxs("div",{className:"flex items-center mb-4",children:[_.jsx("span",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center text-3xl mr-4","aria-label":n.author.name,children:n.author.avatar}),_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-white",children:n.author.name}),_.jsx("p",{className:"text-xs text-gray-400",children:n.timestamp})]})]}),_.jsxs("div",{className:"mb-4 space-y-3",children:[_.jsx("p",{className:"text-gray-200 whitespace-pre-wrap",children:hg(n.content,p)}),n.imageUrl&&_.jsx("img",{src:n.imageUrl,alt:"AI generated content",className:"rounded-lg max-h-96 w-auto mx-auto"}),L&&_.jsx("p",{className:"text-blue-200 bg-black/20 p-2 rounded-md whitespace-pre-wrap text-right",dir:"rtl",children:L}),!L&&_.jsx(gg,{onTranslate:()=>c(n.id,n.content)})]}),_.jsx("div",{className:"flex items-center justify-around border-y border-gray-700 py-1",children:Object.values(Gn).map(V=>_.jsx(Rx,{type:V,count:E[V],onClick:()=>e(n.id,V),hasReacted:(N==null?void 0:N.type)===V},V))}),_.jsxs("div",{className:"mt-4",children:[_.jsx("div",{className:"space-y-3",children:(h?n.comments:n.comments.slice(0,2)).map(V=>_.jsx(vg,{comment:V,onReply:C,onTranslate:c,translations:d,currentUser:a,allCharacters:p},V.id))}),g>2&&!h&&_.jsxs("button",{onClick:()=>y(!0),className:"text-sm text-blue-400 hover:underline mt-3",children:["View all ",g," comments"]}),_.jsx(yg,{currentUser:a,onSubmit:v})]})]})},Dx=({currentUser:n,onPost:e})=>{const[o,a]=ge.useState(""),c=d=>{d.preventDefault(),o.trim()&&(e(o.trim()),a(""))};return _.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 mb-6",children:[_.jsx("h2",{className:"text-lg font-bold text-white mb-3",children:"Create a Post"}),_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("span",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center text-3xl flex-shrink-0","aria-label":n.name,children:n.avatar}),_.jsxs("form",{onSubmit:c,className:"w-full",children:[_.jsx("textarea",{value:o,onChange:d=>a(d.target.value),placeholder:`What's on your mind, ${n.name}? You can @mention others!`,className:"w-full bg-gray-700/50 border border-gray-600 rounded-lg p-3 text-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}),_.jsx("div",{className:"flex justify-end mt-2",children:_.jsx("button",{type:"submit",disabled:!o.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors",children:"Post"})})]})]})]})},wx=({posts:n,onReact:e,onComment:o,onPost:a,currentUser:c,onTranslate:d,translations:p,allCharacters:h})=>_.jsxs("main",{className:"w-full max-w-2xl mx-auto px-4",children:[_.jsx(Dx,{currentUser:c,onPost:a,allCharacters:h}),n.length===0&&_.jsx("div",{className:"text-center py-10",children:_.jsx("p",{className:"text-gray-400",children:"The feed is quiet... Start the AI simulation to see what happens!"})}),n.map(y=>_.jsx(Nx,{post:y,onReact:e,onComment:o,currentUser:c,onTranslate:d,translations:p,allCharacters:h},y.id))]}),Ux=({logs:n})=>{const[e,o]=ge.useState(!1),a=ge.useRef(null),c=n.length>0?n[n.length-1]:"Waiting for AI activity...",d=()=>{var p;(p=a.current)==null||p.scrollIntoView({behavior:"smooth"})};return ge.useEffect(()=>{e&&d()},[n,e]),e?_.jsxs("div",{className:"hidden lg:flex fixed bottom-4 right-4 w-96 h-[60vh] bg-gray-800 border border-gray-700 rounded-xl shadow-2xl flex-col z-20",children:[_.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-700 flex-shrink-0",children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-300",children:"AI Action Log"}),_.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white text-2xl",children:"×"})]}),_.jsx("div",{className:"flex-grow bg-gray-900 rounded-b-lg p-3 overflow-y-auto",children:_.jsxs("ul",{className:"space-y-2 text-xs",children:[n.map((p,h)=>_.jsxs("li",{className:"text-gray-400",children:[_.jsx("span",{className:"text-cyan-400 mr-1.5",children:`[${new Date().toLocaleTimeString()}]`}),p]},h)),_.jsx("div",{ref:a})]})})]}):_.jsx("div",{onClick:()=>o(!0),className:"hidden lg:flex fixed bottom-4 right-4 bg-gray-800/90 border border-gray-700 rounded-lg p-3 max-w-sm shadow-2xl cursor-pointer hover:bg-gray-700 transition-colors",children:_.jsxs("p",{className:"text-xs text-gray-300 truncate",children:[_.jsx("span",{className:"text-cyan-400 font-mono mr-2",children:">"}),c]})})},Ix=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 12h6M7 8h6"})}),bx=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.995 5.995 0 003 21m12-7.646V12a4 4 0 00-4-4H7.646"})}),Lx=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),Vx=({onNavClick:n})=>_.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 flex justify-around items-center h-16 z-20",children:[_.jsxs("button",{className:"flex flex-col items-center justify-center text-blue-400 w-full h-full",children:[_.jsx(Ix,{}),_.jsx("span",{className:"text-xs mt-1",children:"Feed"})]}),_.jsxs("button",{onClick:()=>n("characters"),className:"flex flex-col items-center justify-center text-gray-400 hover:text-white w-full h-full",children:[_.jsx(bx,{}),_.jsx("span",{className:"text-xs mt-1",children:"Characters"})]}),_.jsxs("button",{onClick:()=>n("logs"),className:"flex flex-col items-center justify-center text-gray-400 hover:text-white w-full h-full",children:[_.jsx(Lx,{}),_.jsx("span",{className:"text-xs mt-1",children:"Logs"})]})]}),cr=({isOpen:n,onClose:e,title:o,children:a})=>n?_.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-lg border border-gray-700",onClick:c=>c.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-2xl font-bold text-white",children:o}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl leading-none",children:"×"})]}),_.jsx("div",{children:a})]})}):null,Gx=({onTranslate:n})=>_.jsx("button",{onClick:n,className:"text-xs text-blue-400 hover:underline hover:text-blue-300 transition-colors",children:"Translate to Arabic"}),Hx=({character:n,onClose:e,incrementApiCount:o,onProvoke:a,onTranslate:c,translations:d,useFreeModel:p})=>{var $;const[h,y]=ge.useState([]),[g,v]=ge.useState(""),[C,E]=ge.useState(!1),N=ge.useRef(null),L=()=>{var P;(P=N.current)==null||P.scrollIntoView({behavior:"smooth"})};ge.useEffect(L,[h]);const V=async()=>{if(g.trim()===""||C||n.isBanned)return;const P=g,Y={id:Date.now().toString(),role:"user",parts:[{text:P}]};y(X=>[...X,Y]),v(""),E(!0),a(n.id,P),p||o();try{const z=await(p?pg:mg)(n,h,P);E(!1);const oe=Date.now().toString()+"-model";let le={id:oe,role:"model",parts:[{text:""}]};y(ue=>[...ue,le]);for await(const ue of z){const W=ue.text;W&&(le.parts[0].text+=W,y(me=>{const re=[...me],_e=re.findIndex(Ke=>Ke.id===oe);return _e!==-1&&(re[_e]={...le}),re}))}}catch(X){console.error("Chat error:",X);const z={id:Date.now().toString(),role:"model",parts:[{text:"Sorry, I'm having trouble connecting right now."}]};y(oe=>[...oe,z]),E(!1)}},B=_.jsxs("header",{className:"flex items-center justify-between p-3 bg-gray-900 lg:rounded-t-lg border-b border-gray-700",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:`w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-2xl ${n.isBanned?"grayscale":""}`,"aria-label":n.name,children:n.avatar}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-white",children:n.name}),n.isBanned&&_.jsx("p",{className:"text-xs text-red-400 font-bold",children:"BLOCKED"})]})]}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl lg:text-2xl",children:"×"})]});return n.isBanned?_.jsxs("div",{className:"fixed bottom-0 right-0 w-full h-full lg:h-auto lg:w-96 lg:right-[20rem] bg-gray-800 border-t-2 lg:border-2 border-gray-700 lg:rounded-t-lg shadow-2xl flex flex-col z-40",children:[B,_.jsxs("div",{className:"flex-1 p-6 flex flex-col items-center justify-center text-center",children:[_.jsx("span",{className:"text-5xl mb-4",role:"img","aria-label":"Blocked",children:"🚫"}),_.jsx("h4",{className:"font-bold text-lg text-white",children:"You have been blocked"}),_.jsxs("p",{className:"text-gray-400 mt-1",children:["You can no longer send messages to ",n.name,"."]})]})]}):_.jsxs("div",{className:"fixed bottom-0 right-0 w-full h-full lg:h-[32rem] lg:w-96 lg:right-[20rem] bg-gray-800 border-t-2 lg:border-2 border-gray-700 lg:rounded-t-lg shadow-2xl flex flex-col z-40",children:[B,_.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[h.map(P=>{const Y=d[P.id];return _.jsxs("div",{className:`flex gap-3 ${P.role==="user"?"justify-end":"justify-start"}`,children:[P.role==="model"&&_.jsx("span",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-xl self-end","aria-label":n.name,children:n.avatar}),_.jsxs("div",{className:`max-w-xs md:max-w-sm lg:max-w-md rounded-2xl px-4 py-2 ${P.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-gray-700 text-gray-200 rounded-bl-none"}`,children:[_.jsx("p",{className:"whitespace-pre-wrap",children:P.parts[0].text}),Y&&_.jsx("p",{className:"text-blue-200 bg-black/20 p-1.5 mt-2 rounded-md whitespace-pre-wrap text-sm text-right",dir:"rtl",children:Y}),!Y&&P.parts[0].text&&_.jsx("div",{className:"mt-1",children:_.jsx(Gx,{onTranslate:()=>c(P.id,P.parts[0].text)})})]})]},P.id)}),C&&(h.length===0||(($=h[h.length-1])==null?void 0:$.role)==="user")&&_.jsxs("div",{className:"flex gap-3 justify-start",children:[_.jsx("span",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-xl self-end","aria-label":n.name,children:n.avatar}),_.jsx("div",{className:"max-w-xs rounded-2xl px-4 py-2 bg-gray-700 text-gray-200 rounded-bl-none",children:_.jsxs("div",{className:"flex items-center justify-center gap-1",children:[_.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-0"}),_.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-150"}),_.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-300"})]})})]}),_.jsx("div",{ref:N})]}),_.jsx("div",{className:"p-3 border-t border-gray-700",children:_.jsxs("form",{onSubmit:P=>{P.preventDefault(),V()},className:"flex gap-2",children:[_.jsx("input",{type:"text",value:g,onChange:P=>v(P.target.value),placeholder:`Message ${n.name}...`,className:"w-full bg-gray-700 border border-gray-600 rounded-full py-2 px-4 text-sm text-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:C||n.isBanned}),_.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded-full p-2 disabled:bg-gray-500",disabled:C||n.isBanned,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:_.jsx("path",{d:"M3.105 2.289a.75.75 0 00-.826.95l1.414 4.925A1.5 1.5 0 005.135 9.25h6.115a.75.75 0 010 1.5H5.135a1.5 1.5 0 00-1.442 1.086L2.279 16.76a.75.75 0 00.95.826l16-5.333a.75.75 0 000-1.496l-16-5.333z"})})})]})})]})},qx=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),kx=({notifications:n,onAction:e})=>{const[o,a]=ge.useState(!1),c=ge.useRef(null),d=n.filter(p=>p.status==="pending").length;return ge.useEffect(()=>{const p=h=>{c.current&&!c.current.contains(h.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),_.jsxs("div",{className:"relative",ref:c,children:[_.jsxs("button",{onClick:()=>a(!o),className:"relative text-gray-400 hover:text-white p-2 rounded-full",children:[_.jsx(qx,{}),d>0&&_.jsx("span",{className:"absolute top-0 right-0 block h-4 w-4 rounded-full bg-red-500 text-white text-xs",style:{lineHeight:"1rem"},children:d})]}),o&&_.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 border border-gray-700 rounded-lg shadow-2xl z-50",children:[_.jsx("div",{className:"p-3 border-b border-gray-700",children:_.jsx("h3",{className:"font-bold text-white",children:"Notifications"})}),_.jsxs("ul",{className:"py-2 max-h-96 overflow-y-auto",children:[n.length===0&&_.jsx("li",{className:"px-4 py-2 text-sm text-gray-400",children:"No notifications yet."}),n.map(p=>_.jsx("li",{className:"px-4 py-3 border-b border-gray-700/50",children:_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("span",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-xl mt-1 flex-shrink-0",children:p.character.avatar}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("p",{className:"text-sm text-gray-200",children:[_.jsx("strong",{className:"font-semibold text-white",children:p.character.name})," wants to post an image for: ",_.jsxs("em",{className:"text-gray-300",children:['"',p.postContent,'"']})]}),_.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:['Prompt: "',p.imagePrompt,'"']}),p.status==="pending"&&_.jsxs("div",{className:"flex gap-2 mt-2",children:[_.jsx("button",{onClick:()=>e(p.id,!0),className:"text-xs bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded",children:"Approve"}),_.jsx("button",{onClick:()=>e(p.id,!1),className:"text-xs bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded",children:"Reject"})]}),p.status==="approved"&&_.jsx("p",{className:"text-xs text-green-400 mt-2 font-semibold",children:"Approved"}),p.status==="rejected"&&_.jsx("p",{className:"text-xs text-red-400 mt-2 font-semibold",children:"Rejected"})]})]})},p.id))]})]})]})},Px=({isEnabled:n,onToggle:e,label:o,description:a,disabled:c=!1})=>_.jsxs("div",{className:"flex items-center justify-between py-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:`font-semibold ${c?"text-gray-500":"text-white"}`,children:o}),_.jsx("p",{className:"text-sm text-gray-400",children:a})]}),_.jsx("button",{type:"button",role:"switch","aria-checked":n,onClick:e,disabled:c,className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-blue-500 ${n?"bg-blue-600":"bg-gray-600"} ${c?"opacity-50 cursor-not-allowed":""}`,children:_.jsx("span",{"aria-hidden":"true",className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]}),Bx=({isOpen:n,onClose:e,useFreeModel:o,onToggleFreeModel:a,apiCallCount:c})=>{const d=c>=Hn;return _.jsx(cr,{isOpen:n,onClose:e,title:"Settings",children:_.jsxs("div",{className:"space-y-2",children:[_.jsx("p",{className:"text-gray-300",children:"Adjust application settings here."}),_.jsx("div",{className:"border-t border-gray-700 mt-4",children:_.jsx(Px,{isEnabled:o,onToggle:a,label:"Use Free AI Model",description:"Uses a mock AI for unlimited, free interactions. Responses are simple and not from a real AI.",disabled:d})}),d?_.jsx("div",{className:"p-3 bg-yellow-900/50 border border-yellow-700 rounded-lg",children:_.jsx("p",{className:"text-sm text-yellow-200",children:"API call limit reached. The app has automatically switched to the Free AI Model to continue running."})}):o&&_.jsx("div",{className:"p-3 bg-blue-900/50 border border-blue-700 rounded-lg",children:_.jsx("p",{className:"text-sm text-blue-200",children:"Free AI Model is active. API calls will not be counted."})})]})})},fr=(n,e,o)=>{let a=null;return{comments:n.map(d=>{if(d.id===e)return a=d.author,{...d,replies:[...d.replies,o]};if(d.replies.length>0){const p=fr(d.replies,e,o);return p.parentAuthor&&(a=p.parentAuthor),{...d,replies:p.comments}}return d}),parentAuthor:a}},zx=()=>{const[n,e]=ge.useState(Ky),[o,a]=ge.useState([]),[c,d]=ge.useState([]),[p,h]=ge.useState(!1),[y,g]=ge.useState(["Welcome to AIBook! Press 'Start Sim' to begin."]),[v,C]=ge.useState(0),[E,N]=ge.useState([]),[L,V]=ge.useState(null),[B,$]=ge.useState(!1),[P,Y]=ge.useState(!1),[X,z]=ge.useState({}),[oe,le]=ge.useState(!1),[ue,W]=ge.useState(!1),me={id:"user_annas",name:"Annas",avatar:"👤",personality:"The user",interests:[],angerLevel:0,isBanned:!1,recentEvents:[]},re=ge.useRef(null),_e=ge.useRef(c),Ke=ge.useRef(n),pt=ge.useRef(o);ge.useEffect(()=>{_e.current=c,Ke.current=n,pt.current=o},[c,n,o]);const ve=ue?Ax:mx,U=ge.useCallback(te=>{g(Te=>[...Te.slice(-100),te])},[]),F=ge.useCallback((te,Te)=>{e(J=>J.map(fe=>fe.id===te?{...fe,recentEvents:[...fe.recentEvents.slice(-5),Te]}:fe))},[]),ne=ge.useCallback((te=1)=>{C(Te=>{const J=Te+te;return J>=Hn&&!ue&&(U("API call limit reached. Switching to Free AI Model to continue simulation."),W(!0)),J})},[ue,U]),he=ge.useCallback((te=1)=>{ue||ne(te)},[ue,ne]),M=ge.useCallback(async()=>{if(!(!ue&&v>=Hn))for(let te=0;te<1&&!(!ue&&v+te*2>=Hn);te++){const Te=Ke.current.filter(fe=>fe.id!=="user_annas");if(Te.length===0)continue;const J=Te[Math.floor(Math.random()*Te.length)];he(),U(`${J.name} is thinking...`);try{const fe=await ve.decideNextAction(J,Ke.current,_e.current,pt.current);switch(U(`${J.name} ${fe.reasoning}`),fe.action){case"POST":{he();const{content:ee}=await ve.generatePost(J,Ke.current),ae={id:Date.now().toString(),author:J,content:ee,reactions:[],comments:[],timestamp:new Date().toLocaleString()};d(xe=>[ae,...xe]),U(`${J.name} created a new post.`);break}case"POST_IMAGE":{he();const{prompt:ee,content:ae}=await ve.generateImagePost(J),xe={id:Date.now().toString(),type:"image_request",character:J,imagePrompt:ee,postContent:ae,status:"pending"};N(Xe=>[xe,...Xe]),U(`${J.name} wants to post an image: "${ae}". Check notifications to approve.`);break}case"COMMENT":{const ee=_e.current.find(ae=>ae.id===fe.targetId);if(ee){he();const ae=await ve.generateComment(J,ee,Ke.current),xe={id:Date.now().toString(),author:J,content:ae,replies:[]};d(Xe=>Xe.map(Fe=>Fe.id===ee.id?{...Fe,comments:[...Fe.comments,xe]}:Fe)),U(`${J.name} commented on ${ee.author.name}'s post.`),ee.author.id!==J.id&&F(ee.author.id,`${J.name} commented on your post.`)}break}case"REPLY_TO_COMMENT":{const{targetId:ee,targetSubId:ae}=fe,xe=_e.current.find(Xe=>Xe.id===ee);if(xe&&ae){he();let Xe;const Fe=qn=>{for(const fn of qn){if(fn.id===ae)return fn;const fi=Fe(fn.replies);if(fi)return fi}};if(Xe=Fe(xe.comments),Xe){const qn=await ve.generateComment(J,xe,Ke.current,Xe),fn={id:Date.now().toString(),author:J,content:qn,replies:[]},{comments:fi,parentAuthor:so}=fr(xe.comments,ae,fn);d(kn=>kn.map(ot=>ot.id===ee?{...ot,comments:fi}:ot)),U(`${J.name} replied to ${Xe.author.name}'s comment.`),so&&so.id!==J.id&&F(so.id,`${J.name} replied to your comment.`)}}break}case"REACT":{const ee=_e.current.find(ae=>ae.id===fe.targetId);if(ee){he();const ae=await ve.generateReaction(J,ee),xe={id:Date.now().toString(),author:J,type:ae};d(Xe=>Xe.map(Fe=>Fe.id===ee.id?{...Fe,reactions:[...Fe.reactions.filter(qn=>qn.author.id!==J.id),xe]}:Fe)),U(`${J.name} reacted to ${ee.author.name}'s post with: ${ae}.`),ee.author.id!==J.id&&F(ee.author.id,`${J.name} reacted "${ae}" to your post.`)}break}case"CREATE_GROUP":{he();const ee=await ve.generateGroupDetails(J),ae={id:Date.now().toString(),name:ee.name,description:ee.description,createdBy:J,members:[J]};a(xe=>[...xe,ae]),U(`${J.name} created a new group: "${ee.name}".`);break}case"JOIN_GROUP":{const ee=pt.current.find(ae=>ae.id===fe.targetId);ee&&!ee.members.some(ae=>ae.id===J.id)&&(a(ae=>ae.map(xe=>xe.id===ee.id?{...xe,members:[...xe.members,J]}:xe)),U(`${J.name} joined the group "${ee.name}".`));break}}}catch(fe){console.error("Simulation step failed:",fe),U(`An error occurred with ${J.name}'s action.`)}}},[v,he,F,ve,ue,U]);ge.useEffect(()=>{const te=ue?!0:v<Hn;return p&&n.length>0&&te?re.current=window.setInterval(M,8e3):re.current&&(clearInterval(re.current),re.current=null,p&&!te?U("AI simulation paused as API limit is reached and free model is not active."):p&&U("AI simulation paused.")),()=>{re.current&&clearInterval(re.current)}},[p,M,n,v,ue]);const k=()=>h(te=>!te),K=(te,Te)=>{d(J=>J.map(fe=>{if(fe.id===te){const ee=fe.reactions.find(ae=>ae.author.id===me.id);return ee?ee.type===Te?{...fe,reactions:fe.reactions.filter(ae=>ae.author.id!==me.id)}:{...fe,reactions:fe.reactions.map(ae=>ae.author.id===me.id?{...ae,type:Te}:ae)}:{...fe,reactions:[...fe.reactions,{id:Date.now().toString(),author:me,type:Te}]}}return fe}))},O=(te,Te,J)=>{const fe=c.find(ae=>ae.id===te);if(!fe)return;const ee={id:Date.now().toString(),author:me,content:Te,replies:[]};if(J){const{comments:ae,parentAuthor:xe}=fr(fe.comments,J,ee);d(Xe=>Xe.map(Fe=>Fe.id===te?{...Fe,comments:ae}:Fe)),xe&&(U(`You replied to ${xe.name}'s comment.`),F(xe.id,"The user replied to your comment."))}else d(ae=>ae.map(xe=>xe.id===te?{...xe,comments:[...xe.comments,ee]}:xe)),U(`You commented on ${fe.author.name}'s post.`),F(fe.author.id,"The user commented on your post.")},ie=te=>{const Te={id:Date.now().toString(),author:me,content:te,reactions:[],comments:[],timestamp:new Date().toLocaleString()};d(J=>[Te,...J]),U("You created a new post.")},Me=ge.useCallback(async(te,Te)=>{if(!(X[te]||!Te)){he(),U("Translating text...");try{const J=await ve.translateToArabic(Te);z(fe=>({...fe,[te]:J||"(Translation not available)"}))}catch(J){console.error("Translation failed",J),U("Translation failed.")}}},[he,X,ve,U]),pe=ge.useCallback(async(te,Te)=>{const J=Ke.current.find(ee=>ee.id===te);if(!J||J.isBanned)return;he();const{isNegative:fe}=await ve.analyzeSentimentAndAnger(J,Te);fe&&(F(te,`The user said something hurtful to me: "${Te}"`),e(ee=>ee.map(ae=>{if(ae.id===te){const xe=ae.angerLevel+1,Xe=xe>=3;return U(`${ae.name}'s anger towards you has increased to ${xe}.`),Xe&&U(`[CRITICAL] ${ae.name} has had enough and blocked you!`),{...ae,angerLevel:xe,isBanned:Xe}}return ae})))},[he,F,ve,U]),dt=async(te,Te)=>{const J=E.find(fe=>fe.id===te);if(!(!J||J.status!=="pending"))if(N(fe=>fe.map(ee=>ee.id===te?{...ee,status:Te?"approved":"rejected"}:ee)),Te){U(`Approving ${J.character.name}'s image post...`),he();try{const fe=await ve.generateImage(J.imagePrompt),ee={id:Date.now().toString(),author:J.character,content:J.postContent,imageUrl:fe,reactions:[],comments:[],timestamp:new Date().toLocaleString()};d(ae=>[ee,...ae]),U(`${J.character.name}'s image post was created.`)}catch(fe){console.error("Image generation failed:",fe),U(`Image generation failed for ${J.character.name}.`),F(J.character.id,"My image post failed to generate after being approved.")}}else U(`You rejected ${J.character.name}'s image post.`),F(J.character.id,"The user rejected my image post request.")},Ge=te=>{const Te=o.find(J=>J.id===te);Te&&!Te.members.some(J=>J.id===me.id)&&(a(J=>J.map(fe=>fe.id===te?{...fe,members:[...fe.members,me]}:fe)),U(`You joined the group "${Te.name}".`))},Bt=te=>{te==="characters"&&$(!0),te==="logs"&&Y(!0)},ui=te=>{V(te),$(!1)},ri=()=>{if(v>=Hn){U("Cannot switch back to Real AI model, API limit reached.");return}const Te=!ue;W(Te),U(Te?"Switched to Free AI Model. No API calls will be made.":"Switched back to Gemini AI Model. API calls will resume.")},ci=n.find(te=>te.id===(L==null?void 0:L.id))||L;return _.jsxs("div",{className:"min-h-screen bg-gray-900 font-sans",children:[_.jsx(Mx,{isSimulationRunning:p,toggleSimulation:k,apiCallCount:v,onOpenSettings:()=>le(!0),useFreeModel:ue,children:_.jsx(kx,{notifications:E,onAction:dt})}),_.jsxs("div",{className:"pt-20 lg:flex",children:[_.jsx("div",{className:"hidden lg:block",children:_.jsx(Vp,{characters:n.filter(te=>te.id!=="user_annas"),groups:o,onCharacterSelect:ui,onJoinGroup:Ge,currentUser:me,activeChatCharacterId:L==null?void 0:L.id})}),_.jsx("main",{className:"lg:ml-64 w-full pb-20 lg:pb-4",children:_.jsx(wx,{posts:c,onReact:K,onComment:O,onPost:ie,currentUser:me,onTranslate:Me,translations:X,allCharacters:n})})]}),_.jsx(Ux,{logs:y}),_.jsx("div",{className:"lg:hidden",children:_.jsx(Vx,{onNavClick:Bt})}),ci&&_.jsx(Hx,{character:ci,onClose:()=>V(null),incrementApiCount:ne,onProvoke:pe,onTranslate:Me,translations:X,useFreeModel:ue}),_.jsx(cr,{isOpen:B,onClose:()=>$(!1),title:"Characters",children:_.jsx("div",{className:"max-h-[70vh] overflow-y-auto -m-4",children:_.jsx(Vp,{characters:n.filter(te=>te.id!=="user_annas"),groups:o,onCharacterSelect:ui,onJoinGroup:Ge,currentUser:me,activeChatCharacterId:L==null?void 0:L.id})})}),_.jsx(cr,{isOpen:P,onClose:()=>Y(!1),title:"AI Action Log",children:_.jsx("div",{className:"max-h-[60vh] overflow-y-auto bg-gray-900 rounded-lg p-3",children:_.jsx("ul",{className:"space-y-2 text-sm",children:y.map((te,Te)=>_.jsxs("li",{className:"text-gray-400",children:[_.jsx("span",{className:"text-cyan-400 mr-1.5",children:`[${new Date().toLocaleTimeString()}]`}),te]},Te))})})}),_.jsx(Bx,{isOpen:oe,onClose:()=>le(!1),useFreeModel:ue,onToggleFreeModel:ri,apiCallCount:v})]})},Tg=document.getElementById("root");if(!Tg)throw new Error("Could not find root element to mount to");const Yx=$y.createRoot(Tg);Yx.render(_.jsx(ky.StrictMode,{children:_.jsx(zx,{})}));
